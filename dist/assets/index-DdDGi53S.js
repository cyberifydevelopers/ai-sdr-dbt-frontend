var O9=Object.defineProperty;var M9=(e,t,n)=>t in e?O9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var iv=(e,t,n)=>M9(e,typeof t!="symbol"?t+"":t,n);function D9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lv={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function R9(){if(Z_)return Ku;Z_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Ku.Fragment=t,Ku.jsx=n,Ku.jsxs=n,Ku}var Q_;function L9(){return Q_||(Q_=1,lv.exports=R9()),lv.exports}var a=L9(),ov={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function $9(){if(J_)return et;J_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function g(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(T,R,I){this.props=T,this.context=R,this.refs=j,this.updater=I||b}S.prototype.isReactComponent={},S.prototype.setState=function(T,R){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,R,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function _(){}_.prototype=S.prototype;function C(T,R,I){this.props=T,this.context=R,this.refs=j,this.updater=I||b}var k=C.prototype=new _;k.constructor=C,w(k,S.prototype),k.isPureReactComponent=!0;var O=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function L(T,R,I,W,ce,B){return I=B.ref,{$$typeof:e,type:T,key:R,ref:I!==void 0?I:null,props:B}}function M(T,R){return L(T.type,R,void 0,void 0,void 0,T.props)}function V(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function G(T){var R={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(I){return R[I]})}var H=/\/+/g;function U(T,R){return typeof T=="object"&&T!==null&&T.key!=null?G(""+T.key):R.toString(36)}function ne(){}function we(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ne,ne):(T.status="pending",T.then(function(R){T.status==="pending"&&(T.status="fulfilled",T.value=R)},function(R){T.status==="pending"&&(T.status="rejected",T.reason=R)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ae(T,R,I,W,ce){var B=typeof T;(B==="undefined"||B==="boolean")&&(T=null);var $=!1;if(T===null)$=!0;else switch(B){case"bigint":case"string":case"number":$=!0;break;case"object":switch(T.$$typeof){case e:case t:$=!0;break;case h:return $=T._init,ae($(T._payload),R,I,W,ce)}}if($)return ce=ce(T),$=W===""?"."+U(T,0):W,O(ce)?(I="",$!=null&&(I=$.replace(H,"$&/")+"/"),ae(ce,R,I,"",function(pe){return pe})):ce!=null&&(V(ce)&&(ce=M(ce,I+(ce.key==null||T&&T.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+$)),R.push(ce)),1;$=0;var ie=W===""?".":W+":";if(O(T))for(var te=0;te<T.length;te++)W=T[te],B=ie+U(W,te),$+=ae(W,R,I,B,ce);else if(te=g(T),typeof te=="function")for(T=te.call(T),te=0;!(W=T.next()).done;)W=W.value,B=ie+U(W,te++),$+=ae(W,R,I,B,ce);else if(B==="object"){if(typeof T.then=="function")return ae(we(T),R,I,W,ce);throw R=String(T),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return $}function D(T,R,I){if(T==null)return T;var W=[],ce=0;return ae(T,W,"","",function(B){return R.call(I,B,ce++)}),W}function K(T){if(T._status===-1){var R=T._result;R=R(),R.then(function(I){(T._status===0||T._status===-1)&&(T._status=1,T._result=I)},function(I){(T._status===0||T._status===-1)&&(T._status=2,T._result=I)}),T._status===-1&&(T._status=0,T._result=R)}if(T._status===1)return T._result.default;throw T._result}var q=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function F(){}return et.Children={map:D,forEach:function(T,R,I){D(T,function(){R.apply(this,arguments)},I)},count:function(T){var R=0;return D(T,function(){R++}),R},toArray:function(T){return D(T,function(R){return R})||[]},only:function(T){if(!V(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},et.Component=S,et.Fragment=n,et.Profiler=s,et.PureComponent=C,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,et.__COMPILER_RUNTIME={__proto__:null,c:function(T){return A.H.useMemoCache(T)}},et.cache=function(T){return function(){return T.apply(null,arguments)}},et.cloneElement=function(T,R,I){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=w({},T.props),ce=T.key,B=void 0;if(R!=null)for($ in R.ref!==void 0&&(B=void 0),R.key!==void 0&&(ce=""+R.key),R)!E.call(R,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&R.ref===void 0||(W[$]=R[$]);var $=arguments.length-2;if($===1)W.children=I;else if(1<$){for(var ie=Array($),te=0;te<$;te++)ie[te]=arguments[te+2];W.children=ie}return L(T.type,ce,void 0,void 0,B,W)},et.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},et.createElement=function(T,R,I){var W,ce={},B=null;if(R!=null)for(W in R.key!==void 0&&(B=""+R.key),R)E.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=R[W]);var $=arguments.length-2;if($===1)ce.children=I;else if(1<$){for(var ie=Array($),te=0;te<$;te++)ie[te]=arguments[te+2];ce.children=ie}if(T&&T.defaultProps)for(W in $=T.defaultProps,$)ce[W]===void 0&&(ce[W]=$[W]);return L(T,B,void 0,void 0,null,ce)},et.createRef=function(){return{current:null}},et.forwardRef=function(T){return{$$typeof:d,render:T}},et.isValidElement=V,et.lazy=function(T){return{$$typeof:h,_payload:{_status:-1,_result:T},_init:K}},et.memo=function(T,R){return{$$typeof:m,type:T,compare:R===void 0?null:R}},et.startTransition=function(T){var R=A.T,I={};A.T=I;try{var W=T(),ce=A.S;ce!==null&&ce(I,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(F,q)}catch(B){q(B)}finally{A.T=R}},et.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},et.use=function(T){return A.H.use(T)},et.useActionState=function(T,R,I){return A.H.useActionState(T,R,I)},et.useCallback=function(T,R){return A.H.useCallback(T,R)},et.useContext=function(T){return A.H.useContext(T)},et.useDebugValue=function(){},et.useDeferredValue=function(T,R){return A.H.useDeferredValue(T,R)},et.useEffect=function(T,R,I){var W=A.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(T,R)},et.useId=function(){return A.H.useId()},et.useImperativeHandle=function(T,R,I){return A.H.useImperativeHandle(T,R,I)},et.useInsertionEffect=function(T,R){return A.H.useInsertionEffect(T,R)},et.useLayoutEffect=function(T,R){return A.H.useLayoutEffect(T,R)},et.useMemo=function(T,R){return A.H.useMemo(T,R)},et.useOptimistic=function(T,R){return A.H.useOptimistic(T,R)},et.useReducer=function(T,R,I){return A.H.useReducer(T,R,I)},et.useRef=function(T){return A.H.useRef(T)},et.useState=function(T){return A.H.useState(T)},et.useSyncExternalStore=function(T,R,I){return A.H.useSyncExternalStore(T,R,I)},et.useTransition=function(){return A.H.useTransition()},et.version="19.1.0",et}var e5;function Oc(){return e5||(e5=1,ov.exports=$9()),ov.exports}var v=Oc();const pt=Ma(v),I9=D9({__proto__:null,default:pt},[v]);var cv={exports:{}},Gu={},uv={exports:{}},dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function z9(){return t5||(t5=1,function(e){function t(D,K){var q=D.length;D.push(K);e:for(;0<q;){var F=q-1>>>1,T=D[F];if(0<s(T,K))D[F]=K,D[q]=T,q=F;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],q=D.pop();if(q!==K){D[0]=q;e:for(var F=0,T=D.length,R=T>>>1;F<R;){var I=2*(F+1)-1,W=D[I],ce=I+1,B=D[ce];if(0>s(W,q))ce<T&&0>s(B,W)?(D[F]=B,D[ce]=q,F=ce):(D[F]=W,D[I]=q,F=I);else if(ce<T&&0>s(B,q))D[F]=B,D[ce]=q,F=ce;else break e}}return K}function s(D,K){var q=D.sortIndex-K.sortIndex;return q!==0?q:D.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,g=3,b=!1,w=!1,j=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var K=n(m);K!==null;){if(K.callback===null)r(m);else if(K.startTime<=D)r(m),K.sortIndex=K.expirationTime,t(f,K);else break;K=n(m)}}function A(D){if(j=!1,O(D),!w)if(n(f)!==null)w=!0,E||(E=!0,U());else{var K=n(m);K!==null&&ae(A,K.startTime-D)}}var E=!1,L=-1,M=5,V=-1;function G(){return S?!0:!(e.unstable_now()-V<M)}function H(){if(S=!1,E){var D=e.unstable_now();V=D;var K=!0;try{e:{w=!1,j&&(j=!1,C(L),L=-1),b=!0;var q=g;try{t:{for(O(D),x=n(f);x!==null&&!(x.expirationTime>D&&G());){var F=x.callback;if(typeof F=="function"){x.callback=null,g=x.priorityLevel;var T=F(x.expirationTime<=D);if(D=e.unstable_now(),typeof T=="function"){x.callback=T,O(D),K=!0;break t}x===n(f)&&r(f),O(D)}else r(f);x=n(f)}if(x!==null)K=!0;else{var R=n(m);R!==null&&ae(A,R.startTime-D),K=!1}}break e}finally{x=null,g=q,b=!1}K=void 0}}finally{K?U():E=!1}}}var U;if(typeof k=="function")U=function(){k(H)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,we=ne.port2;ne.port1.onmessage=H,U=function(){we.postMessage(null)}}else U=function(){_(H,0)};function ae(D,K){L=_(function(){D(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var q=g;g=K;try{return D()}finally{g=q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=g;g=D;try{return K()}finally{g=q}},e.unstable_scheduleCallback=function(D,K,q){var F=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=q+T,D={id:h++,callback:K,priorityLevel:D,startTime:q,expirationTime:T,sortIndex:-1},q>F?(D.sortIndex=q,t(m,D),n(f)===null&&D===n(m)&&(j?(C(L),L=-1):j=!0,ae(A,q-F))):(D.sortIndex=T,t(f,D),w||b||(w=!0,E||(E=!0,U()))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var K=g;return function(){var q=g;g=K;try{return D.apply(this,arguments)}finally{g=q}}}}(dv)),dv}var n5;function B9(){return n5||(n5=1,uv.exports=z9()),uv.exports}var fv={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5;function U9(){if(r5)return Un;r5=1;var e=Oc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Un.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Un.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),g=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:x,integrity:g,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Un.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Un.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Un.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,m){return f(m)},Un.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Un.useFormStatus=function(){return c.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var a5;function r6(){if(a5)return fv.exports;a5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fv.exports=U9(),fv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5;function F9(){if(s5)return Gu;s5=1;var e=B9(),t=Oc(),n=r6();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return d(y),i;if(N===p)return d(y),o;N=N.sibling}throw Error(r(188))}if(u.return!==p.return)u=y,p=N;else{for(var P=!1,z=y.child;z;){if(z===u){P=!0,u=y,p=N;break}if(z===p){P=!0,p=y,u=N;break}z=z.sibling}if(!P){for(z=N.child;z;){if(z===u){P=!0,u=N,p=y;break}if(z===p){P=!0,p=N,u=y;break}z=z.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ne?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case k:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return o=i.displayName||null,o!==null?o:we(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return we(i(o))}catch{}}return null}var ae=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},F=[],T=-1;function R(i){return{current:i}}function I(i){0>T||(i.current=F[T],F[T]=null,T--)}function W(i,o){T++,F[T]=i.current,i.current=o}var ce=R(null),B=R(null),$=R(null),ie=R(null);function te(i,o){switch(W($,o),W(B,i),W(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?__(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=__(o),i=C_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}I(ce),W(ce,i)}function pe(){I(ce),I(B),I($)}function be(i){i.memoizedState!==null&&W(ie,i);var o=ce.current,u=C_(o,i.type);o!==u&&(W(B,i),W(ce,u))}function je(i){B.current===i&&(I(ce),I(B)),ie.current===i&&(I(ie),Uu._currentValue=q)}var de=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,X=e.unstable_requestPaint,fe=e.unstable_now,Z=e.unstable_getCurrentPriorityLevel,Ne=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,Je=e.unstable_IdlePriority,Ye=e.log,vt=e.unstable_setDisableYieldValue,Ht=null,It=null;function un(i){if(typeof Ye=="function"&&vt(i),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ht,i)}catch{}}var mt=Math.clz32?Math.clz32:Js,Vr=Math.log,Qs=Math.LN2;function Js(i){return i>>>=0,i===0?32:31-(Vr(i)/Qs|0)|0}var La=256,$a=4194304;function Xn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Zn(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var y=0,N=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var z=p&134217727;return z!==0?(p=z&~N,p!==0?y=Xn(p):(P&=z,P!==0?y=Xn(P):u||(u=z&~i,u!==0&&(y=Xn(u))))):(z=p&~N,z!==0?y=Xn(z):P!==0?y=Xn(P):u||(u=p&~i,u!==0&&(y=Xn(u)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:y}function lr(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ei(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var i=La;return La<<=1,(La&4194048)===0&&(La=256),i}function Q(){var i=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),i}function ee(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function se(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $e(i,o,u,p,y,N){var P=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var z=i.entanglements,J=i.expirationTimes,he=i.hiddenUpdates;for(u=P&~u;0<u;){var Se=31-mt(u),Ce=1<<Se;z[Se]=0,J[Se]=-1;var xe=he[Se];if(xe!==null)for(he[Se]=null,Se=0;Se<xe.length;Se++){var ve=xe[Se];ve!==null&&(ve.lane&=-536870913)}u&=~Ce}p!==0&&Ke(i,p,0),N!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=N&~(P&~o))}function Ke(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-mt(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function lt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-mt(u),y=1<<p;y&o|i[p]&o&&(i[p]|=o),u&=~y}}function Qe(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ct(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:q_(i.type))}function xa(i,o){var u=K.p;try{return K.p=i,o()}finally{K.p=u}}var dn=Math.random().toString(36).slice(2),yt="__reactFiber$"+dn,Zt="__reactProps$"+dn,as="__reactContainer$"+dn,so="__reactEvents$"+dn,Df="__reactListeners$"+dn,Rf="__reactHandles$"+dn,Qc="__reactResources$"+dn,ti="__reactMarker$"+dn;function io(i){delete i[yt],delete i[Zt],delete i[so],delete i[Df],delete i[Rf]}function ss(i){var o=i[yt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[as]||u[yt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=T_(i);i!==null;){if(u=i[yt])return u;i=T_(i)}return o}i=u,u=i.parentNode}return null}function is(i){if(i=i[yt]||i[as]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ni(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ls(i){var o=i[Qc];return o||(o=i[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function oe(i){i[ti]=!0}var ke=new Set,Le={};function Pe(i,o){Me(i,o),Me(i+"Capture",o)}function Me(i,o){for(Le[i]=o,i=0;i<o.length;i++)ke.add(o[i])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},Jc={};function _L(i){return de.call(Jc,i)?!0:de.call(Qn,i)?!1:ot.test(i)?Jc[i]=!0:(Qn[i]=!0,!1)}function Lf(i,o,u){if(_L(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function $f(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function os(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var ex,vN;function lo(i){if(ex===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ex=o&&o[1]||"",vN=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ex+i+vN}var tx=!1;function nx(i,o){if(!i||tx)return"";tx=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ve){var xe=ve}Reflect.construct(i,[],Ce)}else{try{Ce.call()}catch(ve){xe=ve}i.call(Ce.prototype)}}else{try{throw Error()}catch(ve){xe=ve}(Ce=i())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ve){if(ve&&xe&&typeof ve.stack=="string")return[ve.stack,xe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],z=N[1];if(P&&z){var J=P.split(`
`),he=z.split(`
`);for(y=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;y<he.length&&!he[y].includes("DetermineComponentFrameRoot");)y++;if(p===J.length||y===he.length)for(p=J.length-1,y=he.length-1;1<=p&&0<=y&&J[p]!==he[y];)y--;for(;1<=p&&0<=y;p--,y--)if(J[p]!==he[y]){if(p!==1||y!==1)do if(p--,y--,0>y||J[p]!==he[y]){var Se=`
`+J[p].replace(" at new "," at ");return i.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",i.displayName)),Se}while(1<=p&&0<=y);break}}}finally{tx=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?lo(u):""}function CL(i){switch(i.tag){case 26:case 27:case 5:return lo(i.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 15:return nx(i.type,!1);case 11:return nx(i.type.render,!1);case 1:return nx(i.type,!0);case 31:return lo("Activity");default:return""}}function yN(i){try{var o="";do o+=CL(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Hr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kL(i){var o=bN(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,N.call(this,P)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function If(i){i._valueTracker||(i._valueTracker=kL(i))}function wN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=bN(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function zf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var AL=/[\n"\\]/g;function qr(i){return i.replace(AL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function rx(i,o,u,p,y,N,P,z){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),o!=null?P==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Hr(o)):i.value!==""+Hr(o)&&(i.value=""+Hr(o)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),o!=null?ax(i,P,Hr(o)):u!=null?ax(i,P,Hr(u)):p!=null&&i.removeAttribute("value"),y==null&&N!=null&&(i.defaultChecked=!!N),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+Hr(z):i.removeAttribute("name")}function jN(i,o,u,p,y,N,P,z){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+Hr(u):"",o=o!=null?""+Hr(o):u,z||o===i.value||(i.value=o),i.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=z?i.checked:!!p,i.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P)}function ax(i,o,u){o==="number"&&zf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function oo(i,o,u,p){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Hr(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function NN(i,o,u){if(o!=null&&(o=""+Hr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Hr(u):""}function SN(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(ae(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Hr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function co(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var EL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _N(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||EL.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function CN(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&_N(i,y,p)}else for(var N in o)o.hasOwnProperty(N)&&_N(i,N,o[N])}function sx(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bf(i){return PL.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ix=null;function lx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,fo=null;function kN(i){var o=is(i);if(o&&(i=o.stateNode)){var u=i[Zt]||null;e:switch(i=o.stateNode,o.type){case"input":if(rx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var y=p[Zt]||null;if(!y)throw Error(r(90));rx(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&wN(p)}break e;case"textarea":NN(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&oo(i,!!u.multiple,o,!1)}}}var ox=!1;function AN(i,o,u){if(ox)return i(o,u);ox=!0;try{var p=i(o);return p}finally{if(ox=!1,(uo!==null||fo!==null)&&(_m(),uo&&(o=uo,i=fo,fo=uo=null,kN(o),i)))for(o=0;o<i.length;o++)kN(i[o])}}function eu(i,o){var u=i.stateNode;if(u===null)return null;var p=u[Zt]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cx=!1;if(cs)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){cx=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{cx=!1}var ri=null,ux=null,Uf=null;function EN(){if(Uf)return Uf;var i,o=ux,u=o.length,p,y="value"in ri?ri.value:ri.textContent,N=y.length;for(i=0;i<u&&o[i]===y[i];i++);var P=u-i;for(p=1;p<=P&&o[u-p]===y[N-p];p++);return Uf=y.slice(i,1<p?1-p:void 0)}function Ff(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Vf(){return!0}function TN(){return!1}function or(i){function o(u,p,y,N,P){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(N):N[z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vf:TN,this.isPropagationStopped=TN,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),o}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hf=or(nl),nu=h({},nl,{view:0,detail:0}),OL=or(nu),dx,fx,ru,qf=h({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ru&&(ru&&i.type==="mousemove"?(dx=i.screenX-ru.screenX,fx=i.screenY-ru.screenY):fx=dx=0,ru=i),dx)},movementY:function(i){return"movementY"in i?i.movementY:fx}}),PN=or(qf),ML=h({},qf,{dataTransfer:0}),DL=or(ML),RL=h({},nu,{relatedTarget:0}),mx=or(RL),LL=h({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),$L=or(LL),IL=h({},nl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zL=or(IL),BL=h({},nl,{data:0}),ON=or(BL),UL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=VL[i])?!!o[i]:!1}function hx(){return HL}var qL=h({},nu,{key:function(i){if(i.key){var o=UL[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ff(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?FL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hx,charCode:function(i){return i.type==="keypress"?Ff(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ff(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),KL=or(qL),GL=h({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MN=or(GL),YL=h({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hx}),WL=or(YL),XL=h({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=or(XL),QL=h({},qf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),JL=or(QL),e$=h({},nl,{newState:0,oldState:0}),t$=or(e$),n$=[9,13,27,32],px=cs&&"CompositionEvent"in window,au=null;cs&&"documentMode"in document&&(au=document.documentMode);var r$=cs&&"TextEvent"in window&&!au,DN=cs&&(!px||au&&8<au&&11>=au),RN=" ",LN=!1;function $N(i,o){switch(i){case"keyup":return n$.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mo=!1;function a$(i,o){switch(i){case"compositionend":return IN(o);case"keypress":return o.which!==32?null:(LN=!0,RN);case"textInput":return i=o.data,i===RN&&LN?null:i;default:return null}}function s$(i,o){if(mo)return i==="compositionend"||!px&&$N(i,o)?(i=EN(),Uf=ux=ri=null,mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return DN&&o.locale!=="ko"?null:o.data;default:return null}}var i$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!i$[i.type]:o==="textarea"}function BN(i,o,u,p){uo?fo?fo.push(p):fo=[p]:uo=p,o=Pm(o,"onChange"),0<o.length&&(u=new Hf("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var su=null,iu=null;function l$(i){b_(i,0)}function Kf(i){var o=ni(i);if(wN(o))return i}function UN(i,o){if(i==="change")return o}var FN=!1;if(cs){var xx;if(cs){var gx="oninput"in document;if(!gx){var VN=document.createElement("div");VN.setAttribute("oninput","return;"),gx=typeof VN.oninput=="function"}xx=gx}else xx=!1;FN=xx&&(!document.documentMode||9<document.documentMode)}function HN(){su&&(su.detachEvent("onpropertychange",qN),iu=su=null)}function qN(i){if(i.propertyName==="value"&&Kf(iu)){var o=[];BN(o,iu,i,lx(i)),AN(l$,o)}}function o$(i,o,u){i==="focusin"?(HN(),su=o,iu=u,su.attachEvent("onpropertychange",qN)):i==="focusout"&&HN()}function c$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kf(iu)}function u$(i,o){if(i==="click")return Kf(o)}function d$(i,o){if(i==="input"||i==="change")return Kf(o)}function f$(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var br=typeof Object.is=="function"?Object.is:f$;function lu(i,o){if(br(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!de.call(o,y)||!br(i[y],o[y]))return!1}return!0}function KN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function GN(i,o){var u=KN(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=KN(u)}}function YN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?YN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function WN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=zf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=zf(i.document)}return o}function vx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var m$=cs&&"documentMode"in document&&11>=document.documentMode,ho=null,yx=null,ou=null,bx=!1;function XN(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bx||ho==null||ho!==zf(p)||(p=ho,"selectionStart"in p&&vx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ou&&lu(ou,p)||(ou=p,p=Pm(yx,"onSelect"),0<p.length&&(o=new Hf("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=ho)))}function rl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var po={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},wx={},ZN={};cs&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function al(i){if(wx[i])return wx[i];if(!po[i])return i;var o=po[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in ZN)return wx[i]=o[u];return i}var QN=al("animationend"),JN=al("animationiteration"),eS=al("animationstart"),h$=al("transitionrun"),p$=al("transitionstart"),x$=al("transitioncancel"),tS=al("transitionend"),nS=new Map,jx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jx.push("scrollEnd");function ga(i,o){nS.set(i,o),Pe(o,[i])}var rS=new WeakMap;function Kr(i,o){if(typeof i=="object"&&i!==null){var u=rS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:yN(o)},rS.set(i,o),o)}return{value:i,source:o,stack:yN(o)}}var Gr=[],xo=0,Nx=0;function Gf(){for(var i=xo,o=Nx=xo=0;o<i;){var u=Gr[o];Gr[o++]=null;var p=Gr[o];Gr[o++]=null;var y=Gr[o];Gr[o++]=null;var N=Gr[o];if(Gr[o++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&aS(u,y,N)}}function Yf(i,o,u,p){Gr[xo++]=i,Gr[xo++]=o,Gr[xo++]=u,Gr[xo++]=p,Nx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Sx(i,o,u,p){return Yf(i,o,u,p),Wf(i)}function go(i,o){return Yf(i,null,null,o),Wf(i)}function aS(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var y=!1,N=i.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(y=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,y&&o!==null&&(y=31-mt(u),i=N.hiddenUpdates,p=i[y],p===null?i[y]=[o]:p.push(o),o.lane=u|536870912),N):null}function Wf(i){if(50<Mu)throw Mu=0,Tg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var vo={};function g$(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(i,o,u,p){return new g$(i,o,u,p)}function _x(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,o){var u=i.alternate;return u===null?(u=wr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function sS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Xf(i,o,u,p,y,N){var P=0;if(p=i,typeof i=="function")_x(i)&&(P=1);else if(typeof i=="string")P=y9(i,u,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=wr(31,u,o,y),i.elementType=V,i.lanes=N,i;case w:return sl(u.children,y,N,o);case j:P=8,y|=24;break;case S:return i=wr(12,u,o,y|2),i.elementType=S,i.lanes=N,i;case A:return i=wr(13,u,o,y),i.elementType=A,i.lanes=N,i;case E:return i=wr(19,u,o,y),i.elementType=E,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case k:P=10;break e;case C:P=9;break e;case O:P=11;break e;case L:P=14;break e;case M:P=16,p=null;break e}P=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=wr(P,u,o,y),o.elementType=i,o.type=p,o.lanes=N,o}function sl(i,o,u,p){return i=wr(7,i,p,o),i.lanes=u,i}function Cx(i,o,u){return i=wr(6,i,null,o),i.lanes=u,i}function kx(i,o,u){return o=wr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var yo=[],bo=0,Zf=null,Qf=0,Yr=[],Wr=0,il=null,ds=1,fs="";function ll(i,o){yo[bo++]=Qf,yo[bo++]=Zf,Zf=i,Qf=o}function iS(i,o,u){Yr[Wr++]=ds,Yr[Wr++]=fs,Yr[Wr++]=il,il=i;var p=ds;i=fs;var y=32-mt(p)-1;p&=~(1<<y),u+=1;var N=32-mt(o)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ds=1<<32-mt(o)+y|u<<y|p,fs=N+i}else ds=1<<N|u<<y|p,fs=i}function Ax(i){i.return!==null&&(ll(i,1),iS(i,1,0))}function Ex(i){for(;i===Zf;)Zf=yo[--bo],yo[bo]=null,Qf=yo[--bo],yo[bo]=null;for(;i===il;)il=Yr[--Wr],Yr[Wr]=null,fs=Yr[--Wr],Yr[Wr]=null,ds=Yr[--Wr],Yr[Wr]=null}var Jn=null,Jt=null,bt=!1,ol=null,Ia=!1,Tx=Error(r(519));function cl(i){var o=Error(r(418,""));throw du(Kr(o,i)),Tx}function lS(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[yt]=i,o[Zt]=p,u){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(u=0;u<Ru.length;u++)it(Ru[u],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),jN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),If(o);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),SN(o,p.value,p.defaultValue,p.children),If(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||S_(o.textContent,u)?(p.popover!=null&&(it("beforetoggle",o),it("toggle",o)),p.onScroll!=null&&it("scroll",o),p.onScrollEnd!=null&&it("scrollend",o),p.onClick!=null&&(o.onclick=Om),o=!0):o=!1,o||cl(i)}function oS(i){for(Jn=i.return;Jn;)switch(Jn.tag){case 5:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:Jn=Jn.return}}function cu(i){if(i!==Jn)return!1;if(!bt)return oS(i),bt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Kg(i.type,i.memoizedProps)),u=!u),u&&Jt&&cl(i),oS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){Jt=ya(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}Jt=null}}else o===27?(o=Jt,yi(i.type)?(i=Xg,Xg=null,Jt=i):Jt=o):Jt=Jn?ya(i.stateNode.nextSibling):null;return!0}function uu(){Jt=Jn=null,bt=!1}function cS(){var i=ol;return i!==null&&(dr===null?dr=i:dr.push.apply(dr,i),ol=null),i}function du(i){ol===null?ol=[i]:ol.push(i)}var Px=R(null),ul=null,ms=null;function ai(i,o,u){W(Px,o._currentValue),o._currentValue=u}function hs(i){i._currentValue=Px.current,I(Px)}function Ox(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Mx(i,o,u,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var z=N;N=y;for(var J=0;J<o.length;J++)if(z.context===o[J]){N.lanes|=u,z=N.alternate,z!==null&&(z.lanes|=u),Ox(N.return,u,i),p||(P=null);break e}N=z.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=u,N=P.alternate,N!==null&&(N.lanes|=u),Ox(P,u,i),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===i){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function fu(i,o,u,p){i=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var z=y.type;br(y.pendingProps.value,P.value)||(i!==null?i.push(z):i=[z])}}else if(y===ie.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Uu):i=[Uu])}y=y.return}i!==null&&Mx(o,i,u,p),o.flags|=262144}function Jf(i){for(i=i.firstContext;i!==null;){if(!br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ul=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return uS(ul,i)}function em(i,o){return ul===null&&dl(i),uS(i,o)}function uS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ms===null){if(i===null)throw Error(r(308));ms=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ms=ms.next=o;return u}var v$=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},y$=e.unstable_scheduleCallback,b$=e.unstable_NormalPriority,vn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dx(){return{controller:new v$,data:new Map,refCount:0}}function mu(i){i.refCount--,i.refCount===0&&y$(b$,function(){i.controller.abort()})}var hu=null,Rx=0,wo=0,jo=null;function w$(i,o){if(hu===null){var u=hu=[];Rx=0,wo=$g(),jo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Rx++,o.then(dS,dS),o}function dS(){if(--Rx===0&&hu!==null){jo!==null&&(jo.status="fulfilled");var i=hu;hu=null,wo=0,jo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function j$(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var fS=D.S;D.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&w$(i,o),fS!==null&&fS(i,o)};var fl=R(null);function Lx(){var i=fl.current;return i!==null?i:Rt.pooledCache}function tm(i,o){o===null?W(fl,fl.current):W(fl,o.pool)}function mS(){var i=Lx();return i===null?null:{parent:vn._currentValue,pool:i}}var pu=Error(r(460)),hS=Error(r(474)),nm=Error(r(542)),$x={then:function(){}};function pS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rm(){}function xS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(rm,rm),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vS(i),i;default:if(typeof o.status=="string")o.then(rm,rm);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vS(i),i}throw xu=o,pu}}var xu=null;function gS(){if(xu===null)throw Error(r(459));var i=xu;return xu=null,i}function vS(i){if(i===pu||i===nm)throw Error(r(483))}var si=!1;function Ix(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ii(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function li(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(jt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Wf(i),aS(i,null,u),o}return Yf(i,p,o,u),Wf(i)}function gu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,lt(i,u)}}function Bx(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,u=u.next}while(u!==null);N===null?y=N=o:N=N.next=o}else y=N=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Ux=!1;function vu(){if(Ux){var i=jo;if(i!==null)throw i}}function yu(i,o,u,p){Ux=!1;var y=i.updateQueue;si=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var J=z,he=J.next;J.next=null,P===null?N=he:P.next=he,P=J;var Se=i.alternate;Se!==null&&(Se=Se.updateQueue,z=Se.lastBaseUpdate,z!==P&&(z===null?Se.firstBaseUpdate=he:z.next=he,Se.lastBaseUpdate=J))}if(N!==null){var Ce=y.baseState;P=0,Se=he=J=null,z=N;do{var xe=z.lane&-536870913,ve=xe!==z.lane;if(ve?(dt&xe)===xe:(p&xe)===xe){xe!==0&&xe===wo&&(Ux=!0),Se!==null&&(Se=Se.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var We=i,qe=z;xe=o;var Et=u;switch(qe.tag){case 1:if(We=qe.payload,typeof We=="function"){Ce=We.call(Et,Ce,xe);break e}Ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=qe.payload,xe=typeof We=="function"?We.call(Et,Ce,xe):We,xe==null)break e;Ce=h({},Ce,xe);break e;case 2:si=!0}}xe=z.callback,xe!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=y.callbacks,ve===null?y.callbacks=[xe]:ve.push(xe))}else ve={lane:xe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Se===null?(he=Se=ve,J=Ce):Se=Se.next=ve,P|=xe;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ve=z,z=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);Se===null&&(J=Ce),y.baseState=J,y.firstBaseUpdate=he,y.lastBaseUpdate=Se,N===null&&(y.shared.lanes=0),pi|=P,i.lanes=P,i.memoizedState=Ce}}function yS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function bS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)yS(u[i],o)}var No=R(null),am=R(0);function wS(i,o){i=ws,W(am,i),W(No,o),ws=i|o.baseLanes}function Fx(){W(am,ws),W(No,No.current)}function Vx(){ws=am.current,I(No),I(am)}var oi=0,nt=null,kt=null,fn=null,sm=!1,So=!1,ml=!1,im=0,bu=0,_o=null,N$=0;function sn(){throw Error(r(321))}function Hx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!br(i[u],o[u]))return!1;return!0}function qx(i,o,u,p,y,N){return oi=N,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=i===null||i.memoizedState===null?a4:s4,ml=!1,N=u(p,y),ml=!1,So&&(N=NS(o,u,p,y)),jS(i),N}function jS(i){D.H=fm;var o=kt!==null&&kt.next!==null;if(oi=0,fn=kt=nt=null,sm=!1,bu=0,_o=null,o)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&Jf(i)&&(_n=!0))}function NS(i,o,u,p){nt=i;var y=0;do{if(So&&(_o=null),bu=0,So=!1,25<=y)throw Error(r(301));if(y+=1,fn=kt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}D.H=T$,N=o(u,p)}while(So);return N}function S$(){var i=D.H,o=i.useState()[0];return o=typeof o.then=="function"?wu(o):o,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(nt.flags|=1024),o}function Kx(){var i=im!==0;return im=0,i}function Gx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Yx(i){if(sm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}sm=!1}oi=0,fn=kt=nt=null,So=!1,bu=im=0,_o=null}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?nt.memoizedState=fn=i:fn=fn.next=i,fn}function mn(){if(kt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=fn===null?nt.memoizedState:fn.next;if(o!==null)fn=o,kt=i;else{if(i===null)throw nt.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},fn===null?nt.memoizedState=fn=i:fn=fn.next=i}return fn}function Wx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(i){var o=bu;return bu+=1,_o===null&&(_o=[]),i=xS(_o,i,o),o=nt,(fn===null?o.memoizedState:fn.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?a4:s4),i}function lm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wu(i);if(i.$$typeof===k)return Bn(i)}throw Error(r(438,String(i)))}function Xx(i){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Wx(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=G;return o.index++,u}function ps(i,o){return typeof o=="function"?o(i):o}function om(i){var o=mn();return Zx(o,kt,i)}function Zx(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var y=i.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}o.baseQueue=y=N,p.pending=null}if(N=i.baseState,y===null)i.memoizedState=N;else{o=y.next;var z=P=null,J=null,he=o,Se=!1;do{var Ce=he.lane&-536870913;if(Ce!==he.lane?(dt&Ce)===Ce:(oi&Ce)===Ce){var xe=he.revertLane;if(xe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ce===wo&&(Se=!0);else if((oi&xe)===xe){he=he.next,xe===wo&&(Se=!0);continue}else Ce={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(z=J=Ce,P=N):J=J.next=Ce,nt.lanes|=xe,pi|=xe;Ce=he.action,ml&&u(N,Ce),N=he.hasEagerState?he.eagerState:u(N,Ce)}else xe={lane:Ce,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(z=J=xe,P=N):J=J.next=xe,nt.lanes|=Ce,pi|=Ce;he=he.next}while(he!==null&&he!==o);if(J===null?P=N:J.next=z,!br(N,i.memoizedState)&&(_n=!0,Se&&(u=jo,u!==null)))throw u;i.memoizedState=N,i.baseState=P,i.baseQueue=J,p.lastRenderedState=N}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Qx(i){var o=mn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,y=u.pending,N=o.memoizedState;if(y!==null){u.pending=null;var P=y=y.next;do N=i(N,P.action),P=P.next;while(P!==y);br(N,o.memoizedState)||(_n=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function SS(i,o,u){var p=nt,y=mn(),N=bt;if(N){if(u===void 0)throw Error(r(407));u=u()}else u=o();var P=!br((kt||y).memoizedState,u);P&&(y.memoizedState=u,_n=!0),y=y.queue;var z=kS.bind(null,p,y,i);if(ju(2048,8,z,[i]),y.getSnapshot!==o||P||fn!==null&&fn.memoizedState.tag&1){if(p.flags|=2048,Co(9,cm(),CS.bind(null,p,y,u,o),null),Rt===null)throw Error(r(349));N||(oi&124)!==0||_S(p,o,u)}return u}function _S(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=Wx(),nt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function CS(i,o,u,p){o.value=u,o.getSnapshot=p,AS(o)&&ES(i)}function kS(i,o,u){return u(function(){AS(o)&&ES(i)})}function AS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!br(i,u)}catch{return!0}}function ES(i){var o=go(i,2);o!==null&&Cr(o,i,2)}function Jx(i){var o=cr();if(typeof i=="function"){var u=i;if(i=u(),ml){un(!0);try{u()}finally{un(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},o}function TS(i,o,u,p){return i.baseState=u,Zx(i,kt,typeof p=="function"?p:ps)}function _$(i,o,u,p,y){if(dm(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};D.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,PS(o,N)):(N.next=u.next,o.pending=u.next=N)}}function PS(i,o){var u=o.action,p=o.payload,y=i.state;if(o.isTransition){var N=D.T,P={};D.T=P;try{var z=u(y,p),J=D.S;J!==null&&J(P,z),OS(i,o,z)}catch(he){eg(i,o,he)}finally{D.T=N}}else try{N=u(y,p),OS(i,o,N)}catch(he){eg(i,o,he)}}function OS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){MS(i,o,p)},function(p){return eg(i,o,p)}):MS(i,o,u)}function MS(i,o,u){o.status="fulfilled",o.value=u,DS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,PS(i,u)))}function eg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,DS(o),o=o.next;while(o!==p)}i.action=null}function DS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function RS(i,o){return o}function LS(i,o){if(bt){var u=Rt.formState;if(u!==null){e:{var p=nt;if(bt){if(Jt){t:{for(var y=Jt,N=Ia;y.nodeType!==8;){if(!N){y=null;break t}if(y=ya(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){Jt=ya(y.nextSibling),p=y.data==="F!";break e}}cl(p)}p=!1}p&&(o=u[0])}}return u=cr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RS,lastRenderedState:o},u.queue=p,u=t4.bind(null,nt,p),p.dispatch=u,p=Jx(!1),N=sg.bind(null,nt,!1,p.queue),p=cr(),y={state:o,dispatch:null,action:i,pending:null},p.queue=y,u=_$.bind(null,nt,y,N,u),y.dispatch=u,p.memoizedState=i,[o,u,!1]}function $S(i){var o=mn();return IS(o,kt,i)}function IS(i,o,u){if(o=Zx(i,o,RS)[0],i=om(ps)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=wu(o)}catch(P){throw P===pu?nm:P}else p=o;o=mn();var y=o.queue,N=y.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,Co(9,cm(),C$.bind(null,y,u),null)),[p,N,i]}function C$(i,o){i.action=o}function zS(i){var o=mn(),u=kt;if(u!==null)return IS(o,u,i);mn(),o=o.memoizedState,u=mn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Co(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=nt.updateQueue,o===null&&(o=Wx(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function cm(){return{destroy:void 0,resource:void 0}}function BS(){return mn().memoizedState}function um(i,o,u,p){var y=cr();p=p===void 0?null:p,nt.flags|=i,y.memoizedState=Co(1|o,cm(),u,p)}function ju(i,o,u,p){var y=mn();p=p===void 0?null:p;var N=y.memoizedState.inst;kt!==null&&p!==null&&Hx(p,kt.memoizedState.deps)?y.memoizedState=Co(o,N,u,p):(nt.flags|=i,y.memoizedState=Co(1|o,N,u,p))}function US(i,o){um(8390656,8,i,o)}function FS(i,o){ju(2048,8,i,o)}function VS(i,o){return ju(4,2,i,o)}function HS(i,o){return ju(4,4,i,o)}function qS(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function KS(i,o,u){u=u!=null?u.concat([i]):null,ju(4,4,qS.bind(null,o,i),u)}function tg(){}function GS(i,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Hx(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function YS(i,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Hx(o,p[1]))return p[0];if(p=i(),ml){un(!0);try{i()}finally{un(!1)}}return u.memoizedState=[p,o],p}function ng(i,o,u){return u===void 0||(oi&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=Z4(),nt.lanes|=i,pi|=i,u)}function WS(i,o,u,p){return br(u,o)?u:No.current!==null?(i=ng(i,u,p),br(i,o)||(_n=!0),i):(oi&42)===0?(_n=!0,i.memoizedState=u):(i=Z4(),nt.lanes|=i,pi|=i,o)}function XS(i,o,u,p,y){var N=K.p;K.p=N!==0&&8>N?N:8;var P=D.T,z={};D.T=z,sg(i,!1,o,u);try{var J=y(),he=D.S;if(he!==null&&he(z,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Se=j$(J,p);Nu(i,o,Se,_r(i))}else Nu(i,o,p,_r(i))}catch(Ce){Nu(i,o,{then:function(){},status:"rejected",reason:Ce},_r())}finally{K.p=N,D.T=P}}function k$(){}function rg(i,o,u,p){if(i.tag!==5)throw Error(r(476));var y=ZS(i).queue;XS(i,y,o,q,u===null?k$:function(){return QS(i),u(p)})}function ZS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function QS(i){var o=ZS(i).next.queue;Nu(i,o,{},_r())}function ag(){return Bn(Uu)}function JS(){return mn().memoizedState}function e4(){return mn().memoizedState}function A$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=_r();i=ii(u);var p=li(o,i,u);p!==null&&(Cr(p,o,u),gu(p,o,u)),o={cache:Dx()},i.payload=o;return}o=o.return}}function E$(i,o,u){var p=_r();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},dm(i)?n4(o,u):(u=Sx(i,o,u,p),u!==null&&(Cr(u,i,p),r4(u,o,p)))}function t4(i,o,u){var p=_r();Nu(i,o,u,p)}function Nu(i,o,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(dm(i))n4(o,y);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var P=o.lastRenderedState,z=N(P,u);if(y.hasEagerState=!0,y.eagerState=z,br(z,P))return Yf(i,o,y,0),Rt===null&&Gf(),!1}catch{}finally{}if(u=Sx(i,o,y,p),u!==null)return Cr(u,i,p),r4(u,o,p),!0}return!1}function sg(i,o,u,p){if(p={lane:2,revertLane:$g(),action:p,hasEagerState:!1,eagerState:null,next:null},dm(i)){if(o)throw Error(r(479))}else o=Sx(i,u,p,2),o!==null&&Cr(o,i,2)}function dm(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function n4(i,o){So=sm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function r4(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,lt(i,u)}}var fm={readContext:Bn,use:lm,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},a4={readContext:Bn,use:lm,useCallback:function(i,o){return cr().memoizedState=[i,o===void 0?null:o],i},useContext:Bn,useEffect:US,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,um(4194308,4,qS.bind(null,o,i),u)},useLayoutEffect:function(i,o){return um(4194308,4,i,o)},useInsertionEffect:function(i,o){um(4,2,i,o)},useMemo:function(i,o){var u=cr();o=o===void 0?null:o;var p=i();if(ml){un(!0);try{i()}finally{un(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=cr();if(u!==void 0){var y=u(o);if(ml){un(!0);try{u(o)}finally{un(!1)}}}else y=o;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=E$.bind(null,nt,i),[p.memoizedState,i]},useRef:function(i){var o=cr();return i={current:i},o.memoizedState=i},useState:function(i){i=Jx(i);var o=i.queue,u=t4.bind(null,nt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:tg,useDeferredValue:function(i,o){var u=cr();return ng(u,i,o)},useTransition:function(){var i=Jx(!1);return i=XS.bind(null,nt,i.queue,!0,!1),cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=nt,y=cr();if(bt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Rt===null)throw Error(r(349));(dt&124)!==0||_S(p,o,u)}y.memoizedState=u;var N={value:u,getSnapshot:o};return y.queue=N,US(kS.bind(null,p,N,i),[i]),p.flags|=2048,Co(9,cm(),CS.bind(null,p,N,u,o),null),u},useId:function(){var i=cr(),o=Rt.identifierPrefix;if(bt){var u=fs,p=ds;u=(p&~(1<<32-mt(p)-1)).toString(32)+u,o=""+o+"R"+u,u=im++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=N$++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:ag,useFormState:LS,useActionState:LS,useOptimistic:function(i){var o=cr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=sg.bind(null,nt,!0,u),u.dispatch=o,[i,o]},useMemoCache:Xx,useCacheRefresh:function(){return cr().memoizedState=A$.bind(null,nt)}},s4={readContext:Bn,use:lm,useCallback:GS,useContext:Bn,useEffect:FS,useImperativeHandle:KS,useInsertionEffect:VS,useLayoutEffect:HS,useMemo:YS,useReducer:om,useRef:BS,useState:function(){return om(ps)},useDebugValue:tg,useDeferredValue:function(i,o){var u=mn();return WS(u,kt.memoizedState,i,o)},useTransition:function(){var i=om(ps)[0],o=mn().memoizedState;return[typeof i=="boolean"?i:wu(i),o]},useSyncExternalStore:SS,useId:JS,useHostTransitionStatus:ag,useFormState:$S,useActionState:$S,useOptimistic:function(i,o){var u=mn();return TS(u,kt,i,o)},useMemoCache:Xx,useCacheRefresh:e4},T$={readContext:Bn,use:lm,useCallback:GS,useContext:Bn,useEffect:FS,useImperativeHandle:KS,useInsertionEffect:VS,useLayoutEffect:HS,useMemo:YS,useReducer:Qx,useRef:BS,useState:function(){return Qx(ps)},useDebugValue:tg,useDeferredValue:function(i,o){var u=mn();return kt===null?ng(u,i,o):WS(u,kt.memoizedState,i,o)},useTransition:function(){var i=Qx(ps)[0],o=mn().memoizedState;return[typeof i=="boolean"?i:wu(i),o]},useSyncExternalStore:SS,useId:JS,useHostTransitionStatus:ag,useFormState:zS,useActionState:zS,useOptimistic:function(i,o){var u=mn();return kt!==null?TS(u,kt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Xx,useCacheRefresh:e4},ko=null,Su=0;function mm(i){var o=Su;return Su+=1,ko===null&&(ko=[]),xS(ko,i,o)}function _u(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hm(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function i4(i){var o=i._init;return o(i._payload)}function l4(i){function o(le,re){if(i){var ue=le.deletions;ue===null?(le.deletions=[re],le.flags|=16):ue.push(re)}}function u(le,re){if(!i)return null;for(;re!==null;)o(le,re),re=re.sibling;return null}function p(le){for(var re=new Map;le!==null;)le.key!==null?re.set(le.key,le):re.set(le.index,le),le=le.sibling;return re}function y(le,re){return le=us(le,re),le.index=0,le.sibling=null,le}function N(le,re,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<re?(le.flags|=67108866,re):ue):(le.flags|=67108866,re)):(le.flags|=1048576,re)}function P(le){return i&&le.alternate===null&&(le.flags|=67108866),le}function z(le,re,ue,_e){return re===null||re.tag!==6?(re=Cx(ue,le.mode,_e),re.return=le,re):(re=y(re,ue),re.return=le,re)}function J(le,re,ue,_e){var Ie=ue.type;return Ie===w?Se(le,re,ue.props.children,_e,ue.key):re!==null&&(re.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&i4(Ie)===re.type)?(re=y(re,ue.props),_u(re,ue),re.return=le,re):(re=Xf(ue.type,ue.key,ue.props,null,le.mode,_e),_u(re,ue),re.return=le,re)}function he(le,re,ue,_e){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=kx(ue,le.mode,_e),re.return=le,re):(re=y(re,ue.children||[]),re.return=le,re)}function Se(le,re,ue,_e,Ie){return re===null||re.tag!==7?(re=sl(ue,le.mode,_e,Ie),re.return=le,re):(re=y(re,ue),re.return=le,re)}function Ce(le,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Cx(""+re,le.mode,ue),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case g:return ue=Xf(re.type,re.key,re.props,null,le.mode,ue),_u(ue,re),ue.return=le,ue;case b:return re=kx(re,le.mode,ue),re.return=le,re;case M:var _e=re._init;return re=_e(re._payload),Ce(le,re,ue)}if(ae(re)||U(re))return re=sl(re,le.mode,ue,null),re.return=le,re;if(typeof re.then=="function")return Ce(le,mm(re),ue);if(re.$$typeof===k)return Ce(le,em(le,re),ue);hm(le,re)}return null}function xe(le,re,ue,_e){var Ie=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ie!==null?null:z(le,re,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===Ie?J(le,re,ue,_e):null;case b:return ue.key===Ie?he(le,re,ue,_e):null;case M:return Ie=ue._init,ue=Ie(ue._payload),xe(le,re,ue,_e)}if(ae(ue)||U(ue))return Ie!==null?null:Se(le,re,ue,_e,null);if(typeof ue.then=="function")return xe(le,re,mm(ue),_e);if(ue.$$typeof===k)return xe(le,re,em(le,ue),_e);hm(le,ue)}return null}function ve(le,re,ue,_e,Ie){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return le=le.get(ue)||null,z(re,le,""+_e,Ie);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return le=le.get(_e.key===null?ue:_e.key)||null,J(re,le,_e,Ie);case b:return le=le.get(_e.key===null?ue:_e.key)||null,he(re,le,_e,Ie);case M:var rt=_e._init;return _e=rt(_e._payload),ve(le,re,ue,_e,Ie)}if(ae(_e)||U(_e))return le=le.get(ue)||null,Se(re,le,_e,Ie,null);if(typeof _e.then=="function")return ve(le,re,ue,mm(_e),Ie);if(_e.$$typeof===k)return ve(le,re,ue,em(re,_e),Ie);hm(re,_e)}return null}function We(le,re,ue,_e){for(var Ie=null,rt=null,Fe=re,Ge=re=0,kn=null;Fe!==null&&Ge<ue.length;Ge++){Fe.index>Ge?(kn=Fe,Fe=null):kn=Fe.sibling;var xt=xe(le,Fe,ue[Ge],_e);if(xt===null){Fe===null&&(Fe=kn);break}i&&Fe&&xt.alternate===null&&o(le,Fe),re=N(xt,re,Ge),rt===null?Ie=xt:rt.sibling=xt,rt=xt,Fe=kn}if(Ge===ue.length)return u(le,Fe),bt&&ll(le,Ge),Ie;if(Fe===null){for(;Ge<ue.length;Ge++)Fe=Ce(le,ue[Ge],_e),Fe!==null&&(re=N(Fe,re,Ge),rt===null?Ie=Fe:rt.sibling=Fe,rt=Fe);return bt&&ll(le,Ge),Ie}for(Fe=p(Fe);Ge<ue.length;Ge++)kn=ve(Fe,le,Ge,ue[Ge],_e),kn!==null&&(i&&kn.alternate!==null&&Fe.delete(kn.key===null?Ge:kn.key),re=N(kn,re,Ge),rt===null?Ie=kn:rt.sibling=kn,rt=kn);return i&&Fe.forEach(function(Si){return o(le,Si)}),bt&&ll(le,Ge),Ie}function qe(le,re,ue,_e){if(ue==null)throw Error(r(151));for(var Ie=null,rt=null,Fe=re,Ge=re=0,kn=null,xt=ue.next();Fe!==null&&!xt.done;Ge++,xt=ue.next()){Fe.index>Ge?(kn=Fe,Fe=null):kn=Fe.sibling;var Si=xe(le,Fe,xt.value,_e);if(Si===null){Fe===null&&(Fe=kn);break}i&&Fe&&Si.alternate===null&&o(le,Fe),re=N(Si,re,Ge),rt===null?Ie=Si:rt.sibling=Si,rt=Si,Fe=kn}if(xt.done)return u(le,Fe),bt&&ll(le,Ge),Ie;if(Fe===null){for(;!xt.done;Ge++,xt=ue.next())xt=Ce(le,xt.value,_e),xt!==null&&(re=N(xt,re,Ge),rt===null?Ie=xt:rt.sibling=xt,rt=xt);return bt&&ll(le,Ge),Ie}for(Fe=p(Fe);!xt.done;Ge++,xt=ue.next())xt=ve(Fe,le,Ge,xt.value,_e),xt!==null&&(i&&xt.alternate!==null&&Fe.delete(xt.key===null?Ge:xt.key),re=N(xt,re,Ge),rt===null?Ie=xt:rt.sibling=xt,rt=xt);return i&&Fe.forEach(function(P9){return o(le,P9)}),bt&&ll(le,Ge),Ie}function Et(le,re,ue,_e){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var Ie=ue.key;re!==null;){if(re.key===Ie){if(Ie=ue.type,Ie===w){if(re.tag===7){u(le,re.sibling),_e=y(re,ue.props.children),_e.return=le,le=_e;break e}}else if(re.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&i4(Ie)===re.type){u(le,re.sibling),_e=y(re,ue.props),_u(_e,ue),_e.return=le,le=_e;break e}u(le,re);break}else o(le,re);re=re.sibling}ue.type===w?(_e=sl(ue.props.children,le.mode,_e,ue.key),_e.return=le,le=_e):(_e=Xf(ue.type,ue.key,ue.props,null,le.mode,_e),_u(_e,ue),_e.return=le,le=_e)}return P(le);case b:e:{for(Ie=ue.key;re!==null;){if(re.key===Ie)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){u(le,re.sibling),_e=y(re,ue.children||[]),_e.return=le,le=_e;break e}else{u(le,re);break}else o(le,re);re=re.sibling}_e=kx(ue,le.mode,_e),_e.return=le,le=_e}return P(le);case M:return Ie=ue._init,ue=Ie(ue._payload),Et(le,re,ue,_e)}if(ae(ue))return We(le,re,ue,_e);if(U(ue)){if(Ie=U(ue),typeof Ie!="function")throw Error(r(150));return ue=Ie.call(ue),qe(le,re,ue,_e)}if(typeof ue.then=="function")return Et(le,re,mm(ue),_e);if(ue.$$typeof===k)return Et(le,re,em(le,ue),_e);hm(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(u(le,re.sibling),_e=y(re,ue),_e.return=le,le=_e):(u(le,re),_e=Cx(ue,le.mode,_e),_e.return=le,le=_e),P(le)):u(le,re)}return function(le,re,ue,_e){try{Su=0;var Ie=Et(le,re,ue,_e);return ko=null,Ie}catch(Fe){if(Fe===pu||Fe===nm)throw Fe;var rt=wr(29,Fe,null,le.mode);return rt.lanes=_e,rt.return=le,rt}finally{}}}var Ao=l4(!0),o4=l4(!1),Xr=R(null),za=null;function ci(i){var o=i.alternate;W(yn,yn.current&1),W(Xr,i),za===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(za=i)}function c4(i){if(i.tag===22){if(W(yn,yn.current),W(Xr,i),za===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(za=i)}}else ui()}function ui(){W(yn,yn.current),W(Xr,Xr.current)}function xs(i){I(Xr),za===i&&(za=null),I(yn)}var yn=R(0);function pm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Wg(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ig(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var lg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=_r(),y=ii(p);y.payload=o,u!=null&&(y.callback=u),o=li(i,y,p),o!==null&&(Cr(o,i,p),gu(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=_r(),y=ii(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=li(i,y,p),o!==null&&(Cr(o,i,p),gu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=_r(),p=ii(u);p.tag=2,o!=null&&(p.callback=o),o=li(i,p,u),o!==null&&(Cr(o,i,u),gu(o,i,u))}};function u4(i,o,u,p,y,N,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,P):o.prototype&&o.prototype.isPureReactComponent?!lu(u,p)||!lu(y,N):!0}function d4(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&lg.enqueueReplaceState(o,o.state,null)}function hl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var xm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function f4(i){xm(i)}function m4(i){console.error(i)}function h4(i){xm(i)}function gm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function p4(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function og(i,o,u){return u=ii(u),u.tag=3,u.payload={element:null},u.callback=function(){gm(i,o)},u}function x4(i){return i=ii(i),i.tag=3,i}function g4(i,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;i.payload=function(){return y(N)},i.callback=function(){p4(o,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){p4(o,u,p),typeof y!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function P$(i,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&fu(o,u,y,!0),u=Xr.current,u!==null){switch(u.tag){case 13:return za===null?Og():u.alternate===null&&en===0&&(en=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===$x?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Dg(i,p,y)),!1;case 22:return u.flags|=65536,p===$x?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Dg(i,p,y)),!1}throw Error(r(435,u.tag))}return Dg(i,p,y),Og(),!1}if(bt)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Tx&&(i=Error(r(422),{cause:p}),du(Kr(i,u)))):(p!==Tx&&(o=Error(r(423),{cause:p}),du(Kr(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=Kr(p,u),y=og(i.stateNode,p,y),Bx(i,y),en!==4&&(en=2)),!1;var N=Error(r(520),{cause:p});if(N=Kr(N,u),Ou===null?Ou=[N]:Ou.push(N),en!==4&&(en=2),o===null)return!0;p=Kr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=og(u.stateNode,p,i),Bx(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xi===null||!xi.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=x4(y),g4(y,i,u,p),Bx(u,y),!1}u=u.return}while(u!==null);return!1}var v4=Error(r(461)),_n=!1;function Mn(i,o,u,p){o.child=i===null?o4(o,null,u,p):Ao(o,i.child,u,p)}function y4(i,o,u,p,y){u=u.render;var N=o.ref;if("ref"in p){var P={};for(var z in p)z!=="ref"&&(P[z]=p[z])}else P=p;return dl(o),p=qx(i,o,u,P,N,y),z=Kx(),i!==null&&!_n?(Gx(i,o,y),gs(i,o,y)):(bt&&z&&Ax(o),o.flags|=1,Mn(i,o,p,y),o.child)}function b4(i,o,u,p,y){if(i===null){var N=u.type;return typeof N=="function"&&!_x(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,w4(i,o,N,p,y)):(i=Xf(u.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!xg(i,y)){var P=N.memoizedProps;if(u=u.compare,u=u!==null?u:lu,u(P,p)&&i.ref===o.ref)return gs(i,o,y)}return o.flags|=1,i=us(N,p),i.ref=o.ref,i.return=o,o.child=i}function w4(i,o,u,p,y){if(i!==null){var N=i.memoizedProps;if(lu(N,p)&&i.ref===o.ref)if(_n=!1,o.pendingProps=p=N,xg(i,y))(i.flags&131072)!==0&&(_n=!0);else return o.lanes=i.lanes,gs(i,o,y)}return cg(i,o,u,p,y)}function j4(i,o,u){var p=o.pendingProps,y=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,i!==null){for(y=o.child=i.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return N4(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&tm(o,N!==null?N.cachePool:null),N!==null?wS(o,N):Fx(),c4(o);else return o.lanes=o.childLanes=536870912,N4(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(tm(o,N.cachePool),wS(o,N),ui(),o.memoizedState=null):(i!==null&&tm(o,null),Fx(),ui());return Mn(i,o,y,u),o.child}function N4(i,o,u,p){var y=Lx();return y=y===null?null:{parent:vn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},i!==null&&tm(o,null),Fx(),c4(o),i!==null&&fu(i,o,p,!0),null}function vm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function cg(i,o,u,p,y){return dl(o),u=qx(i,o,u,p,void 0,y),p=Kx(),i!==null&&!_n?(Gx(i,o,y),gs(i,o,y)):(bt&&p&&Ax(o),o.flags|=1,Mn(i,o,u,y),o.child)}function S4(i,o,u,p,y,N){return dl(o),o.updateQueue=null,u=NS(o,p,u,y),jS(i),p=Kx(),i!==null&&!_n?(Gx(i,o,N),gs(i,o,N)):(bt&&p&&Ax(o),o.flags|=1,Mn(i,o,u,N),o.child)}function _4(i,o,u,p,y){if(dl(o),o.stateNode===null){var N=vo,P=u.contextType;typeof P=="object"&&P!==null&&(N=Bn(P)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=lg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Ix(o),P=u.contextType,N.context=typeof P=="object"&&P!==null?Bn(P):vo,N.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(ig(o,u,P,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&lg.enqueueReplaceState(N,N.state,null),yu(o,p,N,y),vu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var z=o.memoizedProps,J=hl(u,z);N.props=J;var he=N.context,Se=u.contextType;P=vo,typeof Se=="object"&&Se!==null&&(P=Bn(Se));var Ce=u.getDerivedStateFromProps;Se=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z||he!==P)&&d4(o,N,p,P),si=!1;var xe=o.memoizedState;N.state=xe,yu(o,p,N,y),vu(),he=o.memoizedState,z||xe!==he||si?(typeof Ce=="function"&&(ig(o,u,Ce,p),he=o.memoizedState),(J=si||u4(o,u,J,p,xe,he,P))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=he),N.props=p,N.state=he,N.context=P,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,zx(i,o),P=o.memoizedProps,Se=hl(u,P),N.props=Se,Ce=o.pendingProps,xe=N.context,he=u.contextType,J=vo,typeof he=="object"&&he!==null&&(J=Bn(he)),z=u.getDerivedStateFromProps,(he=typeof z=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==Ce||xe!==J)&&d4(o,N,p,J),si=!1,xe=o.memoizedState,N.state=xe,yu(o,p,N,y),vu();var ve=o.memoizedState;P!==Ce||xe!==ve||si||i!==null&&i.dependencies!==null&&Jf(i.dependencies)?(typeof z=="function"&&(ig(o,u,z,p),ve=o.memoizedState),(Se=si||u4(o,u,Se,p,xe,ve,J)||i!==null&&i.dependencies!==null&&Jf(i.dependencies))?(he||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,ve,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,ve,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&xe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&xe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ve),N.props=p,N.state=ve,N.context=J,p=Se):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&xe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&xe===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,vm(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Ao(o,i.child,null,y),o.child=Ao(o,null,u,y)):Mn(i,o,u,y),o.memoizedState=N.state,i=o.child):i=gs(i,o,y),i}function C4(i,o,u,p){return uu(),o.flags|=256,Mn(i,o,u,p),o.child}var ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dg(i){return{baseLanes:i,cachePool:mS()}}function fg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Zr),i}function k4(i,o,u){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,P;if((P=N)||(P=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,i===null){if(bt){if(y?ci(o):ui(),bt){var z=Jt,J;if(J=z){e:{for(J=z,z=Ia;J.nodeType!==8;){if(!z){z=null;break e}if(J=ya(J.nextSibling),J===null){z=null;break e}}z=J}z!==null?(o.memoizedState={dehydrated:z,treeContext:il!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},J=wr(18,null,null,0),J.stateNode=z,J.return=o,o.child=J,Jn=o,Jt=null,J=!0):J=!1}J||cl(o)}if(z=o.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Wg(z)?o.lanes=32:o.lanes=536870912,null;xs(o)}return z=p.children,p=p.fallback,y?(ui(),y=o.mode,z=ym({mode:"hidden",children:z},y),p=sl(p,y,u,null),z.return=o,p.return=o,z.sibling=p,o.child=z,y=o.child,y.memoizedState=dg(u),y.childLanes=fg(i,P,u),o.memoizedState=ug,p):(ci(o),mg(o,z))}if(J=i.memoizedState,J!==null&&(z=J.dehydrated,z!==null)){if(N)o.flags&256?(ci(o),o.flags&=-257,o=hg(i,o,u)):o.memoizedState!==null?(ui(),o.child=i.child,o.flags|=128,o=null):(ui(),y=p.fallback,z=o.mode,p=ym({mode:"visible",children:p.children},z),y=sl(y,z,u,null),y.flags|=2,p.return=o,y.return=o,p.sibling=y,o.child=p,Ao(o,i.child,null,u),p=o.child,p.memoizedState=dg(u),p.childLanes=fg(i,P,u),o.memoizedState=ug,o=y);else if(ci(o),Wg(z)){if(P=z.nextSibling&&z.nextSibling.dataset,P)var he=P.dgst;P=he,p=Error(r(419)),p.stack="",p.digest=P,du({value:p,source:null,stack:null}),o=hg(i,o,u)}else if(_n||fu(i,o,u,!1),P=(u&i.childLanes)!==0,_n||P){if(P=Rt,P!==null&&(p=u&-u,p=(p&42)!==0?1:Qe(p),p=(p&(P.suspendedLanes|u))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,go(i,p),Cr(P,i,p),v4;z.data==="$?"||Og(),o=hg(i,o,u)}else z.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,Jt=ya(z.nextSibling),Jn=o,bt=!0,ol=null,Ia=!1,i!==null&&(Yr[Wr++]=ds,Yr[Wr++]=fs,Yr[Wr++]=il,ds=i.id,fs=i.overflow,il=o),o=mg(o,p.children),o.flags|=4096);return o}return y?(ui(),y=p.fallback,z=o.mode,J=i.child,he=J.sibling,p=us(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,he!==null?y=us(he,y):(y=sl(y,z,u,null),y.flags|=2),y.return=o,p.return=o,p.sibling=y,o.child=p,p=y,y=o.child,z=i.child.memoizedState,z===null?z=dg(u):(J=z.cachePool,J!==null?(he=vn._currentValue,J=J.parent!==he?{parent:he,pool:he}:J):J=mS(),z={baseLanes:z.baseLanes|u,cachePool:J}),y.memoizedState=z,y.childLanes=fg(i,P,u),o.memoizedState=ug,p):(ci(o),u=i.child,i=u.sibling,u=us(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(P=o.deletions,P===null?(o.deletions=[i],o.flags|=16):P.push(i)),o.child=u,o.memoizedState=null,u)}function mg(i,o){return o=ym({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ym(i,o){return i=wr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function hg(i,o,u){return Ao(o,i.child,null,u),i=mg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function A4(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Ox(i.return,o,u)}function pg(i,o,u,p,y){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=y)}function E4(i,o,u){var p=o.pendingProps,y=p.revealOrder,N=p.tail;if(Mn(i,o,p.children,u),p=yn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A4(i,u,o);else if(i.tag===19)A4(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(W(yn,p),y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&pm(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),pg(o,!1,y,u,N);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&pm(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}pg(o,!0,u,null,N);break;case"together":pg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gs(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),pi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(fu(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=us(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=us(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function xg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Jf(i)))}function O$(i,o,u){switch(o.tag){case 3:te(o,o.stateNode.containerInfo),ai(o,vn,i.memoizedState.cache),uu();break;case 27:case 5:be(o);break;case 4:te(o,o.stateNode.containerInfo);break;case 10:ai(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ci(o),o.flags|=128,null):(u&o.child.childLanes)!==0?k4(i,o,u):(ci(o),i=gs(i,o,u),i!==null?i.sibling:null);ci(o);break;case 19:var y=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(fu(i,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return E4(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(yn,yn.current),p)break;return null;case 22:case 23:return o.lanes=0,j4(i,o,u);case 24:ai(o,vn,i.memoizedState.cache)}return gs(i,o,u)}function T4(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)_n=!0;else{if(!xg(i,u)&&(o.flags&128)===0)return _n=!1,O$(i,o,u);_n=(i.flags&131072)!==0}else _n=!1,bt&&(o.flags&1048576)!==0&&iS(o,Qf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,y=p._init;if(p=y(p._payload),o.type=p,typeof p=="function")_x(p)?(i=hl(p,i),o.tag=1,o=_4(null,o,p,i,u)):(o.tag=0,o=cg(null,o,p,i,u));else{if(p!=null){if(y=p.$$typeof,y===O){o.tag=11,o=y4(null,o,p,i,u);break e}else if(y===L){o.tag=14,o=b4(null,o,p,i,u);break e}}throw o=we(p)||p,Error(r(306,o,""))}}return o;case 0:return cg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=hl(p,o.pendingProps),_4(i,o,p,y,u);case 3:e:{if(te(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,zx(i,o),yu(o,p,null,u);var P=o.memoizedState;if(p=P.cache,ai(o,vn,p),p!==N.cache&&Mx(o,[vn],u,!0),vu(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=C4(i,o,p,u);break e}else if(p!==y){y=Kr(Error(r(424)),o),du(y),o=C4(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Jt=ya(i.firstChild),Jn=o,bt=!0,ol=null,Ia=!0,u=o4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(uu(),p===y){o=gs(i,o,u);break e}Mn(i,o,p,u)}o=o.child}return o;case 26:return vm(i,o),i===null?(u=D_(o.type,null,o.pendingProps,null))?o.memoizedState=u:bt||(u=o.type,i=o.pendingProps,p=Mm($.current).createElement(u),p[yt]=o,p[Zt]=i,Rn(p,u,i),oe(p),o.stateNode=p):o.memoizedState=D_(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return be(o),i===null&&bt&&(p=o.stateNode=P_(o.type,o.pendingProps,$.current),Jn=o,Ia=!0,y=Jt,yi(o.type)?(Xg=y,Jt=ya(p.firstChild)):Jt=y),Mn(i,o,o.pendingProps.children,u),vm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&bt&&((y=p=Jt)&&(p=i9(p,o.type,o.pendingProps,Ia),p!==null?(o.stateNode=p,Jn=o,Jt=ya(p.firstChild),Ia=!1,y=!0):y=!1),y||cl(o)),be(o),y=o.type,N=o.pendingProps,P=i!==null?i.memoizedProps:null,p=N.children,Kg(y,N)?p=null:P!==null&&Kg(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=qx(i,o,S$,null,null,u),Uu._currentValue=y),vm(i,o),Mn(i,o,p,u),o.child;case 6:return i===null&&bt&&((i=u=Jt)&&(u=l9(u,o.pendingProps,Ia),u!==null?(o.stateNode=u,Jn=o,Jt=null,i=!0):i=!1),i||cl(o)),null;case 13:return k4(i,o,u);case 4:return te(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ao(o,null,p,u):Mn(i,o,p,u),o.child;case 11:return y4(i,o,o.type,o.pendingProps,u);case 7:return Mn(i,o,o.pendingProps,u),o.child;case 8:return Mn(i,o,o.pendingProps.children,u),o.child;case 12:return Mn(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ai(o,o.type,p.value),Mn(i,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,dl(o),y=Bn(y),p=p(y),o.flags|=1,Mn(i,o,p,u),o.child;case 14:return b4(i,o,o.type,o.pendingProps,u);case 15:return w4(i,o,o.type,o.pendingProps,u);case 19:return E4(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=ym(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=us(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return j4(i,o,u);case 24:return dl(o),p=Bn(vn),i===null?(y=Lx(),y===null&&(y=Rt,N=Dx(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),o.memoizedState={parent:p,cache:y},Ix(o),ai(o,vn,y)):((i.lanes&u)!==0&&(zx(i,o),yu(o,null,null,u),vu()),y=i.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ai(o,vn,p)):(p=N.cache,ai(o,vn,p),p!==y.cache&&Mx(o,[vn],u,!0))),Mn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function vs(i){i.flags|=4}function P4(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!z_(o)){if(o=Xr.current,o!==null&&((dt&4194048)===dt?za!==null:(dt&62914560)!==dt&&(dt&536870912)===0||o!==za))throw xu=$x,hS;i.flags|=8192}}function bm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q():536870912,i.lanes|=o,Oo|=o)}function Cu(i,o){if(!bt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function M$(i,o,u){var p=o.pendingProps;switch(Ex(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),hs(vn),pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(cu(o)?vs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,cS())),Qt(o),null;case 26:return u=o.memoizedState,i===null?(vs(o),u!==null?(Qt(o),P4(o,u)):(Qt(o),o.flags&=-16777217)):u?u!==i.memoizedState?(vs(o),Qt(o),P4(o,u)):(Qt(o),o.flags&=-16777217):(i.memoizedProps!==p&&vs(o),Qt(o),o.flags&=-16777217),null;case 27:je(o),u=$.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&vs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}i=ce.current,cu(o)?lS(o):(i=P_(y,p,u),o.stateNode=i,vs(o))}return Qt(o),null;case 5:if(je(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&vs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(i=ce.current,cu(o))lS(o);else{switch(y=Mm($.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}i[yt]=o,i[Zt]=p;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;e:switch(Rn(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vs(o)}}return Qt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&vs(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=$.current,cu(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,y=Jn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[yt]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||S_(i.nodeValue,u)),i||cl(o)}else i=Mm(i).createTextNode(p),i[yt]=o,o.stateNode=i}return Qt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=cu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[yt]=o}else uu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),y=!1}else y=cS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(xs(o),o):(xs(o),null)}if(xs(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),bm(o,o.updateQueue),Qt(o),null;case 4:return pe(),i===null&&Ug(o.stateNode.containerInfo),Qt(o),null;case 10:return hs(o.type),Qt(o),null;case 19:if(I(yn),y=o.memoizedState,y===null)return Qt(o),null;if(p=(o.flags&128)!==0,N=y.rendering,N===null)if(p)Cu(y,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=pm(i),N!==null){for(o.flags|=128,Cu(y,!1),i=N.updateQueue,o.updateQueue=i,bm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)sS(u,i),u=u.sibling;return W(yn,yn.current&1|2),o.child}i=i.sibling}y.tail!==null&&fe()>Nm&&(o.flags|=128,p=!0,Cu(y,!1),o.lanes=4194304)}else{if(!p)if(i=pm(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,bm(o,i),Cu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!bt)return Qt(o),null}else 2*fe()-y.renderingStartTime>Nm&&u!==536870912&&(o.flags|=128,p=!0,Cu(y,!1),o.lanes=4194304);y.isBackwards?(N.sibling=o.child,o.child=N):(i=y.last,i!==null?i.sibling=N:o.child=N,y.last=N)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=fe(),o.sibling=null,i=yn.current,W(yn,p?i&1|2:i&1),o):(Qt(o),null);case 22:case 23:return xs(o),Vx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&bm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&I(fl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hs(vn),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function D$(i,o){switch(Ex(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hs(vn),pe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 13:if(xs(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));uu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return I(yn),null;case 4:return pe(),null;case 10:return hs(o.type),null;case 22:case 23:return xs(o),Vx(),i!==null&&I(fl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hs(vn),null;case 25:return null;default:return null}}function O4(i,o){switch(Ex(o),o.tag){case 3:hs(vn),pe();break;case 26:case 27:case 5:je(o);break;case 4:pe();break;case 13:xs(o);break;case 19:I(yn);break;case 10:hs(o.type);break;case 22:case 23:xs(o),Vx(),i!==null&&I(fl);break;case 24:hs(vn)}}function ku(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){p=void 0;var N=u.create,P=u.inst;p=N(),P.destroy=p}u=u.next}while(u!==y)}}catch(z){Pt(o,o.return,z)}}function di(i,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&i)===i){var P=p.inst,z=P.destroy;if(z!==void 0){P.destroy=void 0,y=o;var J=u,he=z;try{he()}catch(Se){Pt(y,J,Se)}}}p=p.next}while(p!==N)}}catch(Se){Pt(o,o.return,Se)}}function M4(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{bS(o,u)}catch(p){Pt(i,i.return,p)}}}function D4(i,o,u){u.props=hl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Pt(i,o,p)}}function Au(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(y){Pt(i,o,y)}}function Ba(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){Pt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Pt(i,o,y)}else u.current=null}function R4(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){Pt(i,i.return,y)}}function gg(i,o,u){try{var p=i.stateNode;t9(p,i.type,u,o),p[Zt]=o}catch(y){Pt(i,i.return,y)}}function L4(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yi(i.type)||i.tag===4}function vg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||L4(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Om));else if(p!==4&&(p===27&&yi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(yg(i,o,u),i=i.sibling;i!==null;)yg(i,o,u),i=i.sibling}function wm(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&yi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(wm(i,o,u),i=i.sibling;i!==null;)wm(i,o,u),i=i.sibling}function $4(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Rn(o,p,u),o[yt]=i,o[Zt]=u}catch(N){Pt(i,i.return,N)}}var ys=!1,ln=!1,bg=!1,I4=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function R$(i,o){if(i=i.containerInfo,Hg=zm,i=WN(i),vx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var P=0,z=-1,J=-1,he=0,Se=0,Ce=i,xe=null;t:for(;;){for(var ve;Ce!==u||y!==0&&Ce.nodeType!==3||(z=P+y),Ce!==N||p!==0&&Ce.nodeType!==3||(J=P+p),Ce.nodeType===3&&(P+=Ce.nodeValue.length),(ve=Ce.firstChild)!==null;)xe=Ce,Ce=ve;for(;;){if(Ce===i)break t;if(xe===u&&++he===y&&(z=P),xe===N&&++Se===p&&(J=P),(ve=Ce.nextSibling)!==null)break;Ce=xe,xe=Ce.parentNode}Ce=ve}u=z===-1||J===-1?null:{start:z,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(qg={focusedElem:i,selectionRange:u},zm=!1,Cn=o;Cn!==null;)if(o=Cn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Cn=i;else for(;Cn!==null;){switch(o=Cn,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,y=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var We=hl(u.type,y,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(We,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(qe){Pt(u,u.return,qe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Yg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Cn=i;break}Cn=o.return}}function z4(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:fi(i,u),p&4&&ku(5,u);break;case 1:if(fi(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(P){Pt(u,u.return,P)}else{var y=hl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Pt(u,u.return,P)}}p&64&&M4(u),p&512&&Au(u,u.return);break;case 3:if(fi(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{bS(i,o)}catch(P){Pt(u,u.return,P)}}break;case 27:o===null&&p&4&&$4(u);case 26:case 5:fi(i,u),o===null&&p&4&&R4(u),p&512&&Au(u,u.return);break;case 12:fi(i,u);break;case 13:fi(i,u),p&4&&F4(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=H$.bind(null,u),o9(i,u))));break;case 22:if(p=u.memoizedState!==null||ys,!p){o=o!==null&&o.memoizedState!==null||ln,y=ys;var N=ln;ys=p,(ln=o)&&!N?mi(i,u,(u.subtreeFlags&8772)!==0):fi(i,u),ys=y,ln=N}break;case 30:break;default:fi(i,u)}}function B4(i){var o=i.alternate;o!==null&&(i.alternate=null,B4(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&io(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,ur=!1;function bs(i,o,u){for(u=u.child;u!==null;)U4(i,o,u),u=u.sibling}function U4(i,o,u){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 26:ln||Ba(u,o),bs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ln||Ba(u,o);var p=qt,y=ur;yi(u.type)&&(qt=u.stateNode,ur=!1),bs(i,o,u),$u(u.stateNode),qt=p,ur=y;break;case 5:ln||Ba(u,o);case 6:if(p=qt,y=ur,qt=null,bs(i,o,u),qt=p,ur=y,qt!==null)if(ur)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(N){Pt(u,o,N)}else try{qt.removeChild(u.stateNode)}catch(N){Pt(u,o,N)}break;case 18:qt!==null&&(ur?(i=qt,E_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qu(i)):E_(qt,u.stateNode));break;case 4:p=qt,y=ur,qt=u.stateNode.containerInfo,ur=!0,bs(i,o,u),qt=p,ur=y;break;case 0:case 11:case 14:case 15:ln||di(2,u,o),ln||di(4,u,o),bs(i,o,u);break;case 1:ln||(Ba(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&D4(u,o,p)),bs(i,o,u);break;case 21:bs(i,o,u);break;case 22:ln=(p=ln)||u.memoizedState!==null,bs(i,o,u),ln=p;break;default:bs(i,o,u)}}function F4(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qu(i)}catch(u){Pt(o,o.return,u)}}function L$(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new I4),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new I4),o;default:throw Error(r(435,i.tag))}}function wg(i,o){var u=L$(i);o.forEach(function(p){var y=q$.bind(null,i,p);u.has(p)||(u.add(p),p.then(y,y))})}function jr(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],N=i,P=o,z=P;e:for(;z!==null;){switch(z.tag){case 27:if(yi(z.type)){qt=z.stateNode,ur=!1;break e}break;case 5:qt=z.stateNode,ur=!1;break e;case 3:case 4:qt=z.stateNode.containerInfo,ur=!0;break e}z=z.return}if(qt===null)throw Error(r(160));U4(N,P,y),qt=null,ur=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)V4(o,i),o=o.sibling}var va=null;function V4(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jr(o,i),Nr(i),p&4&&(di(3,i,i.return),ku(3,i),di(5,i,i.return));break;case 1:jr(o,i),Nr(i),p&512&&(ln||u===null||Ba(u,u.return)),p&64&&ys&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=va;if(jr(o,i),Nr(i),p&512&&(ln||u===null||Ba(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[ti]||N[yt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Rn(N,p,u),N[yt]=i,oe(N),p=N;break e;case"link":var P=$_("link","href",y).get(p+(u.href||""));if(P){for(var z=0;z<P.length;z++)if(N=P[z],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(z,1);break t}}N=y.createElement(p),Rn(N,p,u),y.head.appendChild(N);break;case"meta":if(P=$_("meta","content",y).get(p+(u.content||""))){for(z=0;z<P.length;z++)if(N=P[z],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(z,1);break t}}N=y.createElement(p),Rn(N,p,u),y.head.appendChild(N);break;default:throw Error(r(468,p))}N[yt]=i,oe(N),p=N}i.stateNode=p}else I_(y,i.type,i.stateNode);else i.stateNode=L_(y,p,i.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?I_(y,i.type,i.stateNode):L_(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&gg(i,i.memoizedProps,u.memoizedProps)}break;case 27:jr(o,i),Nr(i),p&512&&(ln||u===null||Ba(u,u.return)),u!==null&&p&4&&gg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(jr(o,i),Nr(i),p&512&&(ln||u===null||Ba(u,u.return)),i.flags&32){y=i.stateNode;try{co(y,"")}catch(ve){Pt(i,i.return,ve)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,gg(i,y,u!==null?u.memoizedProps:y)),p&1024&&(bg=!0);break;case 6:if(jr(o,i),Nr(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(ve){Pt(i,i.return,ve)}}break;case 3:if(Lm=null,y=va,va=Dm(o.containerInfo),jr(o,i),va=y,Nr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{qu(o.containerInfo)}catch(ve){Pt(i,i.return,ve)}bg&&(bg=!1,H4(i));break;case 4:p=va,va=Dm(i.stateNode.containerInfo),jr(o,i),Nr(i),va=p;break;case 12:jr(o,i),Nr(i);break;case 13:jr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kg=fe()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,wg(i,p)));break;case 22:y=i.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,he=ys,Se=ln;if(ys=he||y,ln=Se||J,jr(o,i),ln=Se,ys=he,Nr(i),p&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||J||ys||ln||pl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(N=J.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{z=J.stateNode;var Ce=J.memoizedProps.style,xe=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;z.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(ve){Pt(J,J.return,ve)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(ve){Pt(J,J.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,wg(i,u))));break;case 19:jr(o,i),Nr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,wg(i,p)));break;case 30:break;case 21:break;default:jr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(L4(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,N=vg(i);wm(i,N,y);break;case 5:var P=u.stateNode;u.flags&32&&(co(P,""),u.flags&=-33);var z=vg(i);wm(i,z,P);break;case 3:case 4:var J=u.stateNode.containerInfo,he=vg(i);yg(i,he,J);break;default:throw Error(r(161))}}catch(Se){Pt(i,i.return,Se)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function H4(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;H4(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function fi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)z4(i,o.alternate,o),o=o.sibling}function pl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:di(4,o,o.return),pl(o);break;case 1:Ba(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&D4(o,o.return,u),pl(o);break;case 27:$u(o.stateNode);case 26:case 5:Ba(o,o.return),pl(o);break;case 22:o.memoizedState===null&&pl(o);break;case 30:pl(o);break;default:pl(o)}i=i.sibling}}function mi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=i,N=o,P=N.flags;switch(N.tag){case 0:case 11:case 15:mi(y,N,u),ku(4,N);break;case 1:if(mi(y,N,u),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(he){Pt(p,p.return,he)}if(p=N,y=p.updateQueue,y!==null){var z=p.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)yS(J[y],z)}catch(he){Pt(p,p.return,he)}}u&&P&64&&M4(N),Au(N,N.return);break;case 27:$4(N);case 26:case 5:mi(y,N,u),u&&p===null&&P&4&&R4(N),Au(N,N.return);break;case 12:mi(y,N,u);break;case 13:mi(y,N,u),u&&P&4&&F4(y,N);break;case 22:N.memoizedState===null&&mi(y,N,u),Au(N,N.return);break;case 30:break;default:mi(y,N,u)}o=o.sibling}}function jg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&mu(u))}function Ng(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&mu(i))}function Ua(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)q4(i,o,u,p),o=o.sibling}function q4(i,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ua(i,o,u,p),y&2048&&ku(9,o);break;case 1:Ua(i,o,u,p);break;case 3:Ua(i,o,u,p),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&mu(i)));break;case 12:if(y&2048){Ua(i,o,u,p),i=o.stateNode;try{var N=o.memoizedProps,P=N.id,z=N.onPostCommit;typeof z=="function"&&z(P,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Pt(o,o.return,J)}}else Ua(i,o,u,p);break;case 13:Ua(i,o,u,p);break;case 23:break;case 22:N=o.stateNode,P=o.alternate,o.memoizedState!==null?N._visibility&2?Ua(i,o,u,p):Eu(i,o):N._visibility&2?Ua(i,o,u,p):(N._visibility|=2,Eo(i,o,u,p,(o.subtreeFlags&10256)!==0)),y&2048&&jg(P,o);break;case 24:Ua(i,o,u,p),y&2048&&Ng(o.alternate,o);break;default:Ua(i,o,u,p)}}function Eo(i,o,u,p,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,P=o,z=u,J=p,he=P.flags;switch(P.tag){case 0:case 11:case 15:Eo(N,P,z,J,y),ku(8,P);break;case 23:break;case 22:var Se=P.stateNode;P.memoizedState!==null?Se._visibility&2?Eo(N,P,z,J,y):Eu(N,P):(Se._visibility|=2,Eo(N,P,z,J,y)),y&&he&2048&&jg(P.alternate,P);break;case 24:Eo(N,P,z,J,y),y&&he&2048&&Ng(P.alternate,P);break;default:Eo(N,P,z,J,y)}o=o.sibling}}function Eu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,y=p.flags;switch(p.tag){case 22:Eu(u,p),y&2048&&jg(p.alternate,p);break;case 24:Eu(u,p),y&2048&&Ng(p.alternate,p);break;default:Eu(u,p)}o=o.sibling}}var Tu=8192;function To(i){if(i.subtreeFlags&Tu)for(i=i.child;i!==null;)K4(i),i=i.sibling}function K4(i){switch(i.tag){case 26:To(i),i.flags&Tu&&i.memoizedState!==null&&w9(va,i.memoizedState,i.memoizedProps);break;case 5:To(i);break;case 3:case 4:var o=va;va=Dm(i.stateNode.containerInfo),To(i),va=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,To(i),Tu=o):To(i));break;default:To(i)}}function G4(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Pu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Cn=p,W4(p,i)}G4(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y4(i),i=i.sibling}function Y4(i){switch(i.tag){case 0:case 11:case 15:Pu(i),i.flags&2048&&di(9,i,i.return);break;case 3:Pu(i);break;case 12:Pu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,jm(i)):Pu(i);break;default:Pu(i)}}function jm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Cn=p,W4(p,i)}G4(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:di(8,o,o.return),jm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,jm(o));break;default:jm(o)}i=i.sibling}}function W4(i,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:di(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:mu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Cn=p;else e:for(u=i;Cn!==null;){p=Cn;var y=p.sibling,N=p.return;if(B4(p),p===u){Cn=null;break e}if(y!==null){y.return=N,Cn=y;break e}Cn=N}}}var $$={getCacheForType:function(i){var o=Bn(vn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},I$=typeof WeakMap=="function"?WeakMap:Map,jt=0,Rt=null,st=null,dt=0,Nt=0,Sr=null,hi=!1,Po=!1,Sg=!1,ws=0,en=0,pi=0,xl=0,_g=0,Zr=0,Oo=0,Ou=null,dr=null,Cg=!1,kg=0,Nm=1/0,Sm=null,xi=null,Dn=0,gi=null,Mo=null,Do=0,Ag=0,Eg=null,X4=null,Mu=0,Tg=null;function _r(){if((jt&2)!==0&&dt!==0)return dt&-dt;if(D.T!==null){var i=wo;return i!==0?i:$g()}return Ct()}function Z4(){Zr===0&&(Zr=(dt&536870912)===0||bt?me():536870912);var i=Xr.current;return i!==null&&(i.flags|=32),Zr}function Cr(i,o,u){(i===Rt&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),vi(i,dt,Zr,!1)),se(i,u),((jt&2)===0||i!==Rt)&&(i===Rt&&((jt&2)===0&&(xl|=u),en===4&&vi(i,dt,Zr,!1)),Fa(i))}function Q4(i,o,u){if((jt&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||lr(i,o),y=p?U$(i,o):Mg(i,o,!0),N=p;do{if(y===0){Po&&!p&&vi(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!z$(u)){y=Mg(i,o,!1),N=!1;continue}if(y===2){if(N=o,i.errorRecoveryDisabledLanes&N)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var z=i;y=Ou;var J=z.current.memoizedState.isDehydrated;if(J&&(Ro(z,P).flags|=256),P=Mg(z,P,!1),P!==2){if(Sg&&!J){z.errorRecoveryDisabledLanes|=N,xl|=N,y=4;break e}N=dr,dr=y,N!==null&&(dr===null?dr=N:dr.push.apply(dr,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){Ro(i,0),vi(i,o,0,!0);break}e:{switch(p=i,N=y,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:vi(p,o,Zr,!hi);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=kg+300-fe(),10<y)){if(vi(p,o,Zr,!hi),Zn(p,0,!0)!==0)break e;p.timeoutHandle=k_(J4.bind(null,p,u,dr,Sm,Cg,o,Zr,xl,Oo,hi,N,2,-0,0),y);break e}J4(p,u,dr,Sm,Cg,o,Zr,xl,Oo,hi,N,0,-0,0)}}break}while(!0);Fa(i)}function J4(i,o,u,p,y,N,P,z,J,he,Se,Ce,xe,ve){if(i.timeoutHandle=-1,Ce=o.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:b9},K4(o),Ce=j9(),Ce!==null)){i.cancelPendingCommit=Ce(i_.bind(null,i,o,N,u,p,y,P,z,J,Se,1,xe,ve)),vi(i,N,P,!he);return}i_(i,o,N,u,p,y,P,z,J)}function z$(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],N=y.getSnapshot;y=y.value;try{if(!br(N(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function vi(i,o,u,p){o&=~_g,o&=~xl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var y=o;0<y;){var N=31-mt(y),P=1<<N;p[N]=-1,y&=~P}u!==0&&Ke(i,u,o)}function _m(){return(jt&6)===0?(Du(0),!1):!0}function Pg(){if(st!==null){if(Nt===0)var i=st.return;else i=st,ms=ul=null,Yx(i),ko=null,Su=0,i=st;for(;i!==null;)O4(i.alternate,i),i=i.return;st=null}}function Ro(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,r9(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Pg(),Rt=i,st=u=us(i.current,null),dt=o,Nt=0,Sr=null,hi=!1,Po=lr(i,o),Sg=!1,Oo=Zr=_g=xl=pi=en=0,dr=Ou=null,Cg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var y=31-mt(p),N=1<<y;o|=i[y],p&=~N}return ws=o,Gf(),u}function e_(i,o){nt=null,D.H=fm,o===pu||o===nm?(o=gS(),Nt=3):o===hS?(o=gS(),Nt=4):Nt=o===v4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sr=o,st===null&&(en=1,gm(i,Kr(o,i.current)))}function t_(){var i=D.H;return D.H=fm,i===null?fm:i}function n_(){var i=D.A;return D.A=$$,i}function Og(){en=4,hi||(dt&4194048)!==dt&&Xr.current!==null||(Po=!0),(pi&134217727)===0&&(xl&134217727)===0||Rt===null||vi(Rt,dt,Zr,!1)}function Mg(i,o,u){var p=jt;jt|=2;var y=t_(),N=n_();(Rt!==i||dt!==o)&&(Sm=null,Ro(i,o)),o=!1;var P=en;e:do try{if(Nt!==0&&st!==null){var z=st,J=Sr;switch(Nt){case 8:Pg(),P=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var he=Nt;if(Nt=0,Sr=null,Lo(i,z,J,he),u&&Po){P=0;break e}break;default:he=Nt,Nt=0,Sr=null,Lo(i,z,J,he)}}B$(),P=en;break}catch(Se){e_(i,Se)}while(!0);return o&&i.shellSuspendCounter++,ms=ul=null,jt=p,D.H=y,D.A=N,st===null&&(Rt=null,dt=0,Gf()),P}function B$(){for(;st!==null;)r_(st)}function U$(i,o){var u=jt;jt|=2;var p=t_(),y=n_();Rt!==i||dt!==o?(Sm=null,Nm=fe()+500,Ro(i,o)):Po=lr(i,o);e:do try{if(Nt!==0&&st!==null){o=st;var N=Sr;t:switch(Nt){case 1:Nt=0,Sr=null,Lo(i,o,N,1);break;case 2:case 9:if(pS(N)){Nt=0,Sr=null,a_(o);break}o=function(){Nt!==2&&Nt!==9||Rt!==i||(Nt=7),Fa(i)},N.then(o,o);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:pS(N)?(Nt=0,Sr=null,a_(o)):(Nt=0,Sr=null,Lo(i,o,N,7));break;case 5:var P=null;switch(st.tag){case 26:P=st.memoizedState;case 5:case 27:var z=st;if(!P||z_(P)){Nt=0,Sr=null;var J=z.sibling;if(J!==null)st=J;else{var he=z.return;he!==null?(st=he,Cm(he)):st=null}break t}}Nt=0,Sr=null,Lo(i,o,N,5);break;case 6:Nt=0,Sr=null,Lo(i,o,N,6);break;case 8:Pg(),en=6;break e;default:throw Error(r(462))}}F$();break}catch(Se){e_(i,Se)}while(!0);return ms=ul=null,D.H=p,D.A=y,jt=u,st!==null?0:(Rt=null,dt=0,Gf(),en)}function F$(){for(;st!==null&&!Ze();)r_(st)}function r_(i){var o=T4(i.alternate,i,ws);i.memoizedProps=i.pendingProps,o===null?Cm(i):st=o}function a_(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=S4(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=S4(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Yx(o);default:O4(u,o),o=st=sS(o,ws),o=T4(u,o,ws)}i.memoizedProps=i.pendingProps,o===null?Cm(i):st=o}function Lo(i,o,u,p){ms=ul=null,Yx(o),ko=null,Su=0;var y=o.return;try{if(P$(i,y,o,u,dt)){en=1,gm(i,Kr(u,i.current)),st=null;return}}catch(N){if(y!==null)throw st=y,N;en=1,gm(i,Kr(u,i.current)),st=null;return}o.flags&32768?(bt||p===1?i=!0:Po||(dt&536870912)!==0?i=!1:(hi=i=!0,(p===2||p===9||p===3||p===6)&&(p=Xr.current,p!==null&&p.tag===13&&(p.flags|=16384))),s_(o,i)):Cm(o)}function Cm(i){var o=i;do{if((o.flags&32768)!==0){s_(o,hi);return}i=o.return;var u=M$(o.alternate,o,ws);if(u!==null){st=u;return}if(o=o.sibling,o!==null){st=o;return}st=o=i}while(o!==null);en===0&&(en=5)}function s_(i,o){do{var u=D$(i.alternate,i);if(u!==null){u.flags&=32767,st=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){st=i;return}st=i=u}while(i!==null);en=6,st=null}function i_(i,o,u,p,y,N,P,z,J){i.cancelPendingCommit=null;do km();while(Dn!==0);if((jt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=Nx,$e(i,u,N,P,z,J),i===Rt&&(st=Rt=null,dt=0),Mo=o,gi=i,Do=u,Ag=N,Eg=y,X4=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,K$(Ue,function(){return d_(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,y=K.p,K.p=2,P=jt,jt|=4;try{R$(i,o,u)}finally{jt=P,K.p=y,D.T=p}}Dn=1,l_(),o_(),c_()}}function l_(){if(Dn===1){Dn=0;var i=gi,o=Mo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=K.p;K.p=2;var y=jt;jt|=4;try{V4(o,i);var N=qg,P=WN(i.containerInfo),z=N.focusedElem,J=N.selectionRange;if(P!==z&&z&&z.ownerDocument&&YN(z.ownerDocument.documentElement,z)){if(J!==null&&vx(z)){var he=J.start,Se=J.end;if(Se===void 0&&(Se=he),"selectionStart"in z)z.selectionStart=he,z.selectionEnd=Math.min(Se,z.value.length);else{var Ce=z.ownerDocument||document,xe=Ce&&Ce.defaultView||window;if(xe.getSelection){var ve=xe.getSelection(),We=z.textContent.length,qe=Math.min(J.start,We),Et=J.end===void 0?qe:Math.min(J.end,We);!ve.extend&&qe>Et&&(P=Et,Et=qe,qe=P);var le=GN(z,qe),re=GN(z,Et);if(le&&re&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var ue=Ce.createRange();ue.setStart(le.node,le.offset),ve.removeAllRanges(),qe>Et?(ve.addRange(ue),ve.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),ve.addRange(ue))}}}}for(Ce=[],ve=z;ve=ve.parentNode;)ve.nodeType===1&&Ce.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Ce.length;z++){var _e=Ce[z];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}zm=!!Hg,qg=Hg=null}finally{jt=y,K.p=p,D.T=u}}i.current=o,Dn=2}}function o_(){if(Dn===2){Dn=0;var i=gi,o=Mo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=K.p;K.p=2;var y=jt;jt|=4;try{z4(i,o.alternate,o)}finally{jt=y,K.p=p,D.T=u}}Dn=3}}function c_(){if(Dn===4||Dn===3){Dn=0,X();var i=gi,o=Mo,u=Do,p=X4;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Dn=5:(Dn=0,Mo=gi=null,u_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(xi=null),wt(u),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ht,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,y=K.p,K.p=2,D.T=null;try{for(var N=i.onRecoverableError,P=0;P<p.length;P++){var z=p[P];N(z.value,{componentStack:z.stack})}}finally{D.T=o,K.p=y}}(Do&3)!==0&&km(),Fa(i),y=i.pendingLanes,(u&4194090)!==0&&(y&42)!==0?i===Tg?Mu++:(Mu=0,Tg=i):Mu=0,Du(0)}}function u_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,mu(o)))}function km(i){return l_(),o_(),c_(),d_()}function d_(){if(Dn!==5)return!1;var i=gi,o=Ag;Ag=0;var u=wt(Do),p=D.T,y=K.p;try{K.p=32>u?32:u,D.T=null,u=Eg,Eg=null;var N=gi,P=Do;if(Dn=0,Mo=gi=null,Do=0,(jt&6)!==0)throw Error(r(331));var z=jt;if(jt|=4,Y4(N.current),q4(N,N.current,P,u),jt=z,Du(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ht,N)}catch{}return!0}finally{K.p=y,D.T=p,u_(i,o)}}function f_(i,o,u){o=Kr(u,o),o=og(i.stateNode,o,2),i=li(i,o,2),i!==null&&(se(i,2),Fa(i))}function Pt(i,o,u){if(i.tag===3)f_(i,i,u);else for(;o!==null;){if(o.tag===3){f_(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xi===null||!xi.has(p))){i=Kr(u,i),u=x4(2),p=li(o,u,2),p!==null&&(g4(u,p,o,i),se(p,2),Fa(p));break}}o=o.return}}function Dg(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new I$;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(Sg=!0,y.add(u),i=V$.bind(null,i,o,u),o.then(i,i))}function V$(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Rt===i&&(dt&u)===u&&(en===4||en===3&&(dt&62914560)===dt&&300>fe()-kg?(jt&2)===0&&Ro(i,0):_g|=u,Oo===dt&&(Oo=0)),Fa(i)}function m_(i,o){o===0&&(o=Q()),i=go(i,o),i!==null&&(se(i,o),Fa(i))}function H$(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),m_(i,u)}function q$(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),m_(i,u)}function K$(i,o){return Oe(i,o)}var Am=null,$o=null,Rg=!1,Em=!1,Lg=!1,gl=0;function Fa(i){i!==$o&&i.next===null&&($o===null?Am=$o=i:$o=$o.next=i),Em=!0,Rg||(Rg=!0,Y$())}function Du(i,o){if(!Lg&&Em){Lg=!0;do for(var u=!1,p=Am;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,z=p.pingedLanes;N=(1<<31-mt(42|i)+1)-1,N&=y&~(P&~z),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,g_(p,N))}else N=dt,N=Zn(p,p===Rt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||lr(p,N)||(u=!0,g_(p,N));p=p.next}while(u);Lg=!1}}function G$(){h_()}function h_(){Em=Rg=!1;var i=0;gl!==0&&(n9()&&(i=gl),gl=0);for(var o=fe(),u=null,p=Am;p!==null;){var y=p.next,N=p_(p,o);N===0?(p.next=null,u===null?Am=y:u.next=y,y===null&&($o=u)):(u=p,(i!==0||(N&3)!==0)&&(Em=!0)),p=y}Du(i)}function p_(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var P=31-mt(N),z=1<<P,J=y[P];J===-1?((z&u)===0||(z&p)!==0)&&(y[P]=ei(z,o)):J<=o&&(i.expiredLanes|=z),N&=~z}if(o=Rt,u=dt,u=Zn(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(Nt===2||Nt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Be(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||lr(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&Be(p),wt(u)){case 2:case 8:u=Te;break;case 32:u=Ue;break;case 268435456:u=Je;break;default:u=Ue}return p=x_.bind(null,i),u=Oe(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&Be(p),i.callbackPriority=2,i.callbackNode=null,2}function x_(i,o){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(km()&&i.callbackNode!==u)return null;var p=dt;return p=Zn(i,i===Rt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(Q4(i,p,o),p_(i,fe()),i.callbackNode!=null&&i.callbackNode===u?x_.bind(null,i):null)}function g_(i,o){if(km())return null;Q4(i,o,!0)}function Y$(){a9(function(){(jt&6)!==0?Oe(Ne,G$):h_()})}function $g(){return gl===0&&(gl=me()),gl}function v_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Bf(""+i)}function y_(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function W$(i,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var N=v_((y[Zt]||null).action),P=p.submitter;P&&(o=(o=P[Zt]||null)?v_(o.formAction):P.getAttribute("formAction"),o!==null&&(N=o,P=null));var z=new Hf("action","action",null,p,y);i.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(gl!==0){var J=P?y_(y,P):new FormData(y);rg(u,{pending:!0,data:J,method:y.method,action:N},null,J)}}else typeof N=="function"&&(z.preventDefault(),J=P?y_(y,P):new FormData(y),rg(u,{pending:!0,data:J,method:y.method,action:N},N,J))},currentTarget:y}]})}}for(var Ig=0;Ig<jx.length;Ig++){var zg=jx[Ig],X$=zg.toLowerCase(),Z$=zg[0].toUpperCase()+zg.slice(1);ga(X$,"on"+Z$)}ga(QN,"onAnimationEnd"),ga(JN,"onAnimationIteration"),ga(eS,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(h$,"onTransitionRun"),ga(p$,"onTransitionStart"),ga(x$,"onTransitionCancel"),ga(tS,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function b_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var P=p.length-1;0<=P;P--){var z=p[P],J=z.instance,he=z.currentTarget;if(z=z.listener,J!==N&&y.isPropagationStopped())break e;N=z,y.currentTarget=he;try{N(y)}catch(Se){xm(Se)}y.currentTarget=null,N=J}else for(P=0;P<p.length;P++){if(z=p[P],J=z.instance,he=z.currentTarget,z=z.listener,J!==N&&y.isPropagationStopped())break e;N=z,y.currentTarget=he;try{N(y)}catch(Se){xm(Se)}y.currentTarget=null,N=J}}}}function it(i,o){var u=o[so];u===void 0&&(u=o[so]=new Set);var p=i+"__bubble";u.has(p)||(w_(o,i,2,!1),u.add(p))}function Bg(i,o,u){var p=0;o&&(p|=4),w_(u,i,p,o)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function Ug(i){if(!i[Tm]){i[Tm]=!0,ke.forEach(function(u){u!=="selectionchange"&&(Q$.has(u)||Bg(u,!1,i),Bg(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Tm]||(o[Tm]=!0,Bg("selectionchange",!1,o))}}function w_(i,o,u,p){switch(q_(o)){case 2:var y=_9;break;case 8:y=C9;break;default:y=tv}u=y.bind(null,o,u,i),y=void 0,!cx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function Fg(i,o,u,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var z=p.stateNode.containerInfo;if(z===y)break;if(P===4)for(P=p.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;z!==null;){if(P=ss(z),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){p=N=P;continue e}z=z.parentNode}}p=p.return}AN(function(){var he=N,Se=lx(u),Ce=[];e:{var xe=nS.get(i);if(xe!==void 0){var ve=Hf,We=i;switch(i){case"keypress":if(Ff(u)===0)break e;case"keydown":case"keyup":ve=KL;break;case"focusin":We="focus",ve=mx;break;case"focusout":We="blur",ve=mx;break;case"beforeblur":case"afterblur":ve=mx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=PN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=DL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=WL;break;case QN:case JN:case eS:ve=$L;break;case tS:ve=ZL;break;case"scroll":case"scrollend":ve=OL;break;case"wheel":ve=JL;break;case"copy":case"cut":case"paste":ve=zL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=MN;break;case"toggle":case"beforetoggle":ve=t$}var qe=(o&4)!==0,Et=!qe&&(i==="scroll"||i==="scrollend"),le=qe?xe!==null?xe+"Capture":null:xe;qe=[];for(var re=he,ue;re!==null;){var _e=re;if(ue=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ue===null||le===null||(_e=eu(re,le),_e!=null&&qe.push(Lu(re,_e,ue))),Et)break;re=re.return}0<qe.length&&(xe=new ve(xe,We,null,u,Se),Ce.push({event:xe,listeners:qe}))}}if((o&7)===0){e:{if(xe=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",xe&&u!==ix&&(We=u.relatedTarget||u.fromElement)&&(ss(We)||We[as]))break e;if((ve||xe)&&(xe=Se.window===Se?Se:(xe=Se.ownerDocument)?xe.defaultView||xe.parentWindow:window,ve?(We=u.relatedTarget||u.toElement,ve=he,We=We?ss(We):null,We!==null&&(Et=l(We),qe=We.tag,We!==Et||qe!==5&&qe!==27&&qe!==6)&&(We=null)):(ve=null,We=he),ve!==We)){if(qe=PN,_e="onMouseLeave",le="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(qe=MN,_e="onPointerLeave",le="onPointerEnter",re="pointer"),Et=ve==null?xe:ni(ve),ue=We==null?xe:ni(We),xe=new qe(_e,re+"leave",ve,u,Se),xe.target=Et,xe.relatedTarget=ue,_e=null,ss(Se)===he&&(qe=new qe(le,re+"enter",We,u,Se),qe.target=ue,qe.relatedTarget=Et,_e=qe),Et=_e,ve&&We)t:{for(qe=ve,le=We,re=0,ue=qe;ue;ue=Io(ue))re++;for(ue=0,_e=le;_e;_e=Io(_e))ue++;for(;0<re-ue;)qe=Io(qe),re--;for(;0<ue-re;)le=Io(le),ue--;for(;re--;){if(qe===le||le!==null&&qe===le.alternate)break t;qe=Io(qe),le=Io(le)}qe=null}else qe=null;ve!==null&&j_(Ce,xe,ve,qe,!1),We!==null&&Et!==null&&j_(Ce,Et,We,qe,!0)}}e:{if(xe=he?ni(he):window,ve=xe.nodeName&&xe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&xe.type==="file")var Ie=UN;else if(zN(xe))if(FN)Ie=d$;else{Ie=c$;var rt=o$}else ve=xe.nodeName,!ve||ve.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?he&&sx(he.elementType)&&(Ie=UN):Ie=u$;if(Ie&&(Ie=Ie(i,he))){BN(Ce,Ie,u,Se);break e}rt&&rt(i,xe,he),i==="focusout"&&he&&xe.type==="number"&&he.memoizedProps.value!=null&&ax(xe,"number",xe.value)}switch(rt=he?ni(he):window,i){case"focusin":(zN(rt)||rt.contentEditable==="true")&&(ho=rt,yx=he,ou=null);break;case"focusout":ou=yx=ho=null;break;case"mousedown":bx=!0;break;case"contextmenu":case"mouseup":case"dragend":bx=!1,XN(Ce,u,Se);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":XN(Ce,u,Se)}var Fe;if(px)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else mo?$N(i,u)&&(Ge="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(DN&&u.locale!=="ko"&&(mo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&mo&&(Fe=EN()):(ri=Se,ux="value"in ri?ri.value:ri.textContent,mo=!0)),rt=Pm(he,Ge),0<rt.length&&(Ge=new ON(Ge,i,null,u,Se),Ce.push({event:Ge,listeners:rt}),Fe?Ge.data=Fe:(Fe=IN(u),Fe!==null&&(Ge.data=Fe)))),(Fe=r$?a$(i,u):s$(i,u))&&(Ge=Pm(he,"onBeforeInput"),0<Ge.length&&(rt=new ON("onBeforeInput","beforeinput",null,u,Se),Ce.push({event:rt,listeners:Ge}),rt.data=Fe)),W$(Ce,i,he,u,Se)}b_(Ce,o)})}function Lu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Pm(i,o){for(var u=o+"Capture",p=[];i!==null;){var y=i,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=eu(i,u),y!=null&&p.unshift(Lu(i,y,N)),y=eu(i,o),y!=null&&p.push(Lu(i,y,N))),i.tag===3)return p;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j_(i,o,u,p,y){for(var N=o._reactName,P=[];u!==null&&u!==p;){var z=u,J=z.alternate,he=z.stateNode;if(z=z.tag,J!==null&&J===p)break;z!==5&&z!==26&&z!==27||he===null||(J=he,y?(he=eu(u,N),he!=null&&P.unshift(Lu(u,he,J))):y||(he=eu(u,N),he!=null&&P.push(Lu(u,he,J)))),u=u.return}P.length!==0&&i.push({event:o,listeners:P})}var J$=/\r\n?/g,e9=/\u0000|\uFFFD/g;function N_(i){return(typeof i=="string"?i:""+i).replace(J$,`
`).replace(e9,"")}function S_(i,o){return o=N_(o),N_(i)===o}function Om(){}function At(i,o,u,p,y,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||co(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&co(i,""+p);break;case"className":$f(i,"class",p);break;case"tabIndex":$f(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":$f(i,u,p);break;case"style":CN(i,p,N);break;case"data":if(o!=="object"){$f(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Bf(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&At(i,o,"name",y.name,y,null),At(i,o,"formEncType",y.formEncType,y,null),At(i,o,"formMethod",y.formMethod,y,null),At(i,o,"formTarget",y.formTarget,y,null)):(At(i,o,"encType",y.encType,y,null),At(i,o,"method",y.method,y,null),At(i,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Bf(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Om);break;case"onScroll":p!=null&&it("scroll",i);break;case"onScrollEnd":p!=null&&it("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Bf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":it("beforetoggle",i),it("toggle",i),Lf(i,"popover",p);break;case"xlinkActuate":os(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":os(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":os(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":os(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":os(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":os(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":os(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":os(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":os(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Lf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=TL.get(u)||u,Lf(i,u,p))}}function Vg(i,o,u,p,y,N){switch(u){case"style":CN(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?co(i,p):(typeof p=="number"||typeof p=="bigint")&&co(i,""+p);break;case"onScroll":p!=null&&it("scroll",i);break;case"onScrollEnd":p!=null&&it("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Le.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),N=i[Zt]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,y);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Lf(i,u,p)}}}function Rn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",i),it("load",i);var p=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var P=u[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(i,o,N,P,u,null)}}y&&At(i,o,"srcSet",u.srcSet,u,null),p&&At(i,o,"src",u.src,u,null);return;case"input":it("invalid",i);var z=N=P=y=null,J=null,he=null;for(p in u)if(u.hasOwnProperty(p)){var Se=u[p];if(Se!=null)switch(p){case"name":y=Se;break;case"type":P=Se;break;case"checked":J=Se;break;case"defaultChecked":he=Se;break;case"value":N=Se;break;case"defaultValue":z=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,o));break;default:At(i,o,p,Se,u,null)}}jN(i,N,z,J,he,P,y,!1),If(i);return;case"select":it("invalid",i),p=P=N=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":N=z;break;case"defaultValue":P=z;break;case"multiple":p=z;default:At(i,o,y,z,u,null)}o=N,u=P,i.multiple=!!p,o!=null?oo(i,!!p,o,!1):u!=null&&oo(i,!!p,u,!0);return;case"textarea":it("invalid",i),N=y=p=null;for(P in u)if(u.hasOwnProperty(P)&&(z=u[P],z!=null))switch(P){case"value":p=z;break;case"defaultValue":y=z;break;case"children":N=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:At(i,o,P,z,u,null)}SN(i,p,y,N),If(i);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:At(i,o,J,p,u,null)}return;case"dialog":it("beforetoggle",i),it("toggle",i),it("cancel",i),it("close",i);break;case"iframe":case"object":it("load",i);break;case"video":case"audio":for(p=0;p<Ru.length;p++)it(Ru[p],i);break;case"image":it("error",i),it("load",i);break;case"details":it("toggle",i);break;case"embed":case"source":case"link":it("error",i),it("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(p=u[he],p!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(i,o,he,p,u,null)}return;default:if(sx(o)){for(Se in u)u.hasOwnProperty(Se)&&(p=u[Se],p!==void 0&&Vg(i,o,Se,p,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(p=u[z],p!=null&&At(i,o,z,p,u,null))}function t9(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,z=null,J=null,he=null,Se=null;for(ve in u){var Ce=u[ve];if(u.hasOwnProperty(ve)&&Ce!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=Ce;default:p.hasOwnProperty(ve)||At(i,o,ve,null,p,Ce)}}for(var xe in p){var ve=p[xe];if(Ce=u[xe],p.hasOwnProperty(xe)&&(ve!=null||Ce!=null))switch(xe){case"type":N=ve;break;case"name":y=ve;break;case"checked":he=ve;break;case"defaultChecked":Se=ve;break;case"value":P=ve;break;case"defaultValue":z=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,o));break;default:ve!==Ce&&At(i,o,xe,ve,p,Ce)}}rx(i,P,z,J,he,Se,N,y);return;case"select":ve=P=z=xe=null;for(N in u)if(J=u[N],u.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":ve=J;default:p.hasOwnProperty(N)||At(i,o,N,null,p,J)}for(y in p)if(N=p[y],J=u[y],p.hasOwnProperty(y)&&(N!=null||J!=null))switch(y){case"value":xe=N;break;case"defaultValue":z=N;break;case"multiple":P=N;default:N!==J&&At(i,o,y,N,p,J)}o=z,u=P,p=ve,xe!=null?oo(i,!!u,xe,!1):!!p!=!!u&&(o!=null?oo(i,!!u,o,!0):oo(i,!!u,u?[]:"",!1));return;case"textarea":ve=xe=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:At(i,o,z,null,p,y)}for(P in p)if(y=p[P],N=u[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":xe=y;break;case"defaultValue":ve=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==N&&At(i,o,P,y,p,N)}NN(i,xe,ve);return;case"option":for(var We in u)if(xe=u[We],u.hasOwnProperty(We)&&xe!=null&&!p.hasOwnProperty(We))switch(We){case"selected":i.selected=!1;break;default:At(i,o,We,null,p,xe)}for(J in p)if(xe=p[J],ve=u[J],p.hasOwnProperty(J)&&xe!==ve&&(xe!=null||ve!=null))switch(J){case"selected":i.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:At(i,o,J,xe,p,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)xe=u[qe],u.hasOwnProperty(qe)&&xe!=null&&!p.hasOwnProperty(qe)&&At(i,o,qe,null,p,xe);for(he in p)if(xe=p[he],ve=u[he],p.hasOwnProperty(he)&&xe!==ve&&(xe!=null||ve!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:At(i,o,he,xe,p,ve)}return;default:if(sx(o)){for(var Et in u)xe=u[Et],u.hasOwnProperty(Et)&&xe!==void 0&&!p.hasOwnProperty(Et)&&Vg(i,o,Et,void 0,p,xe);for(Se in p)xe=p[Se],ve=u[Se],!p.hasOwnProperty(Se)||xe===ve||xe===void 0&&ve===void 0||Vg(i,o,Se,xe,p,ve);return}}for(var le in u)xe=u[le],u.hasOwnProperty(le)&&xe!=null&&!p.hasOwnProperty(le)&&At(i,o,le,null,p,xe);for(Ce in p)xe=p[Ce],ve=u[Ce],!p.hasOwnProperty(Ce)||xe===ve||xe==null&&ve==null||At(i,o,Ce,xe,p,ve)}var Hg=null,qg=null;function Mm(i){return i.nodeType===9?i:i.ownerDocument}function __(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Kg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gg=null;function n9(){var i=window.event;return i&&i.type==="popstate"?i===Gg?!1:(Gg=i,!0):(Gg=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,r9=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,a9=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(i){return A_.resolve(null).then(i).catch(s9)}:k_;function s9(i){setTimeout(function(){throw i})}function yi(i){return i==="head"}function E_(i,o){var u=o,p=0,y=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var P=i.ownerDocument;if(u&1&&$u(P.documentElement),u&2&&$u(P.body),u&4)for(u=P.head,$u(u),P=u.firstChild;P;){var z=P.nextSibling,J=P.nodeName;P[ti]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||u.removeChild(P),P=z}}if(y===0){i.removeChild(N),qu(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);qu(o)}function Yg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Yg(u),io(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function i9(i,o,u,p){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ti])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ya(i.nextSibling),i===null)break}return null}function l9(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ya(i.nextSibling),i===null))return null;return i}function Wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function o9(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function ya(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Xg=null;function T_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function P_(i,o,u){switch(o=Mm(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $u(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);io(i)}var Qr=new Map,O_=new Set;function Dm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var js=K.d;K.d={f:c9,r:u9,D:d9,C:f9,L:m9,m:h9,X:x9,S:p9,M:g9};function c9(){var i=js.f(),o=_m();return i||o}function u9(i){var o=is(i);o!==null&&o.tag===5&&o.type==="form"?QS(o):js.r(i)}var zo=typeof document>"u"?null:document;function M_(i,o,u){var p=zo;if(p&&typeof o=="string"&&o){var y=qr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),O_.has(y)||(O_.add(y),i={rel:i,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Rn(o,"link",i),oe(o),p.head.appendChild(o)))}}function d9(i){js.D(i),M_("dns-prefetch",i,null)}function f9(i,o){js.C(i,o),M_("preconnect",i,o)}function m9(i,o,u){js.L(i,o,u);var p=zo;if(p&&i&&o){var y='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+qr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+qr(u.imageSizes)+'"]')):y+='[href="'+qr(i)+'"]';var N=y;switch(o){case"style":N=Bo(i);break;case"script":N=Uo(i)}Qr.has(N)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Qr.set(N,i),p.querySelector(y)!==null||o==="style"&&p.querySelector(Iu(N))||o==="script"&&p.querySelector(zu(N))||(o=p.createElement("link"),Rn(o,"link",i),oe(o),p.head.appendChild(o)))}}function h9(i,o){js.m(i,o);var u=zo;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+qr(p)+'"][href="'+qr(i)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Uo(i)}if(!Qr.has(N)&&(i=h({rel:"modulepreload",href:i},o),Qr.set(N,i),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zu(N)))return}p=u.createElement("link"),Rn(p,"link",i),oe(p),u.head.appendChild(p)}}}function p9(i,o,u){js.S(i,o,u);var p=zo;if(p&&i){var y=ls(p).hoistableStyles,N=Bo(i);o=o||"default";var P=y.get(N);if(!P){var z={loading:0,preload:null};if(P=p.querySelector(Iu(N)))z.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Qr.get(N))&&Zg(i,u);var J=P=p.createElement("link");oe(J),Rn(J,"link",i),J._p=new Promise(function(he,Se){J.onload=he,J.onerror=Se}),J.addEventListener("load",function(){z.loading|=1}),J.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Rm(P,o,p)}P={type:"stylesheet",instance:P,count:1,state:z},y.set(N,P)}}}function x9(i,o){js.X(i,o);var u=zo;if(u&&i){var p=ls(u).hoistableScripts,y=Uo(i),N=p.get(y);N||(N=u.querySelector(zu(y)),N||(i=h({src:i,async:!0},o),(o=Qr.get(y))&&Qg(i,o),N=u.createElement("script"),oe(N),Rn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function g9(i,o){js.M(i,o);var u=zo;if(u&&i){var p=ls(u).hoistableScripts,y=Uo(i),N=p.get(y);N||(N=u.querySelector(zu(y)),N||(i=h({src:i,async:!0,type:"module"},o),(o=Qr.get(y))&&Qg(i,o),N=u.createElement("script"),oe(N),Rn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function D_(i,o,u,p){var y=(y=$.current)?Dm(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Bo(u.href),u=ls(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Bo(u.href);var N=ls(y).hoistableStyles,P=N.get(i);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,P),(N=y.querySelector(Iu(i)))&&!N._p&&(P.instance=N,P.state.loading=5),Qr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Qr.set(i,u),N||v9(y,i,u,P.state))),o&&p===null)throw Error(r(528,""));return P}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uo(u),u=ls(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bo(i){return'href="'+qr(i)+'"'}function Iu(i){return'link[rel="stylesheet"]['+i+"]"}function R_(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function v9(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Rn(o,"link",u),oe(o),i.head.appendChild(o))}function Uo(i){return'[src="'+qr(i)+'"]'}function zu(i){return"script[async]"+i}function L_(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+qr(u.href)+'"]');if(p)return o.instance=p,oe(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),oe(p),Rn(p,"style",y),Rm(p,u.precedence,i),o.instance=p;case"stylesheet":y=Bo(u.href);var N=i.querySelector(Iu(y));if(N)return o.state.loading|=4,o.instance=N,oe(N),N;p=R_(u),(y=Qr.get(y))&&Zg(p,y),N=(i.ownerDocument||i).createElement("link"),oe(N);var P=N;return P._p=new Promise(function(z,J){P.onload=z,P.onerror=J}),Rn(N,"link",p),o.state.loading|=4,Rm(N,u.precedence,i),o.instance=N;case"script":return N=Uo(u.src),(y=i.querySelector(zu(N)))?(o.instance=y,oe(y),y):(p=u,(y=Qr.get(N))&&(p=h({},u),Qg(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),oe(y),Rn(y,"link",p),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Rm(p,u.precedence,i));return o.instance}function Rm(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var z=p[P];if(z.dataset.precedence===o)N=z;else if(N!==y)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Zg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Qg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Lm=null;function $_(i,o,u){if(Lm===null){var p=new Map,y=Lm=new Map;y.set(u,p)}else y=Lm,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var N=u[y];if(!(N[ti]||N[yt]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(o)||"";P=i+P;var z=p.get(P);z?z.push(N):p.set(P,[N])}}return p}function I_(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function y9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function z_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Bu=null;function b9(){}function w9(i,o,u){if(Bu===null)throw Error(r(475));var p=Bu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Bo(u.href),N=i.querySelector(Iu(y));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=$m.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,oe(N);return}N=i.ownerDocument||i,u=R_(u),(y=Qr.get(y))&&Zg(u,y),N=N.createElement("link"),oe(N);var P=N;P._p=new Promise(function(z,J){P.onload=z,P.onerror=J}),Rn(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=$m.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function j9(){if(Bu===null)throw Error(r(475));var i=Bu;return i.stylesheets&&i.count===0&&Jg(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&Jg(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function $m(){if(this.count--,this.count===0){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Im=null;function Jg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Im=new Map,o.forEach(N9,i),Im=null,$m.call(i))}function N9(i,o){if(!(o.state.loading&4)){var u=Im.get(i);if(u)var p=u.get(null);else{u=new Map,Im.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}y=o.instance,P=y.getAttribute("data-precedence"),N=u.get(P)||p,N===p&&u.set(null,y),u.set(P,y),this.count++,p=$m.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Uu={$$typeof:k,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function S9(i,o,u,p,y,N,P,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function B_(i,o,u,p,y,N,P,z,J,he,Se,Ce){return i=new S9(i,o,u,P,z,J,he,Ce),o=1,N===!0&&(o|=24),N=wr(3,null,null,o),i.current=N,N.stateNode=i,o=Dx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},Ix(N),i}function U_(i){return i?(i=vo,i):vo}function F_(i,o,u,p,y,N){y=U_(y),p.context===null?p.context=y:p.pendingContext=y,p=ii(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=li(i,p,o),u!==null&&(Cr(u,i,o),gu(u,i,o))}function V_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ev(i,o){V_(i,o),(i=i.alternate)&&V_(i,o)}function H_(i){if(i.tag===13){var o=go(i,67108864);o!==null&&Cr(o,i,67108864),ev(i,67108864)}}var zm=!0;function _9(i,o,u,p){var y=D.T;D.T=null;var N=K.p;try{K.p=2,tv(i,o,u,p)}finally{K.p=N,D.T=y}}function C9(i,o,u,p){var y=D.T;D.T=null;var N=K.p;try{K.p=8,tv(i,o,u,p)}finally{K.p=N,D.T=y}}function tv(i,o,u,p){if(zm){var y=nv(p);if(y===null)Fg(i,o,p,Bm,u),K_(i,p);else if(A9(y,i,o,u,p))p.stopPropagation();else if(K_(i,p),o&4&&-1<k9.indexOf(i)){for(;y!==null;){var N=is(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=Xn(N.pendingLanes);if(P!==0){var z=N;for(z.pendingLanes|=2,z.entangledLanes|=2;P;){var J=1<<31-mt(P);z.entanglements[1]|=J,P&=~J}Fa(N),(jt&6)===0&&(Nm=fe()+500,Du(0))}}break;case 13:z=go(N,2),z!==null&&Cr(z,N,2),_m(),ev(N,2)}if(N=nv(p),N===null&&Fg(i,o,p,Bm,u),N===y)break;y=N}y!==null&&p.stopPropagation()}else Fg(i,o,p,null,u)}}function nv(i){return i=lx(i),rv(i)}var Bm=null;function rv(i){if(Bm=null,i=ss(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Bm=i,null}function q_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case Ne:return 2;case Te:return 8;case Ue:case Ae:return 32;case Je:return 268435456;default:return 32}default:return 32}}var av=!1,bi=null,wi=null,ji=null,Fu=new Map,Vu=new Map,Ni=[],k9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(i,o){switch(i){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Fu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(o.pointerId)}}function Hu(i,o,u,p,y,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=is(o),o!==null&&H_(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function A9(i,o,u,p,y){switch(o){case"focusin":return bi=Hu(bi,i,o,u,p,y),!0;case"dragenter":return wi=Hu(wi,i,o,u,p,y),!0;case"mouseover":return ji=Hu(ji,i,o,u,p,y),!0;case"pointerover":var N=y.pointerId;return Fu.set(N,Hu(Fu.get(N)||null,i,o,u,p,y)),!0;case"gotpointercapture":return N=y.pointerId,Vu.set(N,Hu(Vu.get(N)||null,i,o,u,p,y)),!0}return!1}function G_(i){var o=ss(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,xa(i.priority,function(){if(u.tag===13){var p=_r();p=Qe(p);var y=go(u,p);y!==null&&Cr(y,u,p),ev(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Um(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=nv(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ix=p,u.target.dispatchEvent(p),ix=null}else return o=is(u),o!==null&&H_(o),i.blockedOn=u,!1;o.shift()}return!0}function Y_(i,o,u){Um(i)&&u.delete(o)}function E9(){av=!1,bi!==null&&Um(bi)&&(bi=null),wi!==null&&Um(wi)&&(wi=null),ji!==null&&Um(ji)&&(ji=null),Fu.forEach(Y_),Vu.forEach(Y_)}function Fm(i,o){i.blockedOn===o&&(i.blockedOn=null,av||(av=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,E9)))}var Vm=null;function W_(i){Vm!==i&&(Vm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vm===i&&(Vm=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],y=i[o+2];if(typeof p!="function"){if(rv(p||u)===null)continue;break}var N=is(u);N!==null&&(i.splice(o,3),o-=3,rg(N,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function qu(i){function o(J){return Fm(J,i)}bi!==null&&Fm(bi,i),wi!==null&&Fm(wi,i),ji!==null&&Fm(ji,i),Fu.forEach(o),Vu.forEach(o);for(var u=0;u<Ni.length;u++){var p=Ni[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ni.length&&(u=Ni[0],u.blockedOn===null);)G_(u),u.blockedOn===null&&Ni.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],N=u[p+1],P=y[Zt]||null;if(typeof N=="function")P||W_(u);else if(P){var z=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[Zt]||null)z=P.formAction;else if(rv(y)!==null)continue}else z=P.action;typeof z=="function"?u[p+1]=z:(u.splice(p,3),p-=3),W_(u)}}}function sv(i){this._internalRoot=i}Hm.prototype.render=sv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=_r();F_(u,p,i,o,null,null)},Hm.prototype.unmount=sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;F_(i.current,2,null,i,null,null),_m(),o[as]=null}};function Hm(i){this._internalRoot=i}Hm.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ct();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ni.length&&o!==0&&o<Ni[u].priority;u++);Ni.splice(u,0,i),u===0&&G_(i)}};var X_=t.version;if(X_!=="19.1.0")throw Error(r(527,X_,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var T9={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qm.isDisabled&&qm.supportsFiber)try{Ht=qm.inject(T9),It=qm}catch{}}return Gu.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",y=f4,N=m4,P=h4,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks)),o=B_(i,1,!1,null,null,u,p,y,N,P,z,null),i[as]=o.current,Ug(i),new sv(o)},Gu.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,y="",N=f4,P=m4,z=h4,J=null,he=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(he=u.formState)),o=B_(i,1,!0,o,u??null,p,y,N,P,z,J,he),o.context=U_(null),u=o.current,p=_r(),p=Qe(p),y=ii(p),y.callback=null,li(u,y,p),u=p,o.current.lanes=u,se(o,u),Fa(o),i[as]=o.current,Ug(i),new Hm(o)},Gu.version="19.1.0",Gu}var i5;function V9(){if(i5)return cv.exports;i5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cv.exports=F9(),cv.exports}var H9=V9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l5="popstate";function q9(e={}){function t(r,s){let{pathname:l,search:c,hash:d}=r.location;return Wb("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$d(s)}return G9(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ta(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K9(){return Math.random().toString(36).substring(2,10)}function o5(e,t){return{usr:e.state,key:e.key,idx:t}}function Wb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mc(t):t,state:n,key:t&&t.key||r||K9()}}function $d({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function G9(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),_=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:_})}function g(S,_){d="PUSH";let C=Wb(j.location,S,_);m=h()+1;let k=o5(C,m),O=j.createHref(C);try{c.pushState(k,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(O)}l&&f&&f({action:d,location:j.location,delta:1})}function b(S,_){d="REPLACE";let C=Wb(j.location,S,_);m=h();let k=o5(C,m),O=j.createHref(C);c.replaceState(k,"",O),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return Y9(S)}let j={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(l5,x),f=S,()=>{s.removeEventListener(l5,x),f=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:b,go(S){return c.go(S)}};return j}function Y9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function a6(e,t,n="/"){return W9(e,t,n,!1)}function W9(e,t,n,r){let s=typeof t=="string"?Mc(t):t,l=Rs(s.pathname||"/",n);if(l==null)return null;let c=s6(e);X9(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=l7(l);d=s7(c[f],m,r)}return d}function s6(e,t=[],n=[],r=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Wt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ts([r,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),s6(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:r7(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of i6(l.path))s(l,c,f)}),t}function i6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=i6(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function X9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Z9=/^:[\w-]+$/,Q9=3,J9=2,e7=1,t7=10,n7=-2,c5=e=>e==="*";function r7(e,t){let n=e.split("/"),r=n.length;return n.some(c5)&&(r+=n7),t&&(r+=J9),n.filter(s=>!c5(s)).reduce((s,l)=>s+(Z9.test(l)?Q9:l===""?e7:t7),r)}function a7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s7(e,t,n=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=i0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),g=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=i0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Ts([l,x.pathname]),pathnameBase:d7(Ts([l,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(l=Ts([l,x.pathnameBase]))}return c}function i0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i7(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:x},g)=>{if(h==="*"){let w=d[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return x&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function i7(e,t=!1,n=!0){Ta(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function l7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ta(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o7(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Mc(e):e;return{pathname:n?n.startsWith("/")?n:c7(n,t):t,search:f7(r),hash:m7(s)}}function c7(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sw(e){let t=u7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _w(e,t,n,r=!1){let s;typeof e=="string"?s=Mc(e):(s={...e},Wt(!s.pathname||!s.pathname.includes("?"),mv("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),mv("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),mv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!r&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),x-=1;s.pathname=g.join("/")}d=x>=0?t[x]:"/"}let f=o7(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),d7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var l6=["POST","PUT","PATCH","DELETE"];new Set(l6);var p7=["GET",...l6];new Set(p7);var Dc=v.createContext(null);Dc.displayName="DataRouter";var rp=v.createContext(null);rp.displayName="DataRouterState";v.createContext(!1);var o6=v.createContext({isTransitioning:!1});o6.displayName="ViewTransition";var x7=v.createContext(new Map);x7.displayName="Fetchers";var g7=v.createContext(null);g7.displayName="Await";var Da=v.createContext(null);Da.displayName="Navigation";var of=v.createContext(null);of.displayName="Location";var ha=v.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var Cw=v.createContext(null);Cw.displayName="RouteError";function v7(e,{relative:t}={}){Wt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Da),{hash:s,pathname:l,search:c}=uf(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Ts([n,l])),r.createHref({pathname:d,search:c,hash:s})}function Rc(){return v.useContext(of)!=null}function rs(){return Wt(Rc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(of).location}var c6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u6(e){v.useContext(Da).static||v.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=v.useContext(ha);return e?M7():y7()}function y7(){Wt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Dc),{basename:t,navigator:n}=v.useContext(Da),{matches:r}=v.useContext(ha),{pathname:s}=rs(),l=JSON.stringify(Sw(r)),c=v.useRef(!1);return u6(()=>{c.current=!0}),v.useCallback((f,m={})=>{if(Ta(c.current,c6),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=_w(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ts([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,s,e])}var b7=v.createContext(null);function w7(e){let t=v.useContext(ha).outlet;return t&&v.createElement(b7.Provider,{value:e},t)}function cf(){let{matches:e}=v.useContext(ha),t=e[e.length-1];return t?t.params:{}}function uf(e,{relative:t}={}){let{matches:n}=v.useContext(ha),{pathname:r}=rs(),s=JSON.stringify(Sw(n));return v.useMemo(()=>_w(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function j7(e,t){return d6(e,t)}function d6(e,t,n,r){var _;Wt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Da),{matches:l}=v.useContext(ha),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let C=h&&h.path||"";f6(f,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=rs(),g;if(t){let C=typeof t=="string"?Mc(t):t;Wt(m==="/"||((_=C.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=x;let b=g.pathname||"/",w=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=a6(e,{pathname:w});Ta(h||j!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ta(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=k7(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Ts([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Ts([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r);return t&&S?v.createElement(of.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function N7(){let e=O7(),t=h7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,c)}var S7=v.createElement(N7,null),_7=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(ha.Provider,{value:this.props.routeContext},v.createElement(Cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C7({routeContext:e,match:t,children:n}){let r=v.useContext(Dc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ha.Provider,{value:e},n)}function k7(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Wt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=n,g=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let x,g=!1,b=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||S7,c&&(d<0&&h===0?(f6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===h&&(g=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,h+1)),S=()=>{let _;return x?_=b:g?_=w:m.route.Component?_=v.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,v.createElement(C7,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?v.createElement(_7,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function kw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A7(e){let t=v.useContext(Dc);return Wt(t,kw(e)),t}function E7(e){let t=v.useContext(rp);return Wt(t,kw(e)),t}function T7(e){let t=v.useContext(ha);return Wt(t,kw(e)),t}function Aw(e){let t=T7(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function P7(){return Aw("useRouteId")}function O7(){var r;let e=v.useContext(Cw),t=E7("useRouteError"),n=Aw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function M7(){let{router:e}=A7("useNavigate"),t=Aw("useNavigate"),n=v.useRef(!1);return u6(()=>{n.current=!0}),v.useCallback(async(s,l={})=>{Ta(n.current,c6),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var u5={};function f6(e,t,n){!t&&!u5[e]&&(u5[e]=!0,Ta(!1,n))}v.memo(D7);function D7({routes:e,future:t,state:n}){return d6(e,void 0,n,t)}function R7({to:e,replace:t,state:n,relative:r}){Wt(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Da);Ta(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(ha),{pathname:c}=rs(),d=Vt(),f=_w(e,Sw(l),c,r==="path"),m=JSON.stringify(f);return v.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function m6(e){return w7(e.context)}function ct(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L7({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:l=!1}){Wt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Mc(n));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:g="default"}=n,b=v.useMemo(()=>{let w=Rs(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:g},navigationType:r}},[c,f,m,h,x,g,r]);return Ta(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(Da.Provider,{value:d},v.createElement(of.Provider,{children:t,value:b}))}function $7({children:e,location:t}){return j7(Xb(e),t)}function Xb(e,t=[]){let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let l=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Xb(r.props.children,l));return}Wt(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xb(r.props.children,l)),n.push(c)}),n}var Kh="get",Gh="application/x-www-form-urlencoded";function ap(e){return e!=null&&typeof e.tagName=="string"}function I7(e){return ap(e)&&e.tagName.toLowerCase()==="button"}function z7(e){return ap(e)&&e.tagName.toLowerCase()==="form"}function B7(e){return ap(e)&&e.tagName.toLowerCase()==="input"}function U7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F7(e,t){return e.button===0&&(!t||t==="_self")&&!U7(e)}var Km=null;function V7(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var H7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(e){return e!=null&&!H7.has(e)?(Ta(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):e}function q7(e,t){let n,r,s,l,c;if(z7(e)){let d=e.getAttribute("action");r=d?Rs(d,t):null,n=e.getAttribute("method")||Kh,s=hv(e.getAttribute("enctype"))||Gh,l=new FormData(e)}else if(I7(e)||B7(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Rs(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kh,s=hv(e.getAttribute("formenctype"))||hv(d.getAttribute("enctype"))||Gh,l=new FormData(d,e),!V7()){let{name:m,type:h,value:x}=e;if(h==="image"){let g=m?`${m}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else m&&l.append(m,x)}}else{if(ap(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,s=Gh,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ew(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K7(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Rs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function G7(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y7(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W7(e,t,n){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await G7(l,n);return c.links?c.links():[]}return[]}));return J7(r.flat(1).filter(Y7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function d5(e,t,n,r,s,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function X7(e,t,{includeHydrateFallback:n}={}){return Z7(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Z7(e){return[...new Set(e)]}function Q7(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function J7(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(Q7(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}function h6(){let e=v.useContext(Dc);return Ew(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eI(){let e=v.useContext(rp);return Ew(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tw=v.createContext(void 0);Tw.displayName="FrameworkContext";function p6(){let e=v.useContext(Tw);return Ew(e,"You must render this element inside a <HydratedRouter> element"),e}function tI(e,t){let n=v.useContext(Tw),[r,s]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=_=>{_.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),v.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,g,{}]:[l,g,{onFocus:Yu(d,b),onBlur:Yu(f,w),onMouseEnter:Yu(m,b),onMouseLeave:Yu(h,w),onTouchStart:Yu(x,b)}]:[!1,g,{}]}function Yu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nI({page:e,...t}){let{router:n}=h6(),r=v.useMemo(()=>a6(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(aI,{page:e,matches:r,...t}):null}function rI(e){let{manifest:t,routeModules:n}=p6(),[r,s]=v.useState([]);return v.useEffect(()=>{let l=!1;return W7(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),r}function aI({page:e,matches:t,...n}){let r=rs(),{manifest:s,routeModules:l}=p6(),{basename:c}=h6(),{loaderData:d,matches:f}=eI(),m=v.useMemo(()=>d5(e,t,f,s,r,"data"),[e,t,f,s,r]),h=v.useMemo(()=>d5(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(_=>{var k;let C=s.routes[_.route.id];!C||!C.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in d&&((k=l[_.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(_.route.id))}),w.size===0)return[];let S=K7(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[c,d,r,s,m,t,e,l]),g=v.useMemo(()=>X7(h,s),[h,s]),b=rI(h);return v.createElement(v.Fragment,null,x.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,...j})))}function sI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x6&&(window.__reactRouterVersion="7.7.1")}catch{}function iI({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=q9({window:n,v5Compat:!0}));let s=r.current,[l,c]=v.useState({action:s.action,location:s.location}),d=v.useCallback(f=>{v.startTransition(()=>c(f))},[c]);return v.useLayoutEffect(()=>s.listen(d),[s,d]),v.createElement(L7,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var g6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v6=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...g},b){let{basename:w}=v.useContext(Da),j=typeof m=="string"&&g6.test(m),S,_=!1;if(typeof m=="string"&&j&&(S=m,x6))try{let V=new URL(window.location.href),G=m.startsWith("//")?new URL(V.protocol+m):new URL(m),H=Rs(G.pathname,w);G.origin===V.origin&&H!=null?m=H+G.search+G.hash:_=!0}catch{Ta(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=v7(m,{relative:s}),[k,O,A]=tI(r,g),E=uI(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:x});function L(V){t&&t(V),V.defaultPrevented||E(V)}let M=v.createElement("a",{...g,...A,href:S||C,onClick:_||l?t:L,ref:sI(b,O),target:f,"data-discover":!j&&n==="render"?"true":void 0});return k&&!j?v.createElement(v.Fragment,null,M,v.createElement(nI,{page:C})):M});v6.displayName="Link";var lI=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=uf(c,{relative:m.relative}),g=rs(),b=v.useContext(rp),{navigator:w,basename:j}=v.useContext(Da),S=b!=null&&pI(x)&&d===!0,_=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,C=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&j&&(k=Rs(k,j)||k);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=C===_||!s&&C.startsWith(_)&&C.charAt(O)==="/",E=k!=null&&(k===_||!s&&k.startsWith(_)&&k.charAt(_.length)==="/"),L={isActive:A,isPending:E,isTransitioning:S},M=A?t:void 0,V;typeof r=="function"?V=r(L):V=[r,A?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(L):l;return v.createElement(v6,{...m,"aria-current":M,className:V,ref:h,style:G,to:c,viewTransition:d},typeof f=="function"?f(L):f)});lI.displayName="NavLink";var oI=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:l,method:c=Kh,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...g},b)=>{let w=mI(),j=hI(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&g6.test(d),C=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||c;w(O||k.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return v.createElement("form",{ref:b,method:S,action:j,onSubmit:r?f:C,...g,"data-discover":!_&&e==="render"?"true":void 0})});oI.displayName="Form";function cI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y6(e){let t=v.useContext(Dc);return Wt(t,cI(e)),t}function uI(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Vt(),f=rs(),m=uf(e,{relative:l});return v.useCallback(h=>{if(F7(h,t)){h.preventDefault();let x=n!==void 0?n:$d(f)===$d(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,n,r,t,e,s,l,c])}var dI=0,fI=()=>`__${String(++dI)}__`;function mI(){let{router:e}=y6("useSubmit"),{basename:t}=v.useContext(Da),n=P7();return v.useCallback(async(r,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=q7(r,t);if(s.navigate===!1){let h=s.fetcherKey||fI();await e.fetch(h,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function hI(e,{relative:t}={}){let{basename:n}=v.useContext(Da),r=v.useContext(ha);Wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...uf(e||".",{relative:t})},c=rs();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ts([n,l.pathname])),$d(l)}function pI(e,{relative:t}={}){let n=v.useContext(o6);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y6("useViewTransitionState"),s=uf(e,{relative:t});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return i0(s.pathname,c)!=null||i0(s.pathname,l)!=null}var xI=r6();function b6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=b6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=b6(e))&&(r&&(r+=" "),r+=t);return r}function gI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}gI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var df=e=>typeof e=="number"&&!isNaN(e),Gl=e=>typeof e=="string",Ls=e=>typeof e=="function",vI=e=>Gl(e)||df(e),Zb=e=>Gl(e)||Ls(e)?e:null,yI=(e,t)=>e===!1||df(e)&&e>0?e:t,Qb=e=>v.isValidElement(e)||Gl(e)||Ls(e)||df(e);function bI(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function wI({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let g=n?`${e}--${c}`:e,b=n?`${t}--${c}`:t,w=v.useRef(0);return v.useLayoutEffect(()=>{let j=m.current,S=g.split(" "),_=C=>{C.target===m.current&&(x(),j.removeEventListener("animationend",_),j.removeEventListener("animationcancel",_),w.current===0&&C.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",_),j.addEventListener("animationcancel",_)},[]),v.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),r?bI(j,f,s):f()};h||(d?S():(w.current=1,j.className+=` ${b}`,j.addEventListener("animationend",S)))},[h]),pt.createElement(pt.Fragment,null,l)}}function f5(e,t){return{content:w6(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function w6(e,t,n=!1){return v.isValidElement(e)&&!Gl(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ls(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function jI({closeToast:e,theme:t,ariaLabel:n="close"}){return pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function NI({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=s||c&&d===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${d})`);let b=at("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),w=Ls(l)?l({rtl:f,type:r,defaultClassName:b}):at(b,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),pt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:g,...j}))}var SI=1,j6=()=>`${SI++}`;function _I(e,t,n){let r=1,s=0,l=[],c=[],d=t,f=new Map,m=new Set,h=C=>(m.add(C),()=>m.delete(C)),x=()=>{c=Array.from(f.values()),m.forEach(C=>C())},g=({containerId:C,toastId:k,updateId:O})=>{let A=C?C!==e:e!==1,E=f.has(k)&&O==null;return A||E},b=(C,k)=>{f.forEach(O=>{var A;(k==null||k===O.props.toastId)&&((A=O.toggle)==null||A.call(O,C))})},w=C=>{var k,O;(O=(k=C.props)==null?void 0:k.onClose)==null||O.call(k,C.removalReason),C.isActive=!1},j=C=>{if(C==null)f.forEach(w);else{let k=f.get(C);k&&w(k)}x()},S=()=>{s-=l.length,l=[]},_=C=>{var k,O;let{toastId:A,updateId:E}=C.props,L=E==null;C.staleId&&f.delete(C.staleId),C.isActive=!0,f.set(A,C),x(),n(f5(C,L?"added":"updated")),L&&((O=(k=C.props).onOpen)==null||O.call(k))};return{id:e,props:d,observe:h,toggle:b,removeToast:j,toasts:f,clearQueue:S,buildToast:(C,k)=>{if(g(k))return;let{toastId:O,updateId:A,data:E,staleId:L,delay:M}=k,V=A==null;V&&s++;let G={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(k).filter(([U,ne])=>ne!=null)),toastId:O,updateId:A,data:E,isIn:!1,className:Zb(k.className||d.toastClassName),progressClassName:Zb(k.progressClassName||d.progressClassName),autoClose:k.isLoading?!1:yI(k.autoClose,d.autoClose),closeToast(U){f.get(O).removalReason=U,j(O)},deleteToast(){let U=f.get(O);if(U!=null){if(n(f5(U,"removed")),f.delete(O),s--,s<0&&(s=0),l.length>0){_(l.shift());return}x()}}};G.closeButton=d.closeButton,k.closeButton===!1||Qb(k.closeButton)?G.closeButton=k.closeButton:k.closeButton===!0&&(G.closeButton=Qb(d.closeButton)?d.closeButton:!0);let H={content:C,props:G,staleId:L};d.limit&&d.limit>0&&s>d.limit&&V?l.push(H):df(M)?setTimeout(()=>{_(H)},M):_(H)},setProps(C){d=C},setToggle:(C,k)=>{let O=f.get(C);O&&(O.toggle=k)},isToastActive:C=>{var k;return(k=f.get(C))==null?void 0:k.isActive},getSnapshot:()=>c}}var er=new Map,Id=[],Jb=new Set,CI=e=>Jb.forEach(t=>t(e)),N6=()=>er.size>0;function kI(){Id.forEach(e=>_6(e.content,e.options)),Id=[]}var AI=(e,{containerId:t})=>{var n;return(n=er.get(t||1))==null?void 0:n.toasts.get(e)};function S6(e,t){var n;if(t)return!!((n=er.get(t))!=null&&n.isToastActive(e));let r=!1;return er.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function EI(e){if(!N6()){Id=Id.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||vI(e))er.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=er.get(e.containerId);t?t.removeToast(e.id):er.forEach(n=>{n.removeToast(e.id)})}}var TI=(e={})=>{er.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function _6(e,t){Qb(e)&&(N6()||Id.push({content:e,options:t}),er.forEach(n=>{n.buildToast(e,t)}))}function PI(e){var t;(t=er.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function C6(e,t){er.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function OI(e){let t=e.containerId||1;return{subscribe(n){let r=_I(t,e,CI);er.set(t,r);let s=r.observe(n);return kI(),()=>{s(),er.delete(t)}},setProps(n){var r;(r=er.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=er.get(t))==null?void 0:n.getSnapshot()}}}function MI(e){return Jb.add(e),()=>{Jb.delete(e)}}function DI(e){return e&&(Gl(e.toastId)||df(e.toastId))?e.toastId:j6()}function ff(e,t){return _6(e,t),t.toastId}function sp(e,t){return{...t,type:t&&t.type||e,toastId:DI(t)}}function ip(e){return(t,n)=>ff(t,sp(e,n))}function Y(e,t){return ff(e,sp("default",t))}Y.loading=(e,t)=>ff(e,sp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function RI(e,{pending:t,error:n,success:r},s){let l;t&&(l=Gl(t)?Y.loading(t,s):Y.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){Y.dismiss(l);return}let g={type:m,...c,...s,data:x},b=Gl(h)?{render:h}:h;return l?Y.update(l,{...g,...b}):Y(b.render,{...g,...b}),x},f=Ls(e)?e():e;return f.then(m=>d("success",r,m)).catch(m=>d("error",n,m)),f}Y.promise=RI;Y.success=ip("success");Y.info=ip("info");Y.error=ip("error");Y.warning=ip("warning");Y.warn=Y.warning;Y.dark=(e,t)=>ff(e,sp("default",{theme:"dark",...t}));function LI(e){EI(e)}Y.dismiss=LI;Y.clearWaitingQueue=TI;Y.isActive=S6;Y.update=(e,t={})=>{let n=AI(e,t);if(n){let{props:r,content:s}=n,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:j6()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,ff(c,l)}};Y.done=e=>{Y.update(e,{progress:1})};Y.onChange=MI;Y.play=e=>C6(!0,e);Y.pause=e=>C6(!1,e);function $I(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=v.useRef(OI(e)).current;s(e);let l=(t=v.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:S6,count:l==null?void 0:l.length}}function II(e){let[t,n]=v.useState(!1),[r,s]=v.useState(!1),l=v.useRef(null),c=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;PI({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{b()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}function w(L){if(e.draggable===!0||e.draggable===L.pointerType){C();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=L.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=L.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j(L){let{top:M,bottom:V,left:G,right:H}=l.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=G&&L.clientX<=H&&L.clientY>=M&&L.clientY<=V?_():S()}function S(){n(!0)}function _(){n(!1)}function C(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",A)}function k(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}function O(L){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&_(),e.draggableDirection==="x"?c.delta=L.clientX-c.start:c.delta=L.clientY-c.start,c.start!==L.clientX&&(c.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${V},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function A(){k();let L=l.current;if(c.canDrag&&c.didMove&&L){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let E={onPointerDown:w,onPointerUp:j};return d&&f&&(E.onMouseEnter=_,e.stacked||(E.onMouseLeave=S)),x&&(E.onClick=L=>{h&&h(L),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:E}}var zI=typeof window<"u"?v.useLayoutEffect:v.useEffect,lp=({theme:e,type:t,isLoading:n,...r})=>pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function BI(e){return pt.createElement(lp,{...e},pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function UI(e){return pt.createElement(lp,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function FI(e){return pt.createElement(lp,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function VI(e){return pt.createElement(lp,{...e},pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function HI(){return pt.createElement("div",{className:"Toastify__spinner"})}var e1={info:UI,warning:BI,success:FI,error:VI,spinner:HI},qI=e=>e in e1;function KI({theme:e,type:t,isLoading:n,icon:r}){let s=null,l={theme:e,type:t};return r===!1||(Ls(r)?s=r({...l,isLoading:n}):v.isValidElement(r)?s=v.cloneElement(r,l):n?s=e1.spinner():qI(t)&&(s=e1[t](l))),s}var GI=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:l}=II(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:g,transition:b,position:w,className:j,style:S,progressClassName:_,updateId:C,role:k,progress:O,rtl:A,toastId:E,deleteToast:L,isIn:M,isLoading:V,closeOnClick:G,theme:H,ariaLabel:U}=e,ne=at("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":G}),we=Ls(j)?j({rtl:A,position:w,type:h,defaultClassName:ne}):at(ne,j),ae=KI(e),D=!!O||!f,K={closeToast:g,type:h,theme:H},q=null;return c===!1||(Ls(c)?q=c(K):v.isValidElement(c)?q=v.cloneElement(c,K):q=jI(K)),pt.createElement(b,{isIn:M,done:L,position:w,preventExitTransition:n,nodeRef:r,playToast:l},pt.createElement("div",{id:E,tabIndex:0,onClick:m,"data-in":M,className:we,...s,style:S,ref:r,...M&&{role:k,"aria-label":U}},ae!=null&&pt.createElement("div",{className:at("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},ae),w6(d,e,!t),q,!e.customProgressBar&&pt.createElement(NI,{...C&&!D?{key:`p-${C}`}:{},rtl:A,theme:H,delay:f,isRunning:t,isIn:M,closeToast:g,hide:x,type:h,className:_,controlledProgress:D,progress:O||0})))},YI=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),WI=wI(YI("bounce",!0)),XI={position:"top-right",transition:WI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function ZI(e){let t={...XI,...e},n=e.stacked,[r,s]=v.useState(!0),l=v.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=$I(t),{className:m,style:h,rtl:x,containerId:g,hotKeys:b}=t;function w(S){let _=at("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return Ls(m)?m({position:S,rtl:x,defaultClassName:_}):at(_,Zb(m))}function j(){n&&(s(!0),Y.play())}return zI(()=>{var S;if(n){let _=l.current.querySelectorAll('[data-in="true"]'),C=12,k=(S=t.position)==null?void 0:S.includes("top"),O=0,A=0;Array.from(_).reverse().forEach((E,L)=>{let M=E;M.classList.add("Toastify__toast--stacked"),L>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=k?"top":"bot");let V=O*(r?.2:1)+(r?0:C*L);M.style.setProperty("--y",`${k?V:V*-1}px`),M.style.setProperty("--g",`${C}`),M.style.setProperty("--s",`${1-(r?A:0)}`),O+=M.offsetHeight,A+=.025})}},[r,f,n]),v.useEffect(()=>{function S(_){var C;let k=l.current;b(_)&&((C=k.querySelector('[tabIndex="0"]'))==null||C.focus(),s(!1),Y.pause()),_.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(s(!0),Y.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),pt.createElement("section",{ref:l,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),Y.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,_)=>{let C=_.length?{...h}:{...h,pointerEvents:"none"};return pt.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":n,style:C,key:`c-${S}`},_.map(({content:k,props:O})=>pt.createElement(GI,{...O,stacked:n,collapseAll:j,isIn:d(O.toastId,O.containerId),key:`t-${O.key}`},k)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),m5=e=>{const t=JI(e);return t.charAt(0).toUpperCase()+t.slice(1)},k6=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ez=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...tz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:k6("lucide",s),...!l&&!ez(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>v.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=v.forwardRef(({className:r,...s},l)=>v.createElement(nz,{ref:l,iconNode:t,className:k6(`lucide-${QI(m5(e))}`,`lucide-${e}`,r),...s}));return n.displayName=m5(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A6=Ee("arrow-left",rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],op=Ee("arrow-right",az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],E6=Ee("bot",sz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Pw=Ee("brain-circuit",iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],h5=Ee("building-2",lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],cz=Ee("calendar-days",oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],dz=Ee("calendar-range",uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ya=Ee("calendar",fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hz=Ee("camera",mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],l0=Ee("check",pz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gz=Ee("chevron-down",xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],da=Ee("chevron-left",vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zn=Ee("chevron-right",yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wz=Ee("chevron-up",bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],la=Ee("circle-alert",jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t1=Ee("circle-check-big",Nz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=Ee("circle-check",Sz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ca=Ee("circle-x",_z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n1=Ee("circle",Cz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Az=Ee("clock-3",kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pc=Ee("clock",Ez);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Pz=Ee("cloud-upload",Tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zd=Ee("copy",Oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],p5=Ee("crop",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pv=Ee("crown",Dz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jd=Ee("database",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],x5=Ee("dollar-sign",Lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bd=Ee("download",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ow=Ee("eye-off",Iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kn=Ee("eye",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],gd=Ee("file-spreadsheet",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T6=Ee("file-text",Uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lc=Ee("funnel",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yh=Ee("globe",Vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],g5=Ee("hash",Hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xv=Ee("history",qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mw=Ee("house",Kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],v5=Ee("image-off",Gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wz=Ee("image",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],vd=Ee("key-round",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Qz=Ee("key",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Nd=Ee("link",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gn=Ee("loader-circle",eB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dw=Ee("lock",tB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Gm=Ee("log-in",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],o0=Ee("log-out",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pa=Ee("mail",aB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$s=Ee("map-pin",sB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],lB=Ee("pause",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],y5=Ee("pen-line",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],r1=Ee("phone-call",cB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ut=Ee("phone",uB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mf=Ee("play",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],mB=Ee("plug-zap",fB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xa=Ee("plus",hB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xB=Ee("radio",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],vB=Ee("refresh-ccw",gB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],He=Ee("refresh-cw",yB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],P6=Ee("rocket",bB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jB=Ee("rotate-ccw",wB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rr=Ee("search",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O6=Ee("settings",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],CB=Ee("shield-alert",_B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],b5=Ee("shield-check",kB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ud=Ee("shield",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ym=Ee("shopping-cart",EB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],PB=Ee("skip-forward",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],w5=Ee("smartphone",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$c=Ee("sparkles",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j5=Ee("square-check-big",DB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sd=Ee("square-pen",RB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xc=Ee("square",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],IB=Ee("sticky-note",$B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yn=Ee("trash-2",zB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],UB=Ee("unlink",BB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],M6=Ee("user-round",FB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lc=Ee("user",VB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tr=Ee("users",HB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Rw=Ee("volume-2",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ir=Ee("x",KB);function GB(){const[e,t]=v.useState({username:"",email:"",password:""}),[n,r]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Vt(),m="https://aisdr-dbt.ddns.net",h=j=>{const{name:S,value:_}=j.target;t(C=>({...C,[S]:_})),s[S]&&l(C=>({...C,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},g=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),_=await S.json();if(S.ok)Y.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const C=_.message||_.detail||"Something went wrong. Please try again.";l({submit:C}),Y.error(C)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),Y.error(S)}finally{d(!1)}}},b=e.password.length,w=b>=6?"bg-green-500 w-full":b>=4?"bg-blue-500 w-3/4":b>=2?"bg-yellow-500 w-1/2":b>0?"bg-red-500 w-1/4":"w-0";return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(lc,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(lc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(t1,{className:"h-5 w-5 text-green-500"})})]}),s.username&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),s.username]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Pa,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(t1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),s.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dw,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!n),children:n?a.jsx(Ow,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(Kn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),a.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx(la,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):a.jsxs("div",{className:"flex items-center",children:["Create account",a.jsx(op,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})})]})}function YB(){const[e,t]=v.useState(30),n="/",r="/bg.gif";v.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=n,0):f-1)},1e3);return()=>clearInterval(d)},[]);const s=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return a.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[a.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:a.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:a.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[a.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),a.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),a.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[a.jsx(Mw,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[a.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(A6,{className:"mr-2 h-4 w-4"}),"Go Back"]}),a.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[a.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),a.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),a.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",a.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const Lw=v.createContext({});function hf(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const $w=typeof window<"u",Iw=$w?v.useLayoutEffect:v.useEffect,cp=v.createContext(null);function zw(e,t){e.indexOf(t)===-1&&e.push(t)}function up(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Is=(e,t,n)=>n>t?t:n<e?e:n;let Bw=()=>{};const zs={},D6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function R6(e){return typeof e=="object"&&e!==null}const L6=e=>/^0[^.\s]+$/u.test(e);function Uw(e){let t;return()=>(t===void 0&&(t=e()),t)}const ua=e=>e,WB=(e,t)=>n=>t(e(n)),pf=(...e)=>e.reduce(WB),gc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Fw{constructor(){this.subscriptions=[]}add(t){return zw(this.subscriptions,t),()=>up(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ea=e=>e*1e3,Za=e=>e/1e3;function $6(e,t){return t?e*(1e3/t):0}const XB=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},I6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZB=1e-7,QB=12;function JB(e,t,n,r,s){let l,c,d=0;do c=t+(n-t)/2,l=I6(c,r,s)-e,l>0?n=c:t=c;while(Math.abs(l)>ZB&&++d<QB);return c}function xf(e,t,n,r){if(e===t&&n===r)return ua;const s=l=>JB(l,0,1,e,n);return l=>l===0||l===1?l:I6(s(l),t,r)}const z6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B6=e=>t=>1-e(1-t),U6=xf(.33,1.53,.69,.99),Vw=B6(U6),F6=z6(Vw),V6=e=>(e*=2)<1?.5*Vw(e):.5*(2-Math.pow(2,-10*(e-1))),Hw=e=>1-Math.sin(Math.acos(e)),H6=B6(Hw),q6=z6(Hw),eU=xf(.42,0,1,1),tU=xf(0,0,.58,1),K6=xf(.42,0,.58,1),G6=e=>Array.isArray(e)&&typeof e[0]!="number";function Y6(e,t){return G6(e)?e[XB(0,e.length,t)]:e}const W6=e=>Array.isArray(e)&&typeof e[0]=="number",nU={linear:ua,easeIn:eU,easeInOut:K6,easeOut:tU,circIn:Hw,circInOut:q6,circOut:H6,backIn:Vw,backInOut:F6,backOut:U6,anticipate:V6},rU=e=>typeof e=="string",N5=e=>{if(W6(e)){Bw(e.length===4);const[t,n,r,s]=e;return xf(t,n,r,s)}else if(rU(e))return nU[e];return e},Wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aU(e,t){let n=new Set,r=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,g=!1)=>{const w=g&&s?n:r;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(d=h,s){l=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,l&&(l=!1,m.process(h))}};return m}const sU=40;function X6(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Wm.reduce((k,O)=>(k[O]=aU(l),k),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:g,render:b,postRender:w}=c,j=()=>{const k=zs.useManualTiming?s.timestamp:performance.now();n=!1,zs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,sU),1)),s.timestamp=k,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),x.process(s),g.process(s),b.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(j))},S=()=>{n=!0,r=!0,s.isProcessing||e(j)};return{schedule:Wm.reduce((k,O)=>{const A=c[O];return k[O]=(E,L=!1,M=!1)=>(n||S(),A.schedule(E,L,M)),k},{}),cancel:k=>{for(let O=0;O<Wm.length;O++)c[Wm[O]].cancel(k)},state:s,steps:c}}const{schedule:Ut,cancel:Bs,state:$n,steps:gv}=X6(typeof requestAnimationFrame<"u"?requestAnimationFrame:ua,!0);let Wh;function iU(){Wh=void 0}const gr={now:()=>(Wh===void 0&&gr.set($n.isProcessing||zs.useManualTiming?$n.timestamp:performance.now()),Wh),set:e=>{Wh=e,queueMicrotask(iU)}},Z6=e=>t=>typeof t=="string"&&t.startsWith(e),qw=Z6("--"),lU=Z6("var(--"),Kw=e=>lU(e)?oU.test(e.split("/*")[0].trim()):!1,oU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ic={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fd={...Ic,transform:e=>Is(0,1,e)},Xm={...Ic,default:1},_d=e=>Math.round(e*1e5)/1e5,Gw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cU(e){return e==null}const uU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yw=(e,t)=>n=>!!(typeof n=="string"&&uU.test(n)&&n.startsWith(e)||t&&!cU(n)&&Object.prototype.hasOwnProperty.call(n,t)),Q6=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,l,c,d]=r.match(Gw);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},dU=e=>Is(0,255,e),vv={...Ic,transform:e=>Math.round(dU(e))},Dl={test:Yw("rgb","red"),parse:Q6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vv.transform(e)+", "+vv.transform(t)+", "+vv.transform(n)+", "+_d(Fd.transform(r))+")"};function fU(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const a1={test:Yw("#"),parse:fU,transform:Dl.transform},gf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Li=gf("deg"),Qa=gf("%"),Xe=gf("px"),mU=gf("vh"),hU=gf("vw"),S5={...Qa,parse:e=>Qa.parse(e)/100,transform:e=>Qa.transform(e*100)},Jo={test:Yw("hsl","hue"),parse:Q6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qa.transform(_d(t))+", "+Qa.transform(_d(n))+", "+_d(Fd.transform(r))+")"},pn={test:e=>Dl.test(e)||a1.test(e)||Jo.test(e),parse:e=>Dl.test(e)?Dl.parse(e):Jo.test(e)?Jo.parse(e):a1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dl.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=pn.parse(e);return t.alpha=0,pn.transform(t)}},pU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gw))==null?void 0:t.length)||0)+(((n=e.match(pU))==null?void 0:n.length)||0)>0}const J6="number",eP="color",gU="var",vU="var(",_5="${}",yU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vd(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(yU,f=>(pn.test(f)?(r.color.push(l),s.push(eP),n.push(pn.parse(f))):f.startsWith(vU)?(r.var.push(l),s.push(gU),n.push(f)):(r.number.push(l),s.push(J6),n.push(parseFloat(f))),++l,_5)).split(_5);return{values:n,split:d,indexes:r,types:s}}function tP(e){return Vd(e).values}function nP(e){const{split:t,types:n}=Vd(e),r=t.length;return s=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===J6?l+=_d(s[c]):d===eP?l+=pn.transform(s[c]):l+=s[c]}return l}}const bU=e=>typeof e=="number"?0:pn.test(e)?pn.getAnimatableNone(e):e;function wU(e){const t=tP(e);return nP(e)(t.map(bU))}const Hi={test:xU,parse:tP,createTransformer:nP,getAnimatableNone:wU};function yv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=yv(f,d,e+1/3),l=yv(f,d,e),c=yv(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function c0(e,t){return n=>n>0?t:e}const Kt=(e,t,n)=>e+(t-e)*n,bv=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},NU=[a1,Dl,Jo],SU=e=>NU.find(t=>t.test(e));function C5(e){const t=SU(e);if(!t)return!1;let n=t.parse(e);return t===Jo&&(n=jU(n)),n}const k5=(e,t)=>{const n=C5(e),r=C5(t);if(!n||!r)return c0(e,t);const s={...n};return l=>(s.red=bv(n.red,r.red,l),s.green=bv(n.green,r.green,l),s.blue=bv(n.blue,r.blue,l),s.alpha=Kt(n.alpha,r.alpha,l),Dl.transform(s))},s1=new Set(["none","hidden"]);function _U(e,t){return s1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function CU(e,t){return n=>Kt(e,t,n)}function Ww(e){return typeof e=="number"?CU:typeof e=="string"?Kw(e)?c0:pn.test(e)?k5:EU:Array.isArray(e)?rP:typeof e=="object"?pn.test(e)?k5:kU:c0}function rP(e,t){const n=[...e],r=n.length,s=e.map((l,c)=>Ww(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=s[c](l);return n}}function kU(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ww(e[s])(e[s],t[s]));return s=>{for(const l in r)n[l]=r[l](s);return n}}function AU(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][r[l]],d=e.values[c]??0;n[s]=d,r[l]++}return n}const EU=(e,t)=>{const n=Hi.createTransformer(t),r=Vd(e),s=Vd(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?s1.has(e)&&!s.values.length||s1.has(t)&&!r.values.length?_U(e,t):pf(rP(AU(r,s),s.values),n):c0(e,t)};function aP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Kt(e,t,n):Ww(e)(e,t)}const TU=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ut.update(t,n),stop:()=>Bs(t),now:()=>$n.isProcessing?$n.timestamp:gr.now()}},sP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},u0=2e4;function Xw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<u0;)t+=n,r=e.next(t);return t>=u0?1/0:t}function iP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Xw(r),u0);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:Za(s)}}const PU=5;function lP(e,t,n){const r=Math.max(t-PU,0);return $6(n-e(r),t-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wv=.001;function OU({duration:e=rn.duration,bounce:t=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let s,l,c=1-t;c=Is(rn.minDamping,rn.maxDamping,c),e=Is(rn.minDuration,rn.maxDuration,Za(e)),c<1?(s=m=>{const h=m*c,x=h*e,g=h-n,b=i1(m,c),w=Math.exp(-x);return wv-g/b*w},l=m=>{const x=m*c*e,g=x*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=i1(Math.pow(m,2),c);return(-s(m)+wv>0?-1:1)*((g-b)*w)/j}):(s=m=>{const h=Math.exp(-m*e),x=(m-n)*e+1;return-wv+h*x},l=m=>{const h=Math.exp(-m*e),x=(n-m)*(e*e);return h*x});const d=5/e,f=DU(s,l,d);if(e=Ea(e),isNaN(f))return{stiffness:rn.stiffness,damping:rn.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const MU=12;function DU(e,t,n){let r=n;for(let s=1;s<MU;s++)r=r-e(r)/t(r);return r}function i1(e,t){return e*Math.sqrt(1-t*t)}const RU=["duration","bounce"],LU=["stiffness","damping","mass"];function A5(e,t){return t.some(n=>e[n]!==void 0)}function $U(e){let t={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...e};if(!A5(e,LU)&&A5(e,RU))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,l=2*Is(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:rn.mass,stiffness:s,damping:l}}else{const n=OU(e);t={...t,...n,mass:rn.mass},t.isResolvedFromDuration=!0}return t}function Hd(e=rn.visualDuration,t=rn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:g,isResolvedFromDuration:b}=$U({...n,velocity:-Za(n.velocity||0)}),w=g||0,j=m/(2*Math.sqrt(f*h)),S=c-l,_=Za(Math.sqrt(f/h)),C=Math.abs(S)<5;r||(r=C?rn.restSpeed.granular:rn.restSpeed.default),s||(s=C?rn.restDelta.granular:rn.restDelta.default);let k;if(j<1){const A=i1(_,j);k=E=>{const L=Math.exp(-j*_*E);return c-L*((w+j*_*S)/A*Math.sin(A*E)+S*Math.cos(A*E))}}else if(j===1)k=A=>c-Math.exp(-_*A)*(S+(w+_*S)*A);else{const A=_*Math.sqrt(j*j-1);k=E=>{const L=Math.exp(-j*_*E),M=Math.min(A*E,300);return c-L*((w+j*_*S)*Math.sinh(M)+A*S*Math.cosh(M))/A}}const O={calculatedDuration:b&&x||null,next:A=>{const E=k(A);if(b)d.done=A>=x;else{let L=A===0?w:0;j<1&&(L=A===0?Ea(w):lP(k,A,E));const M=Math.abs(L)<=r,V=Math.abs(c-E)<=s;d.done=M&&V}return d.value=d.done?c:E,d},toString:()=>{const A=Math.min(Xw(O),u0),E=sP(L=>O.next(A*L).value,A,30);return A+"ms "+E},toTransition:()=>{}};return O}Hd.applyToOptions=e=>{const t=iP(e,100,Hd);return e.ease=t.ease,e.duration=Ea(t.duration),e.type="keyframes",e};function l1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],g={done:!1,value:x},b=M=>d!==void 0&&M<d||f!==void 0&&M>f,w=M=>d===void 0?f:f===void 0||Math.abs(d-M)<Math.abs(f-M)?d:f;let j=n*t;const S=x+j,_=c===void 0?S:c(S);_!==S&&(j=_-x);const C=M=>-j*Math.exp(-M/r),k=M=>_+C(M),O=M=>{const V=C(M),G=k(M);g.done=Math.abs(V)<=m,g.value=g.done?_:G};let A,E;const L=M=>{b(g.value)&&(A=M,E=Hd({keyframes:[g.value,w(g.value)],velocity:lP(k,M,g.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return L(0),{calculatedDuration:null,next:M=>{let V=!1;return!E&&A===void 0&&(V=!0,O(M),L(M)),A!==void 0&&M>=A?E.next(M-A):(!V&&O(M),g)}}}function IU(e,t,n){const r=[],s=n||zs.mix||aP,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ua:t;d=pf(f,d)}r.push(d)}return r}function oP(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const l=e.length;if(Bw(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=IU(t,r,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const g=gc(e[x],e[x+1],h);return d[x](g)};return n?h=>m(Is(e[0],e[l-1],h)):m}function cP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=gc(0,t,r);e.push(Kt(n,1,s))}}function uP(e){const t=[0];return cP(t,e.length-1),t}function zU(e,t){return e.map(n=>n*t)}function BU(e,t){return e.map(()=>t||K6).splice(0,e.length-1)}function Cd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=G6(r)?r.map(N5):N5(r),l={done:!1,value:t[0]},c=zU(n&&n.length===t.length?n:uP(t),e),d=oP(c,t,{ease:Array.isArray(s)?s:BU(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const UU=e=>e!==null;function Zw(e,{repeat:t,repeatType:n="loop"},r,s=1){const l=e.filter(UU),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const FU={decay:l1,inertia:l1,tween:Cd,keyframes:Cd,spring:Hd};function dP(e){typeof e.type=="string"&&(e.type=FU[e.type])}class Qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const VU=e=>e/100;class Jw extends Qw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==gr.now()&&this.tick(gr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;dP(t);const{type:n=Cd,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||Cd;f!==Cd&&typeof d[0]!="number"&&(this.mixKeyframes=pf(VU,aP(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Xw(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:g,repeatDelay:b,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,O=r;if(x){const M=Math.min(this.currentTime,s)/d;let V=Math.floor(M),G=M%1;!G&&M>=1&&(G=1),G===1&&V--,V=Math.min(V,x+1),!!(V%2)&&(g==="reverse"?(G=1-G,b&&(G-=b/d)):g==="mirror"&&(O=c)),k=Is(0,1,G)*d}const A=C?{done:!1,value:h[0]}:O.next(k);l&&(A.value=l(A.value));let{done:E}=A;!C&&f!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return L&&w!==l1&&(A.value=Zw(h,this.options,S,this.speed)),j&&j(A.value),L&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return Za(this.calculatedDuration)}get time(){return Za(this.currentTime)}set time(t){var n;t=Ea(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Za(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=TU,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function HU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rl=e=>e*180/Math.PI,o1=e=>{const t=Rl(Math.atan2(e[1],e[0]));return c1(t)},qU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o1,rotateZ:o1,skewX:e=>Rl(Math.atan(e[1])),skewY:e=>Rl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c1=e=>(e=e%360,e<0&&(e+=360),e),E5=o1,T5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),P5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T5,scaleY:P5,scale:e=>(T5(e)+P5(e))/2,rotateX:e=>c1(Rl(Math.atan2(e[6],e[5]))),rotateY:e=>c1(Rl(Math.atan2(-e[2],e[0]))),rotateZ:E5,rotate:E5,skewX:e=>Rl(Math.atan(e[4])),skewY:e=>Rl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u1(e){return e.includes("scale")?1:0}function d1(e,t){if(!e||e==="none")return u1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=KU,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qU,s=d}if(!s)return u1(t);const l=r[t],c=s[1].split(",").map(YU);return typeof l=="function"?l(c):c[l]}const GU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return d1(n,t)};function YU(e){return parseFloat(e.trim())}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bc=new Set(zc),O5=e=>e===Ic||e===Xe,WU=new Set(["x","y","z"]),XU=zc.filter(e=>!WU.has(e));function ZU(e){const t=[];return XU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ul={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>d1(t,"x"),y:(e,{transform:t})=>d1(t,"y")};Ul.translateX=Ul.x;Ul.translateY=Ul.y;const Fl=new Set;let f1=!1,m1=!1,h1=!1;function fP(){if(m1){const e=Array.from(Fl).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=ZU(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}m1=!1,f1=!1,Fl.forEach(e=>e.complete(h1)),Fl.clear()}function mP(){Fl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m1=!0)})}function QU(){h1=!0,mP(),fP(),h1=!1}class ej{constructor(t,n,r,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),f1||(f1=!0,Ut.read(mP),Ut.resolveKeyframes(fP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}HU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JU=e=>e.startsWith("--");function eF(e,t,n){JU(t)?e.style.setProperty(t,n):e.style[t]=n}const tF=Uw(()=>window.ScrollTimeline!==void 0),nF={};function rF(e,t){const n=Uw(e);return()=>nF[t]??n()}const hP=rF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,M5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function pP(e,t){if(e)return typeof e=="function"?hP()?sP(e,t):"ease-out":W6(e)?yd(e):Array.isArray(e)?e.map(n=>pP(n,t)||M5.easeOut):M5[e]}function aF(e,t,n,{delay:r=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const x=pP(d,s);Array.isArray(x)&&(h.easing=x);const g={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(g.pseudoElement=m),e.animate(h,g)}function tj(e){return typeof e=="function"&&"applyToOptions"in e}function sF({type:e,...t}){return tj(e)&&hP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class iF extends Qw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Bw(typeof t.type!="string");const m=sF(t);this.animation=aF(n,r,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=Zw(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):eF(n,r,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Za(Number(t))}get time(){return Za(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ea(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&tF()?(this.animation.timeline=t,ua):n(this)}}const xP={anticipate:V6,backInOut:F6,circInOut:q6};function lF(e){return e in xP}function oF(e){typeof e.ease=="string"&&lF(e.ease)&&(e.ease=xP[e.ease])}const D5=10;class cF extends iF{constructor(t){oF(t),dP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Jw({...c,autoplay:!1}),f=Ea(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-D5).value,d.sample(f).value,D5),d.stop()}}const R5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hi.test(e)||e==="0")&&!e.startsWith("url("));function uF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dF(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=R5(s,t),d=R5(l,t);return!c||!d?!1:uF(e)||(n==="spring"||tj(n))&&r}function p1(e){e.duration=0,e.type}const fF=new Set(["opacity","clipPath","filter","transform"]),mF=Uw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hF(e){var h;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return mF()&&n&&fF.has(n)&&(n!=="transform"||!m)&&!f&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}const pF=40;class xF extends Qw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=gr.now();const g={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},b=(h==null?void 0:h.KeyframeResolver)||ej;this.keyframeResolver=new b(d,(j,S,_)=>this.onKeyframesResolved(j,S,g,!_),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=r;this.resolvedAt=gr.now(),dF(t,l,c,d)||((zs.instantAnimations||!f)&&(h==null||h(Zw(t,r,n))),t[0]=t[t.length-1],p1(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!m&&hF(g)?new cF({...g,element:g.motionValue.owner.current}):new Jw(g);b.finished.then(()=>this.notifyFinished()).catch(ua),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),QU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class gF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vF extends gF{then(t,n){return this.finished.finally(t).then(()=>{})}}const yF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bF(e){const t=yF.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function gP(e,t,n=1){const[r,s]=bF(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return D6(c)?parseFloat(c):c}return Kw(s)?gP(s,t,n+1):s}function nj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const vP=new Set(["width","height","top","left","right","bottom",...zc]),wF={test:e=>e==="auto",parse:e=>e},yP=e=>t=>t.test(e),bP=[Ic,Xe,Qa,Li,hU,mU,wF],L5=e=>bP.find(yP(e));function jF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L6(e):!0}const NF=new Set(["brightness","contrast","saturate","opacity"]);function SF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Gw)||[];if(!r)return e;const s=n.replace(r,"");let l=NF.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+s+")"}const _F=/\b([a-z-]*)\(.*?\)/gu,x1={...Hi,getAnimatableNone:e=>{const t=e.match(_F);return t?t.map(SF).join(" "):e}},$5={...Ic,transform:Math.round},CF={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Xm,scaleX:Xm,scaleY:Xm,scaleZ:Xm,skew:Li,skewX:Li,skewY:Li,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Fd,originX:S5,originY:S5,originZ:Xe},rj={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe,...CF,zIndex:$5,fillOpacity:Fd,strokeOpacity:Fd,numOctaves:$5},kF={...rj,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:x1,WebkitFilter:x1},wP=e=>kF[e];function jP(e,t){let n=wP(e);return n!==x1&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AF=new Set(["auto","none","0"]);function EF(e,t,n){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!AF.has(l)&&Vd(l).values.length&&(s=e[r]),r++}if(s&&n)for(const l of t)e[l]=jP(n,s)}class TF extends ej{constructor(t,n,r,s,l){super(t,n,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Kw(m))){const h=gP(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!vP.has(r)||t.length!==2)return;const[s,l]=t,c=L5(s),d=L5(l);if(c!==d)if(O5(c)&&O5(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Ul[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||jF(t[s]))&&r.push(s);r.length&&EF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ul[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ul[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function NP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const SP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function _P(e){return R6(e)&&"offsetHeight"in e}const I5=30,PF=e=>!isNaN(parseFloat(e)),kd={current:void 0};class OF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=gr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return kd.current&&kd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>I5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,I5);return $6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(e,t){return new OF(e,t)}const{schedule:aj}=X6(queueMicrotask,!1),ja={x:!1,y:!1};function CP(){return ja.x||ja.y}function MF(e){return e==="x"||e==="y"?ja[e]?null:(ja[e]=!0,()=>{ja[e]=!1}):ja.x||ja.y?null:(ja.x=ja.y=!0,()=>{ja.x=ja.y=!1})}function kP(e,t){const n=NP(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function z5(e){return!(e.pointerType==="touch"||CP())}function DF(e,t,n={}){const[r,s,l]=kP(e,n),c=d=>{if(!z5(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{z5(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return r.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const AP=(e,t)=>t?e===t?!0:AP(e,t.parentElement):!1,sj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,RF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LF(e){return RF.has(e.tagName)||e.tabIndex!==-1}const Xh=new WeakSet;function B5(e){return t=>{t.key==="Enter"&&e(t)}}function jv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $F=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=B5(()=>{if(Xh.has(n))return;jv(n,"down");const s=B5(()=>{jv(n,"up")}),l=()=>jv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function U5(e){return sj(e)&&!CP()}function IF(e,t,n={}){const[r,s,l]=kP(e,n),c=d=>{const f=d.currentTarget;if(!U5(d))return;Xh.add(f);const m=t(f,d),h=(b,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),Xh.has(f)&&Xh.delete(f),U5(b)&&typeof m=="function"&&m(b,{success:w})},x=b=>{h(b,f===window||f===document||n.useGlobalTarget||AP(f,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",g,s)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),_P(d)&&(d.addEventListener("focus",m=>$F(m,s)),!LF(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ij(e){return R6(e)&&"ownerSVGElement"in e}function EP(e){return ij(e)&&e.tagName==="svg"}function zF(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],l=e[2+n],c=e[3+n],d=oP(s,l,c);return t?d(r):d}const Tn=e=>!!(e&&e.getVelocity),BF=[...bP,pn,Hi],UF=e=>BF.find(yP(e)),dp=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class FF extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=_P(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function VF({children:e,isPresent:t,anchorX:n,root:r}){const s=v.useId(),l=v.useRef(null),c=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=v.useContext(dp);return v.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:g}=c.current;if(t||!l.current||!f||!m)return;const b=n==="left"?`left: ${x}`:`right: ${g}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),a.jsx(FF,{isPresent:t,childRef:l,sizeRef:c,children:v.cloneElement(e,{ref:l})})}const HF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=hf(qF),h=v.useId();let x=!0,g=v.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&x&&(g={...g}),v.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),v.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=a.jsx(VF,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(cp.Provider,{value:g,children:e})};function qF(){return new Map}function TP(e=!0){const t=v.useContext(cp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,l=v.useId();v.useEffect(()=>{if(e)return s(l)},[e]);const c=v.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Zm=e=>e.key||"";function F5(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const _t=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=TP(c),x=v.useMemo(()=>F5(e),[e]),g=c&&!m?[]:x.map(Zm),b=v.useRef(!0),w=v.useRef(x),j=hf(()=>new Map),[S,_]=v.useState(x),[C,k]=v.useState(x);Iw(()=>{b.current=!1,w.current=x;for(let E=0;E<C.length;E++){const L=Zm(C[E]);g.includes(L)?j.delete(L):j.get(L)!==!0&&j.set(L,!1)}},[C,g.length,g.join("-")]);const O=[];if(x!==S){let E=[...x];for(let L=0;L<C.length;L++){const M=C[L],V=Zm(M);g.includes(V)||(E.splice(L,0,M),O.push(M))}return l==="wait"&&O.length&&(E=O),k(F5(E)),_(x),null}const{forceRender:A}=v.useContext(Lw);return a.jsx(a.Fragment,{children:C.map(E=>{const L=Zm(E),M=c&&!m?!1:x===C||g.includes(L),V=()=>{if(j.has(L))j.set(L,!0);else return;let G=!0;j.forEach(H=>{H||(G=!1)}),G&&(A==null||A(),k(w.current),c&&(h==null||h()),r&&r())};return a.jsx(HF,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:M?void 0:V,anchorX:d,children:E},L)})})},PP=v.createContext({strict:!1}),V5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vc={};for(const e in V5)vc[e]={isEnabled:t=>V5[e].some(n=>!!t[n])};function KF(e){for(const t in e)vc[t]={...vc[t],...e[t]}}const GF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function d0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GF.has(e)}let OP=e=>!d0(e);function YF(e){typeof e=="function"&&(OP=t=>t.startsWith("on")?!d0(t):e(t))}try{YF(require("@emotion/is-prop-valid").default)}catch{}function WF(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(OP(s)||n===!0&&d0(s)||!t&&!d0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const fp=v.createContext({});function mp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qd(e){return typeof e=="string"||Array.isArray(e)}const lj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oj=["initial",...lj];function hp(e){return mp(e.animate)||oj.some(t=>qd(e[t]))}function MP(e){return!!(hp(e)||e.variants)}function XF(e,t){if(hp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qd(n)?n:void 0,animate:qd(r)?r:void 0}}return e.inherit!==!1?t:{}}function ZF(e){const{initial:t,animate:n}=XF(e,v.useContext(fp));return v.useMemo(()=>({initial:t,animate:n}),[H5(t),H5(n)])}function H5(e){return Array.isArray(e)?e.join(" "):e}const Kd={};function QF(e){for(const t in e)Kd[t]=e[t],qw(t)&&(Kd[t].isCSSVariable=!0)}function DP(e,{layout:t,layoutId:n}){return Bc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Kd[e]||e==="opacity")}const JF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eV=zc.length;function tV(e,t,n){let r="",s=!0;for(let l=0;l<eV;l++){const c=zc[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=SP(d,rj[c]);if(!f){s=!1;const h=JF[c]||c;r+=`${h}(${m}) `}n&&(t[c]=m)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function cj(e,t,n){const{style:r,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(Bc.has(f)){c=!0;continue}else if(qw(f)){s[f]=m;continue}else{const h=SP(m,rj[f]);f.startsWith("origin")?(d=!0,l[f]=h):r[f]=h}}if(t.transform||(c||n?r.transform=tV(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;r.transformOrigin=`${f} ${m} ${h}`}}const uj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RP(e,t,n){for(const r in t)!Tn(t[r])&&!DP(r,n)&&(e[r]=t[r])}function nV({transformTemplate:e},t){return v.useMemo(()=>{const n=uj();return cj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rV(e,t){const n=e.style||{},r={};return RP(r,n,e),Object.assign(r,nV(e,t)),r}function aV(e,t){const n={},r=rV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sV={offset:"stroke-dashoffset",array:"stroke-dasharray"},iV={offset:"strokeDashoffset",array:"strokeDasharray"};function lV(e,t,n=1,r=0,s=!0){e.pathLength=1;const l=s?sV:iV;e[l.offset]=Xe.transform(-r);const c=Xe.transform(t),d=Xe.transform(n);e[l.array]=`${c} ${d}`}function LP(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(cj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:g}=e;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),s!==void 0&&lV(x,s,l,c,!1)}const $P=()=>({...uj(),attrs:{}}),IP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oV(e,t,n,r){const s=v.useMemo(()=>{const l=$P();return LP(l,t,IP(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};RP(l,e.style,e),s.style={...l,...s.style}}return s}const cV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dj(e){return typeof e!="string"||e.includes("-")?!1:!!(cV.indexOf(e)>-1||/[A-Z]/u.test(e))}function uV(e,t,n,{latestValues:r},s,l=!1){const d=(dj(e)?oV:aV)(t,r,s,e),f=WF(t,typeof e=="string",l),m=e!==v.Fragment?{...f,...d,ref:n}:{},{children:h}=t,x=v.useMemo(()=>Tn(h)?h.get():h,[h]);return v.createElement(e,{...m,children:x})}function q5(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function fj(e,t,n,r){if(typeof t=="function"){const[s,l]=q5(r);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=q5(r);t=t(n!==void 0?n:e.custom,s,l)}return t}function Zh(e){return Tn(e)?e.get():e}function dV({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:fV(n,r,s,e),renderState:t()}}function fV(e,t,n,r){const s={},l=r(e,{});for(const g in l)s[g]=Zh(l[g]);let{initial:c,animate:d}=e;const f=hp(e),m=MP(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!mp(x)){const g=Array.isArray(x)?x:[x];for(let b=0;b<g.length;b++){const w=fj(e,g[b]);if(w){const{transitionEnd:j,transition:S,..._}=w;for(const C in _){let k=_[C];if(Array.isArray(k)){const O=h?k.length-1:0;k=k[O]}k!==null&&(s[C]=k)}for(const C in j)s[C]=j[C]}}}return s}const zP=e=>(t,n)=>{const r=v.useContext(fp),s=v.useContext(cp),l=()=>dV(e,t,r,s);return n?l():hf(l)};function mj(e,t,n){var l;const{style:r}=e,s={};for(const c in r)(Tn(r[c])||t.style&&Tn(t.style[c])||DP(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const mV=zP({scrapeMotionValuesFromProps:mj,createRenderState:uj});function BP(e,t,n){const r=mj(e,t,n);for(const s in e)if(Tn(e[s])||Tn(t[s])){const l=zc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const hV=zP({scrapeMotionValuesFromProps:BP,createRenderState:$P}),pV=Symbol.for("motionComponentSymbol");function ec(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xV(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ec(n)&&(n.current=r))},[t])}const hj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gV="framerAppearId",UP="data-"+hj(gV),FP=v.createContext({});function vV(e,t,n,r,s){var j,S;const{visualElement:l}=v.useContext(fp),c=v.useContext(PP),d=v.useContext(cp),f=v.useContext(dp).reducedMotion,m=v.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=v.useContext(FP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&yV(m.current,n,s,x);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const b=n[UP],w=v.useRef(!!b&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return Iw(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,b)}),w.current=!1),h.enteringChildren=void 0)}),h}function yV(e,t,n,r){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:VP(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&ec(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:f,layoutRoot:m})}function VP(e){if(e)return e.options.allowProjection!==!1?e.projection:VP(e.parent)}function Nv(e,{forwardMotionProps:t=!1}={},n,r){n&&KF(n);const s=dj(e)?hV:mV;function l(d,f){let m;const h={...v.useContext(dp),...d,layoutId:bV(d)},{isStatic:x}=h,g=ZF(d),b=s(d,x);if(!x&&$w){wV();const w=jV(h);m=w.MeasureLayout,g.visualElement=vV(e,b,h,r,w.ProjectionNode)}return a.jsxs(fp.Provider,{value:g,children:[m&&g.visualElement?a.jsx(m,{visualElement:g.visualElement,...h}):null,uV(e,d,xV(b,g.visualElement,f),b,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=v.forwardRef(l);return c[pV]=e,c}function bV({layoutId:e}){const t=v.useContext(Lw).id;return t&&e!==void 0?t+"-"+e:e}function wV(e,t){v.useContext(PP).strict}function jV(e){const{drag:t,layout:n}=vc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function NV(e,t){if(typeof Proxy>"u")return Nv;const n=new Map,r=(l,c)=>Nv(l,c,e,t),s=(l,c)=>r(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Nv(c,void 0,e,t)),n.get(c))})}function HP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function SV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _V(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sv(e){return e===void 0||e===1}function g1({scale:e,scaleX:t,scaleY:n}){return!Sv(e)||!Sv(t)||!Sv(n)}function Cl(e){return g1(e)||qP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qP(e){return K5(e.x)||K5(e.y)}function K5(e){return e&&e!=="0%"}function f0(e,t,n){const r=e-n,s=t*r;return n+s}function G5(e,t,n,r,s){return s!==void 0&&(e=f0(e,s,r)),f0(e,n,r)+t}function v1(e,t=0,n=1,r,s){e.min=G5(e.min,t,n,r,s),e.max=G5(e.max,t,n,r,s)}function KP(e,{x:t,y:n}){v1(e.x,t.translate,t.scale,t.originPoint),v1(e.y,n.translate,n.scale,n.originPoint)}const Y5=.999999999999,W5=1.0000000000001;function CV(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&nc(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,KP(e,c)),r&&Cl(l.latestValues)&&nc(e,l.latestValues))}t.x<W5&&t.x>Y5&&(t.x=1),t.y<W5&&t.y>Y5&&(t.y=1)}function tc(e,t){e.min=e.min+t,e.max=e.max+t}function X5(e,t,n,r,s=.5){const l=Kt(e.min,e.max,s);v1(e,t,n,l,r)}function nc(e,t){X5(e.x,t.x,t.scaleX,t.scale,t.originX),X5(e.y,t.y,t.scaleY,t.scale,t.originY)}function GP(e,t){return HP(_V(e.getBoundingClientRect(),t))}function kV(e,t,n){const r=GP(e,n),{scroll:s}=t;return s&&(tc(r.x,s.offset.x),tc(r.y,s.offset.y)),r}const Z5=()=>({translate:0,scale:1,origin:0,originPoint:0}),rc=()=>({x:Z5(),y:Z5()}),Q5=()=>({min:0,max:0}),nn=()=>({x:Q5(),y:Q5()}),y1={current:null},YP={current:!1};function AV(){if(YP.current=!0,!!$w)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>y1.current=e.matches;e.addEventListener("change",t),t()}else y1.current=!1}const Gd=new WeakMap;function EV(e,t,n){for(const r in t){const s=t[r],l=n[r];if(Tn(s))e.addValue(r,s);else if(Tn(l))e.addValue(r,Yl(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,Yl(c!==void 0?c:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const J5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WP{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ej,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=gr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ut.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=hp(n),this.isVariantNode=MP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in x){const b=x[g];f[g]!==void 0&&Tn(b)&&b.set(f[g])}}mount(t){var n;this.current=t,Gd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),YP.current||AV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Bc.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vc){const n=vc[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<J5.length;r++){const s=J5[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=EV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(D6(r)||L6(r))?r=parseFloat(r):!UF(r)&&Hi.test(n)&&(r=jP(t,n)),this.setBaseTarget(t,Tn(r)?r.get():r)),Tn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=fj(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Tn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){aj.render(this.render)}}class XP extends WP{constructor(){super(...arguments),this.KeyframeResolver=TF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZP(e,{style:t,vars:n},r,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function TV(e){return window.getComputedStyle(e)}class QP extends XP{constructor(){super(...arguments),this.type="html",this.renderInstance=ZP}readValueFromInstance(t,n){var r;if(Bc.has(n))return(r=this.projection)!=null&&r.isProjecting?u1(n):GU(t,n);{const s=TV(t),l=(qw(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return GP(t,n)}build(t,n,r){cj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mj(t,n,r)}}const JP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PV(e,t,n,r){ZP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(JP.has(s)?s:hj(s),t.attrs[s])}class eO extends XP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bc.has(n)){const r=wP(n);return r&&r.default||0}return n=JP.has(n)?n:hj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return BP(t,n,r)}build(t,n,r){LP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){PV(t,n,r,s)}mount(t){this.isSVGTag=IP(t.tagName),super.mount(t)}}const OV=(e,t)=>dj(e)?new eO(t):new QP(t,{allowProjection:e!==v.Fragment});function oc(e,t,n){const r=e.getProps();return fj(r,t,n!==void 0?n:r.custom,e)}const b1=e=>Array.isArray(e);function MV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yl(n))}function DV(e){return b1(e)?e[e.length-1]||0:e}function RV(e,t){const n=oc(e,t);let{transitionEnd:r={},transition:s={},...l}=n||{};l={...l,...r};for(const c in l){const d=DV(l[c]);MV(e,c,d)}}function LV(e){return!!(Tn(e)&&e.add)}function w1(e,t){const n=e.getValue("willChange");if(LV(n))return n.add(t);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function tO(e){return e.props[UP]}const $V=e=>e!==null;function IV(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter($V),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const zV={type:"spring",stiffness:500,damping:25,restSpeed:10},BV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),UV={type:"keyframes",duration:.8},FV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VV=(e,{keyframes:t})=>t.length>2?UV:Bc.has(e)?e.startsWith("scale")?BV(t[1]):zV:FV;function HV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const pj=(e,t,n,r={},s,l)=>c=>{const d=nj(r,e)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ea(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:g=>{t.set(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};HV(d)||Object.assign(h,VV(e,h)),h.duration&&(h.duration=Ea(h.duration)),h.repeatDelay&&(h.repeatDelay=Ea(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(p1(h),h.delay===0&&(x=!0)),(zs.instantAnimations||zs.skipAnimations)&&(x=!0,p1(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const g=IV(h.keyframes,d);if(g!==void 0){Ut.update(()=>{h.onUpdate(g),h.onComplete()});return}}return d.isSync?new Jw(h):new xF(h)};function qV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),g=d[h];if(g===void 0||m&&qV(m,h))continue;const b={delay:n,...nj(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const _=tO(e);if(_){const C=window.MotionHandoffAnimation(_,h,Ut);C!==null&&(b.startTime=C,j=!0)}}w1(e,h),x.start(pj(h,x,g,e.shouldReduceMotion&&vP.has(h)?{type:!1}:b,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Ut.update(()=>{c&&RV(e,c)})}),f}function nO(e,t,n,r=0,s=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):s===1?l*r:d-l*r}function j1(e,t,n={}){var f;const r=oc(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const l=r?()=>Promise.all(xj(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:g}=s;return KV(e,t,m,h,x,g,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function KV(e,t,n=0,r=0,s=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(j1(f,t,{...c,delay:n+(typeof r=="function"?0:r)+nO(e.variantChildren,f,r,s,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function GV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>j1(e,l,n));r=Promise.all(s)}else if(typeof t=="string")r=j1(e,t,n);else{const s=typeof t=="function"?oc(e,t,n.custom):t;r=Promise.all(xj(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function rO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const YV=oj.length;function aO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?aO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<YV;n++){const r=oj[n],s=e.props[r];(qd(s)||s===!1)&&(t[r]=s)}return t}const WV=[...lj].reverse(),XV=lj.length;function ZV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>GV(e,n,r)))}function QV(e){let t=ZV(e),n=e3(),r=!0;const s=f=>(m,h)=>{var g;const x=oc(e,h,f==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=aO(e.parent)||{},x=[],g=new Set;let b={},w=1/0;for(let S=0;S<XV;S++){const _=WV[S],C=n[_],k=m[_]!==void 0?m[_]:h[_],O=qd(k),A=_===f?C.isActive:null;A===!1&&(w=S);let E=k===h[_]&&k!==m[_]&&O;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),C.protectedKeys={...b},!C.isActive&&A===null||!k&&!C.prevProp||mp(k)||typeof k=="boolean")continue;const L=JV(C.prevProp,k);let M=L||_===f&&C.isActive&&!E&&O||S>w&&O,V=!1;const G=Array.isArray(k)?k:[k];let H=G.reduce(s(_),{});A===!1&&(H={});const{prevResolvedValues:U={}}=C,ne={...U,...H},we=K=>{M=!0,g.has(K)&&(V=!0,g.delete(K)),C.needsAnimating[K]=!0;const q=e.getValue(K);q&&(q.liveStyle=!1)};for(const K in ne){const q=H[K],F=U[K];if(b.hasOwnProperty(K))continue;let T=!1;b1(q)&&b1(F)?T=!rO(q,F):T=q!==F,T?q!=null?we(K):g.add(K):q!==void 0&&g.has(K)?we(K):C.protectedKeys[K]=!0}C.prevProp=k,C.prevResolvedValues=H,C.isActive&&(b={...b,...H}),r&&e.blockInitialAnimation&&(M=!1);const ae=E&&L;M&&(!ae||V)&&x.push(...G.map(K=>{const q={type:_};if(typeof K=="string"&&r&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,T=oc(F,K);if(F.enteringChildren&&T){const{delayChildren:R}=T.transition||{};q.delay=nO(F.enteringChildren,e,R)}}return{animation:K,options:q}}))}if(g.size){const S={};if(typeof m.initial!="boolean"){const _=oc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const C=e.getBaseTarget(_),k=e.getValue(_);k&&(k.liveStyle=!0),S[_]=C??null}),x.push({animation:S})}let j=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=e3(),r=!0}}}function JV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rO(t,e):!1}function vl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e3(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class Wi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eH extends Wi{constructor(t){super(t),t.animationState||(t.animationState=QV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();mp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tH=0;class nH extends Wi{constructor(){super(...arguments),this.id=tH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rH={animation:{Feature:eH},exit:{Feature:nH}};function Yd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function vf(e){return{point:{x:e.pageX,y:e.pageY}}}const aH=e=>t=>sj(t)&&e(t,vf(t));function Ad(e,t,n,r){return Yd(e,t,aH(n),r)}const sO=1e-4,sH=1-sO,iH=1+sO,iO=.01,lH=0-iO,oH=0+iO;function nr(e){return e.max-e.min}function cH(e,t,n){return Math.abs(e-t)<=n}function t3(e,t,n,r=.5){e.origin=r,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=nr(n)/nr(t),e.translate=Kt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sH&&e.scale<=iH||isNaN(e.scale))&&(e.scale=1),(e.translate>=lH&&e.translate<=oH||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,n,r){t3(e.x,t.x,n.x,r?r.originX:void 0),t3(e.y,t.y,n.y,r?r.originY:void 0)}function n3(e,t,n){e.min=n.min+t.min,e.max=e.min+nr(t)}function uH(e,t,n){n3(e.x,t.x,n.x),n3(e.y,t.y,n.y)}function r3(e,t,n){e.min=t.min-n.min,e.max=e.min+nr(t)}function Td(e,t,n){r3(e.x,t.x,n.x),r3(e.y,t.y,n.y)}function sa(e){return[e("x"),e("y")]}const lO=({current:e})=>e?e.ownerDocument.defaultView:null,a3=(e,t)=>Math.abs(e-t);function dH(e,t){const n=a3(e.x,t.x),r=a3(e.y,t.y);return Math.sqrt(n**2+r**2)}class oO{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Cv(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=dH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=g,{timestamp:S}=$n;this.history.push({...j,timestamp:S});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=_v(b,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Cv(g.type==="pointercancel"?this.lastMoveEventInfo:_v(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,_),j&&j(g,_)},!sj(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const d=vf(t),f=_v(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=$n;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=n;x&&x(t,Cv(f,this.history)),this.removeListeners=pf(Ad(this.contextWindow,"pointermove",this.handlePointerMove),Ad(this.contextWindow,"pointerup",this.handlePointerUp),Ad(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function _v(e,t){return t?{point:t(e.point)}:e}function s3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cv({point:e},t){return{point:e,delta:s3(e,cO(t)),offset:s3(e,fH(t)),velocity:mH(t,.1)}}function fH(e){return e[0]}function cO(e){return e[e.length-1]}function mH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=cO(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ea(t)));)n--;if(!r)return{x:0,y:0};const l=Za(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function hH(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Kt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Kt(n,e,r.max):Math.min(e,n)),e}function i3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pH(e,{top:t,left:n,bottom:r,right:s}){return{x:i3(e.x,n,s),y:i3(e.y,t,r)}}function l3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xH(e,t){return{x:l3(e.x,t.x),y:l3(e.y,t.y)}}function gH(e,t){let n=.5;const r=nr(e),s=nr(t);return s>r?n=gc(t.min,t.max-r,e.min):r>s&&(n=gc(e.min,e.max-s,t.min)),Is(0,1,n)}function vH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const N1=.35;function yH(e=N1){return e===!1?e=0:e===!0&&(e=N1),{x:o3(e,"left","right"),y:o3(e,"top","bottom")}}function o3(e,t,n){return{min:c3(e,t),max:c3(e,n)}}function c3(e,t){return typeof e=="number"?e:e[t]||0}const bH=new WeakMap;class wH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vf(x).point)},c=(x,g)=>{const{drag:b,dragPropagation:w,onDragStart:j}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MF(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sa(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Qa.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[_];O&&(C=nr(O)*(parseFloat(C)/100))}}this.originPoint[_]=C}),j&&Ut.postRender(()=>j(x,g)),w1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(w&&this.currentDirection===null){this.currentDirection=jH(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),S&&S(x,g)},f=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>sa(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new oO(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:lO(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ut.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Qm(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=hH(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&ec(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pH(r.layoutBox,t):this.constraints=!1,this.elastic=yH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sa(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=vH(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ec(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=kV(r,s.root,this.visualElement.getTransformPagePoint());let c=xH(s.layout.layoutBox,l);if(n){const d=n(SV(c));this.hasMutatedConstraints=!!d,d&&(c=HP(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=sa(h=>{if(!Qm(h,n,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const g=s?200:1e6,b=s?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return w1(this.visualElement,t),r.start(pj(t,r,0,n,this.visualElement,!1))}stopAnimation(){sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sa(n=>{const{drag:r}=this.getProps();if(!Qm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-Kt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ec(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sa(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=gH({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sa(c=>{if(!Qm(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Kt(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;bH.set(this.visualElement,this);const t=this.visualElement.current,n=Ad(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ec(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ut.read(r);const c=Yd(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(sa(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=N1,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Qm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NH extends Wi{constructor(t){super(t),this.removeGroupControls=ua,this.removeListeners=ua,this.controls=new wH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ua}unmount(){this.removeGroupControls(),this.removeListeners()}}const u3=e=>(t,n)=>{e&&Ut.postRender(()=>e(t,n))};class SH extends Wi{constructor(){super(...arguments),this.removePointerDownListener=ua}onPointerDown(t){this.session=new oO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:u3(t),onStart:u3(n),onMove:r,onEnd:(l,c)=>{delete this.session,s&&Ut.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Ad(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xe.test(e))e=parseFloat(e);else return e;const n=d3(e,t.target.x),r=d3(e,t.target.y);return`${n}% ${r}%`}},_H={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Hi.parse(e);if(s.length>5)return r;const l=Hi.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=Kt(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let kv=!1;class CH extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;QF(kH),l&&(n.group&&n.group.add(l),r&&r.register&&s&&r.register(l),kv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,kv=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ut.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),aj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;kv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uO(e){const[t,n]=TP(),r=v.useContext(Lw);return a.jsx(CH,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(FP),isPresent:t,safeToRemove:n})}const kH={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:_H};function dO(e,t,n){const r=Tn(e)?e:Yl(e);return r.start(pj("",r,t,n)),r.animation}const AH=(e,t)=>e.depth-t.depth;class EH{constructor(){this.children=[],this.isDirty=!1}add(t){zw(this.children,t),this.isDirty=!0}remove(t){up(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AH),this.isDirty=!1,this.children.forEach(t)}}function TH(e,t){const n=gr.now(),r=({timestamp:s})=>{const l=s-n;l>=t&&(Bs(r),e(l-t))};return Ut.setup(r,!0),()=>Bs(r)}const fO=["TopLeft","TopRight","BottomLeft","BottomRight"],PH=fO.length,f3=e=>typeof e=="string"?parseFloat(e):e,m3=e=>typeof e=="number"||Xe.test(e);function OH(e,t,n,r,s,l){s?(e.opacity=Kt(0,n.opacity??1,MH(r)),e.opacityExit=Kt(t.opacity??1,0,DH(r))):l&&(e.opacity=Kt(t.opacity??1,n.opacity??1,r));for(let c=0;c<PH;c++){const d=`border${fO[c]}Radius`;let f=h3(t,d),m=h3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||m3(f)===m3(m)?(e[d]=Math.max(Kt(f3(f),f3(m),r),0),(Qa.test(m)||Qa.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Kt(t.rotate||0,n.rotate||0,r))}function h3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MH=mO(0,.5,H6),DH=mO(.5,.95,ua);function mO(e,t,n){return r=>r<e?0:r>t?1:n(gc(e,t,r))}function p3(e,t){e.min=t.min,e.max=t.max}function Jr(e,t){p3(e.x,t.x),p3(e.y,t.y)}function x3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function g3(e,t,n,r,s){return e-=t,e=f0(e,1/n,r),s!==void 0&&(e=f0(e,1/s,r)),e}function RH(e,t=0,n=1,r=.5,s,l=e,c=e){if(Qa.test(t)&&(t=parseFloat(t),t=Kt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Kt(l.min,l.max,r);e===l&&(d-=t),e.min=g3(e.min,t,n,d,s),e.max=g3(e.max,t,n,d,s)}function v3(e,t,[n,r,s],l,c){RH(e,t[n],t[r],t[s],t.scale,l,c)}const LH=["x","scaleX","originX"],$H=["y","scaleY","originY"];function y3(e,t,n,r){v3(e.x,t,LH,n?n.x:void 0,r?r.x:void 0),v3(e.y,t,$H,n?n.y:void 0,r?r.y:void 0)}function b3(e){return e.translate===0&&e.scale===1}function hO(e){return b3(e.x)&&b3(e.y)}function w3(e,t){return e.min===t.min&&e.max===t.max}function IH(e,t){return w3(e.x,t.x)&&w3(e.y,t.y)}function j3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pO(e,t){return j3(e.x,t.x)&&j3(e.y,t.y)}function N3(e){return nr(e.x)/nr(e.y)}function S3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zH{constructor(){this.members=[]}add(t){zw(this.members,t),t.scheduleRender()}remove(t){if(up(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BH(e,t,n){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||l||c)&&(r=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:g,skewX:b,skewY:w}=n;m&&(r=`perspective(${m}px) ${r}`),h&&(r+=`rotate(${h}deg) `),x&&(r+=`rotateX(${x}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Av=["","X","Y","Z"],UH=1e3;let FH=0;function Ev(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=tO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xO(r)}function gO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=FH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qH),this.nodes.forEach(WH),this.nodes.forEach(XH),this.nodes.forEach(KH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new EH)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Fw),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ij(c)&&!EP(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const g=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{x=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,h&&h(),h=TH(g,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(k3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||tq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),_=!this.targetLayout||!pO(this.targetLayout,b),C=!x&&g;if(this.options.layoutRoot||this.resumeFrom||C||x&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...nj(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,C)}else x||k3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZH),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YH),this.nodes.forEach(VH),this.nodes.forEach(HH)):this.nodes.forEach(C3),this.clearAllSnapshots();const d=gr.now();$n.delta=Is(0,1e3/60,d-$n.timestamp),$n.timestamp=d,$n.isProcessing=!0,gv.update.process($n),gv.preRender.process($n),gv.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GH),this.sharedNodes.forEach(QH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!hO(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Cl(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),nq(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return nn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(rq))){const{scroll:h}=this.root;h&&(tc(d.x,h.offset.x),tc(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=nn();if(Jr(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:g}=h;h!==this.root&&x&&g.layoutScroll&&(x.wasRoot&&Jr(d,c),tc(d.x,x.offset.x),tc(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=nn();Jr(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&nc(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Cl(h.latestValues)&&nc(f,h.latestValues)}return Cl(this.latestValues)&&nc(f,this.latestValues),f}removeTransform(c){const d=nn();Jr(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Cl(m.latestValues))continue;g1(m.latestValues)&&m.updateSnapshot();const h=nn(),x=m.measurePageBox();Jr(h,x),y3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return Cl(this.latestValues)&&y3(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Td(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jr(this.target,this.layout.layoutBox),KP(this.target,this.targetDelta)):Jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Td(this.relativeTargetOrigin,this.target,b.target),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g1(this.parent.latestValues)||qP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;Jr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;CV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=nn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x3(this.prevProjectionDelta.x,this.projectionDelta.x),x3(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!S3(this.projectionDelta.x,this.prevProjectionDelta.x)||!S3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rc(),this.projectionDelta=rc(),this.projectionDeltaWithTransform=rc()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=rc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const g=nn(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=b!==w,S=this.getStack(),_=!S||S.members.length<=1,C=!!(j&&!_&&this.options.crossfade===!0&&!this.path.some(eq));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const A=O/1e3;A3(x.x,c.x,A),A3(x.y,c.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Td(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JH(this.relativeTarget,this.relativeTargetOrigin,g,A),k&&IH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=nn()),Jr(k,this.relativeTarget)),j&&(this.animationValues=h,OH(h,m,this.latestValues,A,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=dO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&vO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||nn();const x=nr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const g=nr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+g}Jr(d,f),nc(d,h),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zH),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Ev("z",c,m,this.animationValues);for(let h=0;h<Av.length;h++)Ev(`rotate${Av[h]}`,c,m,this.animationValues),Ev(`skew${Av[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Zh(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Zh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Cl(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=BH(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Kd){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:_}=Kd[w],C=x==="none"?h[w]:j(h[w],m);if(S){const k=S.length;for(let O=0;O<k;O++)c[S[O]]=C}else _?this.options.visualElement.renderState.vars[w]=C:c[w]=C}this.options.layoutId&&(c.pointerEvents=m===this?Zh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(_3),this.root.sharedNodes.clear()}}}function VH(e){e.updateLayout()}function HH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?sa(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=nr(g);g.min=r[x].min,g.max=g.min+b}):vO(l,t.layoutBox,r)&&sa(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=nr(r[x]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const d=rc();Ed(d,r,t.layoutBox);const f=rc();c?Ed(f,e.applyTransform(s,!0),t.measuredBox):Ed(f,r,t.layoutBox);const m=!hO(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:g,layout:b}=x;if(g&&b){const w=nn();Td(w,t.layoutBox,g.layoutBox);const j=nn();Td(j,r,b.layoutBox),pO(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function qH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function GH(e){e.clearSnapshot()}function _3(e){e.clearMeasurements()}function C3(e){e.isLayoutDirty=!1}function YH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WH(e){e.resolveTargetDelta()}function XH(e){e.calcProjection()}function ZH(e){e.resetSkewAndRotation()}function QH(e){e.removeLeadSnapshot()}function A3(e,t,n){e.translate=Kt(t.translate,0,n),e.scale=Kt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function E3(e,t,n,r){e.min=Kt(t.min,n.min,r),e.max=Kt(t.max,n.max,r)}function JH(e,t,n,r){E3(e.x,t.x,n.x,r),E3(e.y,t.y,n.y,r)}function eq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tq={duration:.45,ease:[.4,0,.1,1]},T3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),P3=T3("applewebkit/")&&!T3("chrome/")?Math.round:ua;function O3(e){e.min=P3(e.min),e.max=P3(e.max)}function nq(e){O3(e.x),O3(e.y)}function vO(e,t,n){return e==="position"||e==="preserve-aspect"&&!cH(N3(t),N3(n),.2)}function rq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const aq=gO({attachResizeListener:(e,t)=>Yd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tv={current:void 0},yO=gO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tv.current){const e=new aq({});e.mount(window),e.setOptions({layoutScroll:!0}),Tv.current=e}return Tv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sq={pan:{Feature:SH},drag:{Feature:NH,ProjectionNode:yO,MeasureLayout:uO}};function M3(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=r[s];l&&Ut.postRender(()=>l(t,vf(t)))}class iq extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=DF(t,(n,r)=>(M3(this.node,r,"Start"),s=>M3(this.node,s,"End"))))}unmount(){}}class lq extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(Yd(this.node.current,"focus",()=>this.onFocus()),Yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D3(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=r[s];l&&Ut.postRender(()=>l(t,vf(t)))}class oq extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=IF(t,(n,r)=>(D3(this.node,r,"Start"),(s,{success:l})=>D3(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S1=new WeakMap,Pv=new WeakMap,cq=e=>{const t=S1.get(e.target);t&&t(e)},uq=e=>{e.forEach(cq)};function dq({root:e,...t}){const n=e||document;Pv.has(n)||Pv.set(n,{});const r=Pv.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(uq,{root:e,...t})),r[s]}function fq(e,t,n){const r=dq(t);return S1.set(e,n),r.observe(e),()=>{S1.delete(e),r.unobserve(e)}}const mq={some:0,all:1};class hq extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:mq[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),g=m?h:x;g&&g(f)};return fq(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pq(t,n))&&this.startObserver()}unmount(){}}function pq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xq={inView:{Feature:hq},tap:{Feature:oq},focus:{Feature:lq},hover:{Feature:iq}},gq={layout:{ProjectionNode:yO,MeasureLayout:uO}},vq={...rH,...xq,...sq,...gq},ge=NV(vq,OV);function yc(e){const t=hf(()=>Yl(e)),{isStatic:n}=v.useContext(dp);if(n){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}function bO(e,t){const n=yc(t()),r=()=>n.set(t());return r(),Iw(()=>{const s=()=>Ut.preRender(r,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),Bs(r)}}),n}function yq(e){kd.current=[],e();const t=bO(kd.current,e);return kd.current=void 0,t}function m0(e,t,n,r){if(typeof e=="function")return yq(e);const s=typeof t=="function"?t:zF(t,n,r);return Array.isArray(e)?R3(e,s):R3([e],([l])=>s(l))}function R3(e,t){const n=hf(()=>[]);return bO(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function gj(e){return typeof e=="object"&&!Array.isArray(e)}function wO(e,t,n,r){return typeof e=="string"&&gj(t)?NP(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function bq(e,t,n){return e*(t+1)}function L3(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function wq(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(up(e,s),r--)}}function jq(e,t,n,r,s,l){wq(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Kt(s,l,r[c]),easing:Y6(n,c)})}function Nq(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Sq(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const _q="easeInOut";function Cq(e,{defaultTransition:t={},...n}={},r,s){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,g=0;for(let b=0;b<e.length;b++){const w=e[b];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,L3(x,w.at,h,m));continue}let[j,S,_={}]=w;_.at!==void 0&&(x=L3(x,_.at,h,m));let C=0;const k=(O,A,E,L=0,M=0)=>{const V=kq(O),{delay:G=0,times:H=uP(V),type:U="keyframes",repeat:ne,repeatType:we,repeatDelay:ae=0,...D}=A;let{ease:K=t.ease||"easeOut",duration:q}=A;const F=typeof G=="function"?G(L,M):G,T=V.length,R=tj(U)?U:s==null?void 0:s[U||"keyframes"];if(T<=2&&R){let B=100;if(T===2&&Tq(V)){const te=V[1]-V[0];B=Math.abs(te)}const $={...D};q!==void 0&&($.duration=Ea(q));const ie=iP($,B,R);K=ie.ease,q=ie.duration}q??(q=l);const I=x+F;H.length===1&&H[0]===0&&(H[1]=1);const W=H.length-V.length;if(W>0&&cP(H,W),V.length===1&&V.unshift(null),ne){q=bq(q,ne);const B=[...V],$=[...H];K=Array.isArray(K)?[...K]:[K];const ie=[...K];for(let te=0;te<ne;te++){V.push(...B);for(let pe=0;pe<B.length;pe++)H.push($[pe]+(te+1)),K.push(pe===0?"linear":Y6(ie,pe-1))}Nq(H,ne)}const ce=I+q;jq(E,V,K,H,I,ce),C=Math.max(F+q,C),g=Math.max(ce,g)};if(Tn(j)){const O=$3(j,d);k(S,_,I3("default",O))}else{const O=wO(j,S,r,f),A=O.length;for(let E=0;E<A;E++){S=S,_=_;const L=O[E],M=$3(L,d);for(const V in S)k(S[V],Aq(_,V),I3(V,M),E,A)}}h=x,x+=C}return d.forEach((b,w)=>{for(const j in b){const S=b[j];S.sort(Sq);const _=[],C=[],k=[];for(let A=0;A<S.length;A++){const{at:E,value:L,easing:M}=S[A];_.push(L),C.push(gc(0,g,E)),k.push(M||"easeOut")}C[0]!==0&&(C.unshift(0),_.unshift(_[0]),k.unshift(_q)),C[C.length-1]!==1&&(C.push(1),_.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const O=c.get(w);O.keyframes[j]=_,O.transition[j]={...t,duration:g,ease:k,times:C,...n}}}),c}function $3(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function I3(e,t){return t[e]||(t[e]=[]),t[e]}function kq(e){return Array.isArray(e)?e:[e]}function Aq(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Eq=e=>typeof e=="number",Tq=e=>e.every(Eq);function Pq(e,t){return e in t}class Oq extends WP{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Pq(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return nn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Mq(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ij(e)&&!EP(e)?new eO(t):new QP(t);n.mount(e),Gd.set(e,n)}function Dq(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Oq(t);n.mount(e),Gd.set(e,n)}function Rq(e,t){return Tn(e)||typeof e=="number"||typeof e=="string"&&!gj(t)}function jO(e,t,n,r){const s=[];if(Rq(e,t))s.push(dO(e,gj(t)&&t.default||t,n&&(n.default||n)));else{const l=wO(e,t,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?Mq:Dq;Gd.has(f)||m(f);const h=Gd.get(f),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),s.push(...xj(h,{...t,transition:x},{}))}}return s}function Lq(e,t,n){const r=[];return Cq(e,t,n,{spring:Hd}).forEach(({keyframes:l,transition:c},d)=>{r.push(...jO(d,l,c))}),r}function $q(e){return Array.isArray(e)&&e.some(Array.isArray)}function Iq(e){function t(n,r,s){let l=[];return $q(n)?l=Lq(n,r,e):l=jO(n,r,s,e),new vF(l)}return t}const zq=Iq(),z3="https://aisdr-dbt.ddns.net";function Bq(){const[e,t]=v.useState(["","","",""]),[n,r]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=[v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null)],m=Vt();v.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("email");_&&r(decodeURIComponent(_)),setTimeout(()=>{var C;return(C=f[0].current)==null?void 0:C.focus()},50)},[]),v.useEffect(()=>{if(c>0){const S=setTimeout(()=>d(_=>_-1),1e3);return()=>clearTimeout(S)}},[c]);const h=(S,_)=>{var O;const C=_.replace(/\D/g,"");if(C.length>1)return;const k=[...e];k[S]=C,t(k),C&&S<3&&((O=f[S+1].current)==null||O.focus()),k.every(A=>A!=="")&&k.join("").length===4&&b(k.join(""))},x=(S,_)=>{var C,k,O;_.key==="Backspace"&&!e[S]&&S>0&&((C=f[S-1].current)==null||C.focus()),_.key==="Enter"&&b(e.join("")),_.key==="ArrowLeft"&&S>0&&((k=f[S-1].current)==null||k.focus()),_.key==="ArrowRight"&&S<3&&((O=f[S+1].current)==null||O.focus())},g=S=>{var O,A;S.preventDefault();const _=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!_)return;const C=["","","",""];for(let E=0;E<_.length;E++)C[E]=_[E];t(C);const k=C.findIndex(E=>E==="");k!==-1?(O=f[k].current)==null||O.focus():(A=f[3].current)==null||A.focus(),C.every(E=>E!=="")&&b(C.join(""))},b=async(S=null)=>{var C,k,O;const _=S||e.join("");if(_.length!==4){Y.error("Please enter all 4 digits");return}if(!n){Y.error("Email is required for verification");return}l(!0);try{const A=await fetch(`${z3}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:_,email:n})}),E=await A.json().catch(()=>({}));A.ok?(E.token&&localStorage.setItem("token",E.token),(C=E.user)!=null&&C.role&&localStorage.setItem("role",E.user.role),Y.success("Account verified successfully! "),setTimeout(()=>m("/profile"),800)):(Y.error("Invalid OTP. Please try again."),t(["","","",""]),(k=f[0].current)==null||k.focus())}catch{Y.error("Network error. Please check your connection and try again."),t(["","","",""]),(O=f[0].current)==null||O.focus()}finally{l(!1)}},w=async()=>{var S;if(!(c>0||!n)){l(!0);try{(await fetch(`${z3}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(Y.success("New verification code sent to your email."),d(60),t(["","","",""]),(S=f[0].current)==null||S.focus()):Y.error("Failed to resend code. Please try again.")}catch{Y.error("Network error. Please try again.")}finally{l(!1)}}},j="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return a.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx(ge.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(ge.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(ge.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),a.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${j} flex items-center justify-center`,children:[a.jsx(ge.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),a.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),a.jsx(Pa,{className:"relative w-7 h-7 text-blue-600"})]})}),a.jsx(ge.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),a.jsxs(ge.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",a.jsx("br",{}),a.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx(ge.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${j}`,children:a.jsxs("form",{onSubmit:S=>{S.preventDefault(),b()},children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-4 text-center",children:"Enter verification code"}),a.jsx("div",{className:"flex justify-center gap-3 sm:gap-4 mb-6",children:e.map((S,_)=>a.jsx(ge.input,{ref:f[_],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:S,onFocus:C=>C.target.select(),onChange:C=>h(_,C.target.value),onKeyDown:C=>x(_,C),onPaste:g,"aria-label":`OTP digit ${_+1}`,disabled:s,className:`w-14 h-16 sm:w-16 sm:h-18 text-center text-2xl sm:text-3xl font-bold rounded-xl outline-none transition-all duration-200
                      border-2 bg-white/90 backdrop-blur
                      focus:ring-2
                      ${S?"border-blue-400 focus:ring-blue-300":"border-slate-200 focus:border-blue-400 focus:ring-blue-300"}
                      ${S?j:""}
                      text-slate-900 placeholder-slate-400`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*_}},_))}),a.jsxs(ge.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group w-full relative overflow-hidden flex justify-center items-center py-3 px-4 text-sm font-semibold rounded-xl text-white
                  transition-all duration-200
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                  shadow-lg hover:shadow-xl ${j}`,whileTap:{scale:.98},children:[a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:a.jsx("span",{className:"absolute -inset-12 rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent w-2/3 h-[200%] translate-x-[-150%] group-hover:translate-x-[120%] transition-transform duration-700"})}),s?a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Verifying"]}):a.jsxs("div",{className:"flex items-center",children:["Verify Account",a.jsx(op,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Didn't receive the code?"}),a.jsxs("button",{type:"button",onClick:w,disabled:c>0||s||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:[a.jsx(He,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]})]})}function Uq(){const[e,t]=v.useState({email:"",password:""}),[n,r]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Vt(),m="https://aisdr-dbt.ddns.net",h=b=>{const{name:w,value:j}=b.target;t(S=>({...S,[w]:j})),s[w]&&l(S=>({...S,[w]:""}))},x=()=>{const b={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",l(b),Object.keys(b).length===0},g=async b=>{var w,j,S;if(b.preventDefault(),!!x()){d(!0),l({});try{const _=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),C=await _.json();if(_.ok)C.token&&localStorage.setItem("token",C.token),(w=C.user)!=null&&w.role&&localStorage.setItem("role",C.user.role),(j=C.user)!=null&&j.name&&localStorage.setItem("name",C.user.name),(S=C.user)!=null&&S.email&&localStorage.setItem("email",C.user.email),Y.success("Login successful! "),setTimeout(()=>{var O,A,E;const k=((E=(A=(O=C.user)==null?void 0:O.role)==null?void 0:A.toLowerCase)==null?void 0:E.call(A))||"";f(k==="user"?"/user/dashboard":k==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const k=C.message||C.detail||"Invalid email or password. Please try again.";Y.error(k),l({submit:k})}}catch{const _="Network error. Please check your connection and try again.";Y.error(_),l({submit:_})}finally{d(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(lc,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx(la,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Pa,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(t1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),s.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Dw,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!n),children:n?a.jsx(Ow,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(Kn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),s.password]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):a.jsxs("div",{className:"flex items-center",children:["Sign in",a.jsx(op,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})]})}function Fq({length:e=4,value:t,onChange:n}){const r=v.useRef([]),s=f=>{const m=r.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const g=x.join("");n(g),h&&f<e-1&&s(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",n(x.join("")),s(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),s(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),s(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let g=0;g<e;g++)h[g]=m[g]||"";n(h.join(""));const x=Math.min(m.length,e)-1;s(x>=0?x:0)};return a.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return a.jsx("input",{ref:x=>r.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function Vq(){const[e,t]=v.useState(1),[n,r]=v.useState(""),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState(!1),[h,x]=v.useState({}),[g,b]=v.useState(!1),w=Vt(),j="https://aisdr-dbt.ddns.net",S=()=>{const O={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(O.email="Please enter a valid email address"):O.email="Email is required",x(O),Object.keys(O).length===0},_=()=>{const O={};return(!s||s.length!==4)&&(O.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",x(O),Object.keys(O).length===0},C=async O=>{if(O.preventDefault(),!!S()){b(!0);try{const A=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),E=await A.json();A.ok?(Y.success("Password reset OTP sent to your email! "),t(2)):Y.error(E.detail||"Something went wrong.")}catch{Y.error("Network error. Please try again.")}finally{b(!1)}}},k=async O=>{if(O.preventDefault(),!!_()){b(!0);try{const A=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:s,password:c})}),E=await A.json();A.ok?(Y.success("Password changed successfully! "),w("/user")):Y.error(E.detail||"Failed to reset password.")}catch{Y.error("Network error. Please try again.")}finally{b(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(Qz,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",a.jsx("span",{className:"font-medium",children:n})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&a.jsxs("form",{className:"space-y-6",onSubmit:C,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{type:"email",value:n,onChange:O=>r(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),h.email]})]}),a.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:g?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):a.jsxs("div",{className:"flex items-center",children:["Send OTP",a.jsx(op,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&a.jsxs("form",{className:"space-y-6",onSubmit:k,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),a.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),a.jsx(Fq,{length:4,value:s,onChange:l}),h.code&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),h.code]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dw,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:f?"text":"password",value:c,onChange:O=>d(O.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>m(O=>!O),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?a.jsx(Ow,{className:"h-5 w-5"}):a.jsx(Kn,{className:"h-5 w-5"})})]}),h.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),h.password]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),a.jsx("button",{type:"submit",disabled:g||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Resetting":"Reset Password"}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[a.jsx(A6,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var _1=function(e,t){return _1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},_1(e,t)};function Hq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var An=function(){return An=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},An.apply(this,arguments)};var Ov,B3;function qq(){if(B3)return Ov;B3=1;var e=!1,t,n,r,s,l,c,d,f,m,h,x,g,b,w,j;function S(){if(!e){e=!0;var C=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(C),O=/(Mac OS X)|(Windows)|(Linux)/.exec(C);if(g=/\b(iPhone|iP[ao]d)/.exec(C),b=/\b(iP[ao]d)/.exec(C),h=/Android/i.exec(C),w=/FBAN\/\w+;/i.exec(C),j=/Mobile/i.exec(C),x=!!/Win64/.exec(C),k){t=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var A=/(?:Trident\/(\d+.\d+))/.exec(C);c=A?parseFloat(A[1])+4:t,n=k[2]?parseFloat(k[2]):NaN,r=k[3]?parseFloat(k[3]):NaN,s=k[4]?parseFloat(k[4]):NaN,s?(k=/(?:Chrome\/(\d+\.\d+))/.exec(C),l=k&&k[1]?parseFloat(k[1]):NaN):l=NaN}else t=n=r=l=s=NaN;if(O){if(O[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(C);d=E?parseFloat(E[1].replace("_",".")):!0}else d=!1;f=!!O[2],m=!!O[3]}else d=f=m=!1}}var _={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return _.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return _.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||g},mobile:function(){return S()||g||b||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||b}};return Ov=_,Ov}var Mv,U3;function Kq(){if(U3)return Mv;U3=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Mv=t,Mv}var Dv,F3;function Gq(){if(F3)return Dv;F3=1;var e=Kq(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return Dv=n,Dv}var Rv,V3;function Yq(){if(V3)return Rv;V3=1;var e=qq(),t=Gq(),n=10,r=40,s=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,h=f*n,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=r,h*=r):(m*=s,h*=s)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Rv=l,Rv}var Lv,H3;function Wq(){return H3||(H3=1,Lv=Yq()),Lv}var Xq=Wq();const Zq=Ma(Xq);function Qq(e,t,n,r,s,l){l===void 0&&(l=0);var c=bc(e,t,l),d=c.width,f=c.height,m=Math.min(d,n),h=Math.min(f,r);return m>h*s?{width:h*s,height:h}:{width:m,height:m/s}}function Jq(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Xu(e,t,n,r,s){s===void 0&&(s=0);var l=bc(t.width,t.height,s),c=l.width,d=l.height;return{x:q3(e.x,c,n.width,r),y:q3(e.y,d,n.height,r)}}function q3(e,t,n,r){var s=t*r/2-n/2;return pp(e,-s,s)}function K3(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function G3(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function eK(e,t,n,r,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?tK:nK,f=bc(t.width,t.height,l),m=bc(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-n.width/s)/2-e.x/s)/f.width*100),y:d(100,((f.height-n.height/s)/2-e.y/s)/f.height*100),width:d(100,n.width/f.width*100/s),height:d(100,n.height/f.height*100/s)},x=Math.round(d(m.width,h.width*m.width/100)),g=Math.round(d(m.height,h.height*m.height/100)),b=m.width>=m.height*r,w=b?{width:Math.round(g*r),height:g}:{width:x,height:Math.round(x/r)},j=An(An({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function tK(e,t){return Math.min(e,Math.max(0,t))}function nK(e,t){return t}function rK(e,t,n,r,s,l){var c=bc(t.width,t.height,n),d=pp(r.width/c.width*(100/e.width),s,l),f={x:d*c.width/2-r.width/2-c.width*d*(e.x/100),y:d*c.height/2-r.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function aK(e,t,n){var r=Jq(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function sK(e,t,n,r,s,l){n===void 0&&(n=0);var c=bc(t.naturalWidth,t.naturalHeight,n),d=pp(aK(e,t,r),s,l),f=r.height>r.width?r.height/e.height:r.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function Y3(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function iK(e){return e*Math.PI/180}function bc(e,t,n){var r=iK(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function pp(e,t,n){return Math.min(Math.max(e,t),n)}function Jm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var lK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,oK=1,cK=3,uK=1,dK=function(e){Hq(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=v.createRef(),n.imageRef=v.createRef(),n.videoRef=v.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=rK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=s.crop,c=s.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=sK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var r,s,l,c,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,x=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,g=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,b=m.offsetWidth<x||m.offsetHeight<g,w=x/g,j=void 0;if(b)switch(n.state.mediaObjectFit){default:case"contain":j=h>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":j={width:n.containerRect.height*w,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=An(An({},j),{naturalWidth:x,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:Qq(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=t.getMousePoint(r),l=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+r.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,l,c=r.x,d=r.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=An({},n.props.crop),(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s)},n.onDrag=function(r){var s=r.x,l=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||l===void 0)){var c=s-n.dragStartPosition.x,d=l-n.dragStartPosition.y,f={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?Xu(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=t.getMousePoint(r),l=Zq(r).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(r,s){var l=r.x,c=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-s.x),y:n.containerRect.height/2-(c-s.y)}},n.getPointOnMedia=function(r){var s=r.x,l=r.y,c=n.props,d=c.crop,f=c.zoom;return{x:(s+d.x)/f,y:(l+d.y)/f}},n.setNewZoom=function(r,s,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=pp(r,n.props.minZoom,n.props.maxZoom);if(f){var h=n.getPointOnContainer(s,n.containerPosition),x=n.getPointOnMedia(h),g={x:x.x*m-h.x,y:x.y*m-h.y},b=n.props.restrictPosition?Xu(g,n.mediaSize,n.state.cropSize,m,n.props.rotation):g;n.props.onCropChange(b)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Xu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return eK(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Xu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,l,c=n.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,g=m;if(n.state.cropSize){r.shiftKey&&(g*=.2);var b=An({},d);switch(r.key){case"ArrowUp":b.y-=g,r.preventDefault();break;case"ArrowDown":b.y+=g,r.preventDefault();break;case"ArrowLeft":b.x-=g,r.preventDefault();break;case"ArrowRight":b.x+=g,r.preventDefault();break;default:return}n.props.restrictPosition&&(b=Xu(b,n.mediaSize,n.state.cropSize,h,x)),r.repeat||(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s),f(b)}},n.onKeyUp=function(r){var s,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(l=(s=n.props).onInteractionEnd)===null||l===void 0||l.call(s)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=lK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,s,l,c,d,f,m,h,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},t.prototype.getObjectFit=function(){var n,r,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=K3(r,s),this.lastPinchRotation=G3(r,s),this.onDragStart(Y3(r,s))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(n.touches[0]),l=t.getTouchPoint(n.touches[1]),c=Y3(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=K3(s,l),f=r.props.zoom*(d/r.lastPinchDistance);r.setNewZoom(f,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=d;var m=G3(s,l),h=r.props.rotation+(m-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=m})}},t.prototype.render=function(){var n=this,r,s=this.props,l=s.image,c=s.video,d=s.mediaProps,f=s.cropperProps,m=s.transform,h=s.crop,x=h.x,g=h.y,b=s.rotation,w=s.zoom,j=s.cropShape,S=s.showGrid,_=s.roundCropAreaPixels,C=s.style,k=C.containerStyle,O=C.cropAreaStyle,A=C.mediaStyle,E=s.classes,L=E.containerClassName,M=E.cropAreaClassName,V=E.mediaClassName,G=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return n.containerRef=U},"data-testid":"container",style:k,className:Jm("reactEasyCrop_Container",L)},l?v.createElement("img",An({alt:"",className:Jm("reactEasyCrop_Image",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{src:l,ref:this.imageRef,style:An(An({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&v.createElement("video",An({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Jm("reactEasyCrop_Video",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:An(An({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(H){return v.createElement("source",An({key:H.src},H))})),this.state.cropSize&&v.createElement("div",An({ref:this.cropperRef,style:An(An({},O),{width:_?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:_?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Jm("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:cK,minZoom:oK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:uK},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(v.Component);const W3="https://aisdr-dbt.ddns.net",X3=["image/png","image/jpeg","image/webp"],fK=5*1024*1024,mK=[`${W3}/api/auth`,`${W3}/api`];function eh(...e){return e.filter(Boolean).join(" ")}async function hK(e,t,n=0){const s=await(_=>new Promise((C,k)=>{const O=new Image;O.addEventListener("load",()=>C(O)),O.addEventListener("error",A=>k(A)),O.crossOrigin="anonymous",O.src=_}))(e),l=n*Math.PI/180,c=s.naturalWidth||s.width,d=s.naturalHeight||s.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),g=Math.floor(c*x+d*h),b=Math.floor(c*h+d*x);f.width=g,f.height=b,m.translate(g/2,b/2),m.rotate(l),m.drawImage(s,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(_=>{j.toBlob(C=>_(C),"image/jpeg",.92)})}function pK(){const e=Vt(),[t,n]=v.useState(null),[r,s]=v.useState(null),[l,c]=v.useState(null),[d,f]=v.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=v.useState({name:"",email:""}),[x,g]=v.useState(!1),[b,w]=v.useState({x:0,y:0}),[j,S]=v.useState(1),[_,C]=v.useState(0),[k,O]=v.useState(null),[A,E]=v.useState(!1),[L,M]=v.useState(!1),V=v.useRef(null),G=()=>localStorage.getItem("token")||"",H=()=>G()?{Authorization:`Bearer ${G()}`}:{},U=()=>G()?!0:(Y.error("Authentication required. Please login again."),e("/login"),!1),ne=async(B,$={},{expectJson:ie=!0}={})=>{const te=[];for(const be of mK)try{const je=await fetch(`${be}${B}`,$);if(je.status===401||je.status===403){const Oe=await je.text().catch(()=>"");throw new Error(Oe||"Unauthorized")}if(je.ok)return ie?await je.json():je;if(je.status===404){te.push({base:be,status:404});continue}const de=await je.json().catch(()=>({}));throw new Error((de==null?void 0:de.detail)||`Request failed (${je.status})`)}catch(je){if(te.push({base:be,err:je==null?void 0:je.message}),(je==null?void 0:je.message)==="Unauthorized")throw je}const pe=te!=null&&te.length?`Request failed: ${te.map(be=>`${be.base}${be.status||be.err}`).join(" | ")}`:"Network error";throw new Error(pe)},we=v.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map($=>$[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),ae=v.useCallback(()=>{const B=(localStorage.getItem("role")||"").toLowerCase();return B==="user"?e("/user/dashboard",{replace:!0}):B==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);v.useEffect(()=>{if(x){const B=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=B}}},[x]);const D=async()=>{var B,$,ie;if(U())try{const te=await ne("/user-info",{headers:{...H(),Accept:"application/json"}}),pe=((B=te==null?void 0:te.data)==null?void 0:B.email)||"";h({name:($=te==null?void 0:te.data)==null?void 0:$.name,email:pe});const be=((ie=te==null?void 0:te.data)==null?void 0:ie.profile_photo_url)||null,je=be?be+(be.includes("?")?"&":"?")+"t="+Date.now():null;if(n(je),je&&!r&&s(je),pe){const de=`profileComplete:${pe.toLowerCase()}`;if(localStorage.getItem(de)==="1"){ae();return}}}catch(te){Y.error(te.message||"Could not load profile info")}};v.useEffect(()=>{(async()=>(f(B=>({...B,init:!0})),await D(),f(B=>({...B,init:!1}))))()},[]);const K=B=>{if(!B)return;if(!X3.includes(B.type)){Y.error("Only PNG, JPEG or WEBP images are allowed.");return}if(B.size>fK){Y.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(B);const $=URL.createObjectURL(B);s($),g(!1)},q=B=>{var ie;const $=(ie=B.target.files)==null?void 0:ie[0];K($)},F=B=>{var ie;B.preventDefault(),B.stopPropagation();const $=(ie=B.dataTransfer.files)==null?void 0:ie[0];K($)},T=B=>{B.preventDefault(),B.stopPropagation()};v.useCallback((B,$)=>{O($),E(!0)},[]);const R=async()=>{if(!r&&!t){Y.info("Choose an image first.");return}if(!A||!k){Y.info("Adjust the crop a tiny bit, then save.");return}try{f(Oe=>({...Oe,saving:!0}));const $=await hK(r||t,k,_),ie=URL.createObjectURL($);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(ie);const te=new FormData,pe=`avatar_${Date.now()}.jpg`;te.append("file",$,pe);const be=await ne("/profile-photo",{method:"POST",headers:{...H()},body:te}),je=be==null?void 0:be.photo_url,de=je?je+(je.includes("?")?"&":"?")+"t="+Date.now():null;n(de),g(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),Y.success("Profile photo saved!")}catch(B){Y.error(B.message||"Could not save the cropped photo")}finally{f(B=>({...B,saving:!1}))}},I=async()=>{if(!t){Y.info("No profile photo to delete.");return}try{f(B=>({...B,delete:!0})),await ne("/profile-photo",{method:"DELETE",headers:{...H(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),n(null),s(null),c(null),Y.success("Profile photo deleted.")}catch(B){Y.error(B.message||"Delete error")}finally{f(B=>({...B,delete:!1}))}},W=async()=>{f(B=>({...B,refresh:!0})),await D(),f(B=>({...B,refresh:!1}))},ce=()=>{const B=((m==null?void 0:m.email)||"").toLowerCase();B&&localStorage.setItem(`profileComplete:${B}`,"1"),ae()};return a.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[a.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),a.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),a.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:W,disabled:d.refresh||d.init,className:eh("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?a.jsx(Gn,{className:"h-4 w-4 animate-spin"}):a.jsx(vB,{className:"h-4 w-4"}),"Refresh"]}),a.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[a.jsx(l0,{className:"h-4 w-4"}),"Confirm"]}),a.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[a.jsx(PB,{className:"h-4 w-4"}),"Skip for now"]})]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),a.jsxs("div",{className:eh("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",L?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var B;return(B=V.current)==null?void 0:B.click()},onDrop:F,onDragOver:T,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[a.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:a.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?a.jsx(Gn,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?a.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(null)}}):a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(M6,{className:"h-10 w-10 text-slate-400"}),a.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:we})]}),a.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[a.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:a.jsx(hz,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),a.jsx("input",{ref:V,type:"file",accept:X3.join(","),className:"hidden",onChange:q})]}),a.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[a.jsx(ar,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),a.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){Y.info("Select or upload an image first.");return}C(0),S(1),E(!1),g(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[a.jsx(p5,{className:"h-4 w-4"}),"Crop"]}),a.jsx("button",{type:"button",onClick:I,disabled:d.delete||!t,className:eh("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(r||t)&&a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(!1)}),a.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(p5,{className:"h-4 w-4 text-blue-600"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),a.jsx("button",{onClick:()=>g(!1),className:"p-1 rounded-md hover:bg-slate-100",children:a.jsx(ir,{className:"h-4 w-4 text-slate-500"})})]}),a.jsxs("div",{className:"bg-slate-900",children:[a.jsx("div",{className:"relative h-[360px] overflow-hidden",children:a.jsx(dK,{image:r||t,crop:b,zoom:j,rotation:_,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:C,onZoomChange:S,onCropComplete:(B,$)=>{O($),E(!0)}})}),a.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),a.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:B=>S(parseFloat(B.target.value)),className:"w-full accent-blue-500"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),a.jsx("input",{type:"range",min:-180,max:180,step:1,value:_,onChange:B=>C(parseFloat(B.target.value)),className:"w-full accent-blue-500"}),a.jsxs("button",{type:"button",onClick:()=>C(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[a.jsx(jB,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:R,disabled:d.saving||!A,className:eh("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",A?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-4 w-4 animate-spin"})," Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(l0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function xK(...e){return e.filter(Boolean).join(" ")}const Z3="https://aisdr-dbt.ddns.net";function gK({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(ge.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(ge.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(ge.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(ge.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function vK({className:e="",onMenuToggle:t,profilePath:n="/user/settings"}){const[r,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Vt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${Z3}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${Z3}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:xK("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(gK,{onClick:g}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),a.jsx(ge.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(ge.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(ge.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(ge.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(o0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}var NO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q3=pt.createContext&&pt.createContext(NO),yK=["attr","size","title"];function bK(e,t){if(e==null)return{};var n=wK(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(this,arguments)}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){jK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jK(e,t,n){return t=NK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NK(e){var t=SK(e,"string");return typeof t=="symbol"?t:t+""}function SK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SO(e){return e&&e.map((t,n)=>pt.createElement(t.tag,p0({key:n},t.attr),SO(t.child)))}function Dt(e){return t=>pt.createElement(_K,h0({attr:p0({},e.attr)},t),SO(e.child))}function _K(e){var t=n=>{var{attr:r,size:s,title:l}=e,c=bK(e,yK),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),pt.createElement("svg",h0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:p0(p0({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&pt.createElement("title",null,l),e.children)};return Q3!==void 0?pt.createElement(Q3.Consumer,null,n=>t(n)):t(NO)}function _O(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function CO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function CK(e){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function kO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function kK(e){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function AK(e){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function vj(e){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function EK(e){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function AO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function TK({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:ut,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ya,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:vj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:tr,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ya,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx(ge.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(ge.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),a.jsx(ge.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function PK(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,l]=v.useState(!1),c=rs(),d=Vt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{r(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Mw,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:ut,href:"/user/callhistory",color:"text-orange-600"},{id:"callassistence",label:"Assistants",icon:vj,href:"/user/callassistent",color:"text-green-600"},{id:"Leads",label:"Leads",icon:tr,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Ya,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:O6,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:AK,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:dz,href:"/user/Appointments",color:"text-purple-600"}],m=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(TK,{compact:e&&!s})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href,b=g&&(!e||s)?s?"pl-5":"pl-4":"",w=e&&!s?"gap-0":s?"gap-4":"gap-3";return a.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center ${w} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${b}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),a.jsx("div",{className:"relative z-10",children:a.jsx(x,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${g?h.color:"text-slate-500 group-hover:text-slate-700"}
                    ${g?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&a.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:h.label}),g&&(!e||s)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(zn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!s&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})}),s&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})})]})]})}function OK(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx(PK,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(vK,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(m6,{})})]})]})}var $v={},Iv={},eC;function MK(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Iv)),Iv}var zv={},tC;function EO(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(zv)),zv}var Bv={},nC;function TO(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(Bv)),Bv}var Uv={},rC;function yj(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],s=n.length;if(s===0)return r;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,r.push(c),c=""):c+=m:m==="["?(f=!0,c&&(r.push(c),c="")):m==="."?c&&(r.push(c),c=""):c+=m,l++}return c&&r.push(c),r}e.toPath=t}(Uv)),Uv}var aC;function bj(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MK(),n=EO(),r=TO(),s=yj();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}($v)),$v}var Fv,sC;function DK(){return sC||(sC=1,Fv=bj().get),Fv}var RK=DK();const qi=Ma(RK);var Vv={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function LK(){if(iC)return Tt;iC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case s:case r:case f:case m:case g:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return Tt.ContextConsumer=l,Tt.ContextProvider=c,Tt.Element=e,Tt.ForwardRef=d,Tt.Fragment=n,Tt.Lazy=x,Tt.Memo=h,Tt.Portal=t,Tt.Profiler=s,Tt.StrictMode=r,Tt.Suspense=f,Tt.SuspenseList=m,Tt.isContextConsumer=function(j){return w(j)===l},Tt.isContextProvider=function(j){return w(j)===c},Tt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Tt.isForwardRef=function(j){return w(j)===d},Tt.isFragment=function(j){return w(j)===n},Tt.isLazy=function(j){return w(j)===x},Tt.isMemo=function(j){return w(j)===h},Tt.isPortal=function(j){return w(j)===t},Tt.isProfiler=function(j){return w(j)===s},Tt.isStrictMode=function(j){return w(j)===r},Tt.isSuspense=function(j){return w(j)===f},Tt.isSuspenseList=function(j){return w(j)===m},Tt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===r||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===b||j.getModuleId!==void 0)},Tt.typeOf=w,Tt}var lC;function $K(){return lC||(lC=1,Vv.exports=LK()),Vv.exports}var IK=$K(),Pn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,Ll=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,De=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),es=e=>De(e)||typeof e=="string",zK=0,Wd=e=>{var t=++zK;return"".concat(e||"").concat(t)},sr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(t)&&typeof t!="string")return r;var l;if(Ll(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return $r(l)&&(l=r),s&&n!=null&&l>n&&(l=n),l},PO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},oC=(e,t)=>De(e)&&De(t)?n=>e+n*(t-e):()=>t;function _a(e,t,n){return De(e)&&De(t)?e+n*(t-e):t}function OO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):qi(r,t))===n)}var Ft=e=>e===null||typeof e>"u",yf=e=>Ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),BK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wj(e){if(typeof e!="string")return!1;var t=BK;return t.includes(e)}var UK=["viewBox","children"],cC=["points","pathLength"],Hv={svg:UK,polygon:cC,polyline:cC},jj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{wj(s)&&(r[s]=l=>n[s](n,l))}),r},FK=(e,t,n)=>r=>(e(t,n,r),null),xp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];wj(s)&&typeof l=="function"&&(r||(r={}),r[s]=FK(l,t,n))}),r},VK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function MO(e){if(typeof e!="string")return!1;var t=VK;return t.includes(e)}function Ks(e){var t=Object.entries(e).filter(n=>{var[r]=n;return MO(r)});return Object.fromEntries(t)}var uC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dC=null,qv=null,DO=e=>{if(e===dC&&Array.isArray(qv))return qv;var t=[];return v.Children.forEach(e,n=>{Ft(n)||(IK.isFragment(n)?t=t.concat(DO(n.props.children)):t.push(n))}),qv=t,dC=e,t};function bf(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>uC(s)):r=[uC(t)],DO(e).forEach(s=>{var l=qi(s,"type.displayName")||qi(s,"type.name");r.indexOf(l)!==-1&&n.push(s)}),n}var RO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,HK=(e,t,n,r)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=r&&(Hv==null?void 0:Hv[r]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&l.includes(t)||MO(t)),f=!!n&&wj(t);return c||d||f},Gt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(l=>{var c;HK((c=r)===null||c===void 0?void 0:c[l],l,t,n)&&(s[l]=r[l])}),s},qK=["children","width","height","viewBox","className","style","title","desc"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C1.apply(null,arguments)}function KK(e,t){if(e==null)return{};var n,r,s=GK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function GK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LO=v.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=KK(e,qK),x=l||{width:r,height:s,x:0,y:0},g=at("recharts-surface",c);return v.createElement("svg",C1({},Gt(h,!0,"svg"),{className:g,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,m),n)}),YK=["children","className"];function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k1.apply(null,arguments)}function WK(e,t){if(e==null)return{};var n,r,s=XK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function XK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wn=v.forwardRef((e,t)=>{var{children:n,className:r}=e,s=WK(e,YK),l=at("recharts-layer",r);return v.createElement("g",k1({className:l},Gt(s,!0),{ref:t}),n)}),ZK=v.createContext(null);function $t(e){return function(){return e}}const $O=Math.cos,x0=Math.sin,Ra=Math.sqrt,g0=Math.PI,gp=2*g0,A1=Math.PI,E1=2*A1,kl=1e-6,QK=E1-kl;function IO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function JK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IO;const n=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class eG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IO:JK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,l,c){this._append`C${+t},${+n},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,s,l){if(t=+t,n=+n,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=r-t,m=s-n,h=c-t,x=d-n,g=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>kl)if(!(Math.abs(x*f-m*h)>kl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-c,w=s-d,j=f*f+m*m,S=b*b+w*w,_=Math.sqrt(j),C=Math.sqrt(g),k=l*Math.tan((A1-Math.acos((j+g-S)/(2*_*C)))/2),O=k/C,A=k/_;Math.abs(O-1)>kl&&this._append`L${t+O*h},${n+O*x}`,this._append`A${l},${l},0,0,${+(x*b>h*w)},${this._x1=t+A*f},${this._y1=n+A*m}`}}arc(t,n,r,s,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,h=n+f,x=1^c,g=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>kl||Math.abs(this._y1-h)>kl)&&this._append`L${m},${h}`,r&&(g<0&&(g=g%E1+E1),g>QK?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=h}`:g>kl&&this._append`A${r},${r},0,${+(g>=A1)},${x},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function Nj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eG(t)}function Sj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vp(e){return new zO(e)}function BO(e){return e[0]}function UO(e){return e[1]}function FO(e,t){var n=$t(!0),r=null,s=vp,l=null,c=Nj(d);e=typeof e=="function"?e:e===void 0?BO:$t(e),t=typeof t=="function"?t:t===void 0?UO:$t(t);function d(f){var m,h=(f=Sj(f)).length,x,g=!1,b;for(r==null&&(l=s(b=c())),m=0;m<=h;++m)!(m<h&&n(x=f[m],m,f))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(x,m,f),+t(x,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:$t(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:$t(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:$t(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,r!=null&&(l=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=l=null:l=s(r=f),d):r},d}function th(e,t,n){var r=null,s=$t(!0),l=null,c=vp,d=null,f=Nj(m);e=typeof e=="function"?e:e===void 0?BO:$t(+e),t=typeof t=="function"?t:$t(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?UO:$t(+n);function m(x){var g,b,w,j=(x=Sj(x)).length,S,_=!1,C,k=new Array(j),O=new Array(j);for(l==null&&(d=c(C=f())),g=0;g<=j;++g){if(!(g<j&&s(S=x[g],g,x))===_)if(_=!_)b=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=g-1;w>=b;--w)d.point(k[w],O[w]);d.lineEnd(),d.areaEnd()}_&&(k[g]=+e(S,g,x),O[g]=+t(S,g,x),d.point(r?+r(S,g,x):k[g],n?+n(S,g,x):O[g]))}if(C)return d=null,C+""||null}function h(){return FO().defined(s).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:$t(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:$t(+x),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:$t(!!x),m):s},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class VO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function tG(e){return new VO(e,!0)}function nG(e){return new VO(e,!1)}const _j={draw(e,t){const n=Ra(t/g0);e.moveTo(n,0),e.arc(0,0,n,0,gp)}},rG={draw(e,t){const n=Ra(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},HO=Ra(1/3),aG=HO*2,sG={draw(e,t){const n=Ra(t/aG),r=n*HO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iG={draw(e,t){const n=Ra(t),r=-n/2;e.rect(r,r,n,n)}},lG=.8908130915292852,qO=x0(g0/10)/x0(7*g0/10),oG=x0(gp/10)*qO,cG=-$O(gp/10)*qO,uG={draw(e,t){const n=Ra(t*lG),r=oG*n,s=cG*n;e.moveTo(0,-n),e.lineTo(r,s);for(let l=1;l<5;++l){const c=gp*l/5,d=$O(c),f=x0(c);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},Kv=Ra(3),dG={draw(e,t){const n=-Ra(t/(Kv*3));e.moveTo(0,n*2),e.lineTo(-Kv*n,-n),e.lineTo(Kv*n,-n),e.closePath()}},ea=-.5,ta=Ra(3)/2,T1=1/Ra(12),fG=(T1/2+1)*3,mG={draw(e,t){const n=Ra(t/fG),r=n/2,s=n*T1,l=r,c=n*T1+n,d=-l,f=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(ea*r-ta*s,ta*r+ea*s),e.lineTo(ea*l-ta*c,ta*l+ea*c),e.lineTo(ea*d-ta*f,ta*d+ea*f),e.lineTo(ea*r+ta*s,ea*s-ta*r),e.lineTo(ea*l+ta*c,ea*c-ta*l),e.lineTo(ea*d+ta*f,ea*f-ta*d),e.closePath()}};function hG(e,t){let n=null,r=Nj(s);e=typeof e=="function"?e:$t(e||_j),t=typeof t=="function"?t:$t(t===void 0?64:+t);function s(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:$t(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:$t(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function v0(){}function y0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pG(e){return new KO(e)}function GO(e){this._context=e}GO.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xG(e){return new GO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:y0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gG(e){return new YO(e)}function WO(e){this._context=e}WO.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vG(e){return new WO(e)}function fC(e){return e<0?-1:1}function mC(e,t,n){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(n-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(fC(l)+fC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function hC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Gv(e,t,n){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*t,l-d,c-d*n,l,c)}function b0(e){this._context=e}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gv(this,this._t0,hC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gv(this,hC(this,n=mC(this,e,t)),n);break;default:Gv(this,this._t0,n=mC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function XO(e){this._context=new ZO(e)}(XO.prototype=Object.create(b0.prototype)).point=function(e,t){b0.prototype.point.call(this,t,e)};function ZO(e){this._context=e}ZO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,l){this._context.bezierCurveTo(t,e,r,n,l,s)}};function yG(e){return new b0(e)}function bG(e){return new XO(e)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=pC(e),s=pC(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pC(e){var t,n=e.length-1,r,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function wG(e){return new QO(e)}function yp(e,t){this._context=e,this._t=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jG(e){return new yp(e,.5)}function NG(e){return new yp(e,0)}function SG(e){return new yp(e,1)}function wc(e,t){if((c=e.length)>1)for(var n=1,r,s,l=e[t[0]],c,d=l.length;n<c;++n)for(s=l,l=e[t[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function P1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _G(e,t){return e[t]}function CG(e){const t=[];return t.key=e,t}function kG(){var e=$t([]),t=P1,n=wc,r=_G;function s(l){var c=Array.from(e.apply(this,arguments),CG),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+r(x,c[d].key,m,l)]).data=x;for(d=0,h=Sj(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:$t(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:$t(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?P1:typeof l=="function"?l:$t(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(n=l??wc,s):n},s}function AG(e,t){if((r=e.length)>0){for(var n,r,s=0,l=e[0].length,c;s<l;++s){for(c=n=0;n<r;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<r;++n)e[n][s][1]/=c}wc(e,t)}}function EG(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,l=r.length;n<l;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}wc(e,t)}}function TG(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,l,c;r<l;++r){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[r][1]||0,g=h[r-1][1]||0,b=(x-g)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,_=j[r-1][1]||0;b+=S-_}f+=x,m+=b*x}s[r-1][1]+=s[r-1][0]=n,f&&(n-=m/f)}s[r-1][1]+=s[r-1][0]=n,wc(e,t)}}var PG=["type","size","sizeType"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O1.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OG(e,t,n){return(t=MG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){if(e==null)return{};var n,r,s=LG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function LG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JO={symbolCircle:_j,symbolCross:rG,symbolDiamond:sG,symbolSquare:iG,symbolStar:uG,symbolTriangle:dG,symbolWye:mG},$G=Math.PI/180,IG=e=>{var t="symbol".concat(yf(e));return JO[t]||_j},zG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*$G;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BG=(e,t)=>{JO["symbol".concat(yf(e))]=t},eM=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=RG(e,PG),l=gC(gC({},s),{},{type:t,size:n,sizeType:r}),c=()=>{var x=IG(t),g=hG().type(x).size(zG(n,r,t));return g()},{className:d,cx:f,cy:m}=l,h=Gt(l,!0);return f===+f&&m===+m&&n===+n?v.createElement("path",O1({},h,{className:at("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};eM.registerSymbol=BG;var Yv={},Wv={},vC;function UG(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(Wv)),Wv}var Xv={},yC;function tM(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Xv)),Xv}var Zv={},Qv={},Jv={},bC;function FG(){return bC||(bC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Jv)),Jv}var wC;function Cj(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FG();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(Qv)),Qv}var ey={},jC;function VG(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(ey)),ey}var NC;function HG(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cj(),n=VG();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(Zv)),Zv}var ty={},ny={},SC;function qG(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bj();function n(r){return function(s){return t.get(s,r)}}e.property=n}(ny)),ny}var ry={},ay={},sy={},iy={},_C;function nM(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(iy)),iy}var ly={},CC;function rM(){return CC||(CC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(ly)),ly}var oy={},kC;function kj(){return kC||(kC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(oy)),oy}var AC;function KG(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj(),n=nM(),r=rM(),s=kj();function l(x,g,b){return typeof b!="function"?t.isMatch(x,g):c(x,g,function w(j,S,_,C,k,O){const A=b(j,S,_,C,k,O);return A!==void 0?!!A:c(j,S,w,O)},new Map)}function c(x,g,b,w){if(g===x)return!0;switch(typeof g){case"object":return d(x,g,b,w);case"function":return Object.keys(g).length>0?c(x,{...g},b,w):s.eq(x,g);default:return n.isObject(x)?typeof g=="string"?g==="":!0:s.eq(x,g)}}function d(x,g,b,w){if(g==null)return!0;if(Array.isArray(g))return m(x,g,b,w);if(g instanceof Map)return f(x,g,b,w);if(g instanceof Set)return h(x,g,b,w);const j=Object.keys(g);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(g))return w.get(g)===x;w&&w.set(g,x);try{for(let S=0;S<j.length;S++){const _=j[S];if(!r.isPrimitive(x)&&!(_ in x)||g[_]===void 0&&x[_]!==void 0||g[_]===null&&x[_]!==null||!b(x[_],g[_],_,x,g,w))return!1}return!0}finally{w&&w.delete(g)}}function f(x,g,b,w){if(g.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of g.entries()){const _=x.get(j);if(b(_,S,j,x,g,w)===!1)return!1}return!0}function m(x,g,b,w){if(g.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<g.length;S++){const _=g[S];let C=!1;for(let k=0;k<x.length;k++){if(j.has(k))continue;const O=x[k];let A=!1;if(b(O,_,S,x,g,w)&&(A=!0),A){j.add(k),C=!0;break}}if(!C)return!1}return!0}function h(x,g,b,w){return g.size===0?!0:x instanceof Set?m([...x],[...g],b,w):!1}e.isMatchWith=l,e.isSetMatch=h}(sy)),sy}var EC;function Aj(){return EC||(EC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KG();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n}(ay)),ay}var cy={},uy={},dy={},TC;function aM(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(dy)),dy}var fy={},PC;function Ej(){return PC||(PC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(fy)),fy}var my={},OC;function Tj(){return OC||(OC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",O="[object BigUint64Array]",A="[object Int8Array]",E="[object Int16Array]",L="[object Int32Array]",M="[object BigInt64Array]",V="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=O,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=V,e.float64ArrayTag=G,e.functionTag=x,e.int16ArrayTag=E,e.int32ArrayTag=L,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=k,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=_}(my)),my}var hy={},MC;function GG(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(hy)),hy}var DC;function sM(){return DC||(DC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),n=Ej(),r=Tj(),s=rM(),l=GG();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,g,b=new Map,w=void 0){const j=w==null?void 0:w(h,x,g,b);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[_,C]of h)S.set(_,d(C,_,g,b,w));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const _ of h)S.add(d(_,void 0,g,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,g,b,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,g,b,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,g,b,w),S}return h}function f(h,x,g=h,b,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const _=j[S],C=Object.getOwnPropertyDescriptor(h,_);(C==null||C.writable)&&(h[_]=d(x[_],_,g,b,w))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(uy)),uy}var RC;function YG(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(cy)),cy}var LC;function WG(){return LC||(LC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj(),n=YG();function r(s){return s=n.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r}(ry)),ry}var py={},xy={},gy={},$C;function XG(){return $C||($C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),n=Tj();function r(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(gy)),gy}var IC;function ZG(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(xy)),xy}var vy={},yy={},zC;function iM(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(yy)),yy}var by={},BC;function QG(){return BC||(BC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ej();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(by)),by}var UC;function JG(){return UC||(UC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO(),n=iM(),r=QG(),s=yj();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(vy)),vy}var FC;function eY(){return FC||(FC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj(),n=TO(),r=ZG(),s=bj(),l=JG();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(py)),py}var VC;function tY(){return VC||(VC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),n=qG(),r=WG(),s=eY();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(ty)),ty}var HC;function nY(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG(),n=tM(),r=HG(),s=tY();function l(c,d=n.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(Yv)),Yv}var wy,qC;function rY(){return qC||(qC=1,wy=nY().uniqBy),wy}var aY=rY();const KC=Ma(aY);function sY(e,t,n){return t===!0?KC(e,n):typeof t=="function"?KC(e,t):e}var jy={exports:{}},Ny={},Sy={exports:{}},_y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function iY(){if(GC)return _y;GC=1;var e=Oc();function t(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,g){var b=g(),w=r({inst:{value:b,getSnapshot:g}}),j=w[0].inst,S=w[1];return l(function(){j.value=b,j.getSnapshot=g,f(j)&&S({inst:j})},[x,b,g]),s(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(b),b}function f(x){var g=x.getSnapshot;x=x.value;try{var b=g();return!n(x,b)}catch{return!0}}function m(x,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return _y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,_y}var YC;function lY(){return YC||(YC=1,Sy.exports=iY()),Sy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function oY(){if(WC)return Ny;WC=1;var e=Oc(),t=lY();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Ny.useSyncExternalStoreWithSelector=function(m,h,x,g,b){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function _(E){if(!C){if(C=!0,k=E,E=g(E),b!==void 0&&j.hasValue){var L=j.value;if(b(L,E))return O=L}return O=E}if(L=O,r(k,E))return L;var M=g(E);return b!==void 0&&b(L,M)?(k=E,L):(k=E,O=M)}var C=!1,k,O,A=x===void 0?null:x;return[function(){return _(h())},A===null?void 0:function(){return _(A())}]},[h,x,g,b]);var S=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},Ny}var XC;function cY(){return XC||(XC=1,jy.exports=oY()),jy.exports}var uY=cY(),Pj=v.createContext(null),dY=e=>e,on=()=>{var e=v.useContext(Pj);return e?e.store.dispatch:dY},Jh=()=>{},fY=()=>Jh,mY=(e,t)=>e===t;function ze(e){var t=v.useContext(Pj);return uY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fY,t?t.store.getState:Jh,t?t.store.getState:Jh,t?e:Jh,mY)}function hY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ZC=e=>Array.isArray(e)?e:[e];function gY(e){const t=Array.isArray(e[0])?e[0]:e;return xY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vY(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var yY=class{constructor(e){this.value=e}deref(){return this.value}},bY=typeof WeakRef<"u"?WeakRef:yY,wY=0,QC=1;function nh(){return{s:wY,v:void 0,o:null,p:null}}function lM(e,t={}){let n=nh();const{resultEqualityCheck:r}=t;let s,l=0;function c(){var x;let d=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=nh(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=nh(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===QC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const g=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;g!=null&&r(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new bY(h):h}return m.s=QC,m.v=h,h}return c.clearCache=()=>{n=nh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function jY(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),hY(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:x,memoizeOptions:g=[],argsMemoize:b=lM,argsMemoizeOptions:w=[]}=h,j=ZC(g),S=ZC(w),_=gY(s),C=x(function(){return l++,m.apply(null,arguments)},...j),k=b(function(){c++;const A=vY(_,arguments);return d=C.apply(null,A),d},...S);return Object.assign(k,{resultFunc:m,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ye=jY(lM),NY=Object.assign((e,t=ye)=>{pY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>NY}),Cy={},ky={},Ay={},JC;function SY(){return JC||(JC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,l)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(Ay)),Ay}var Ey={},Ty={},ek;function oM(){return ek||(ek=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Ty)),Ty}var tk;function _Y(){return tk||(tk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(Ey)),Ey}var nk;function CY(){return nk||(nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SY(),n=_Y(),r=yj();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,w)=>{let j=b;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:m(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?m(w,b):typeof w=="object"?w[b]:w,x=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return l.map(b=>({original:b,criteria:x.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(b.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=s}(ky)),ky}var Py={},rk;function kY(){return rk||(rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],l=Math.floor(r),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(Py)),Py}var Oy={},ak;function cM(){return ak||(ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),n=Cj(),r=nM(),s=kj();function l(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(Oy)),Oy}var sk;function AY(){return sk||(sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CY(),n=kY(),r=cM();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=s}(Cy)),Cy}var My,ik;function EY(){return ik||(ik=1,My=AY().sortBy),My}var TY=EY();const bp=Ma(TY);var uM=e=>e.legend.settings,PY=e=>e.legend.size,OY=e=>e.legend.payload;ye([OY,uM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?bp(r,n):r});var rh=1;function MY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>rh||Math.abs(c.left-t.left)>rh||Math.abs(c.top-t.top)>rh||Math.abs(c.width-t.width)>rh)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var DY=typeof Symbol=="function"&&Symbol.observable||"@@observable",lk=DY,Dy=()=>Math.random().toString(36).substring(7).split("").join("."),RY={INIT:`@@redux/INIT${Dy()}`,REPLACE:`@@redux/REPLACE${Dy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dy()}`},w0=RY;function Oj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function dM(e,t,n){if(typeof e!="function")throw new Error(Ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n(dM)(e,t)}let r=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,_)=>{c.set(_,S)}))}function h(){if(f)throw new Error(Ln(3));return s}function x(S){if(typeof S!="function")throw new Error(Ln(4));if(f)throw new Error(Ln(5));let _=!0;m();const C=d++;return c.set(C,S),function(){if(_){if(f)throw new Error(Ln(6));_=!1,m(),c.delete(C),l=null}}}function g(S){if(!Oj(S))throw new Error(Ln(7));if(typeof S.type>"u")throw new Error(Ln(8));if(typeof S.type!="string")throw new Error(Ln(17));if(f)throw new Error(Ln(9));try{f=!0,s=r(s,S)}finally{f=!1}return(l=c).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(Ln(10));r=S,g({type:w0.REPLACE})}function w(){const S=x;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ln(11));function C(){const O=_;O.next&&O.next(h())}return C(),{unsubscribe:S(C)}},[lk](){return this}}}return g({type:w0.INIT}),{dispatch:g,subscribe:x,getState:h,replaceReducer:b,[lk]:w}}function LY(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:w0.INIT})>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:w0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function fM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let s;try{LY(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<r.length;h++){const x=r[h],g=n[x],b=c[x],w=g(b,d);if(typeof w>"u")throw d&&d.type,new Error(Ln(14));m[x]=w,f=f||w!==b}return f=f||r.length!==Object.keys(c).length,f?m:c}}function j0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function $Y(...e){return t=>(n,r)=>{const s=t(n,r);let l=()=>{throw new Error(Ln(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=j0(...d)(s.dispatch),{...s,dispatch:l}}}function mM(e){return Oj(e)&&"type"in e&&typeof e.type=="string"}var hM=Symbol.for("immer-nothing"),ok=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function ka(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jc=Object.getPrototypeOf;function Wl(e){return!!e&&!!e[Ir]}function Us(e){var t;return e?pM(e)||Array.isArray(e)||!!e[ok]||!!((t=e.constructor)!=null&&t[ok])||jp(e)||Np(e):!1}var IY=Object.prototype.constructor.toString();function pM(e){if(!e||typeof e!="object")return!1;const t=jc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IY}function N0(e,t){wp(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function wp(e){const t=e[Ir];return t?t.type_:Array.isArray(e)?1:jp(e)?2:Np(e)?3:0}function M1(e,t){return wp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xM(e,t,n){const r=wp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jp(e){return e instanceof Map}function Np(e){return e instanceof Set}function Al(e){return e.copy_||e.base_}function D1(e,t){if(jp(e))return new Map(e);if(Np(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ir];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(jc(e),r)}else{const r=jc(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Mj(e,t=!1){return Sp(e)||Wl(e)||!Us(e)||(wp(e)>1&&(e.set=e.add=e.clear=e.delete=BY),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Mj(r,!0))),e}function BY(){ka(2)}function Sp(e){return Object.isFrozen(e)}var UY={};function Xl(e){const t=UY[e];return t||ka(0,e),t}var Xd;function gM(){return Xd}function FY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ck(e,t){t&&(Xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function R1(e){L1(e),e.drafts_.forEach(VY),e.drafts_=null}function L1(e){e===Xd&&(Xd=e.parent_)}function uk(e){return Xd=FY(Xd,e)}function VY(e){const t=e[Ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ir].modified_&&(R1(t),ka(4)),Us(e)&&(e=S0(t,e),t.parent_||_0(t,e)),t.patches_&&Xl("Patches").generateReplacementPatches_(n[Ir].base_,e,t.patches_,t.inversePatches_)):e=S0(t,n,[]),R1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hM?e:void 0}function S0(e,t,n){if(Sp(t))return t;const r=t[Ir];if(!r)return N0(t,(s,l)=>fk(e,r,t,s,l,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return _0(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),N0(l,(d,f)=>fk(e,r,s,d,f,n,c)),_0(e,s,!1),n&&e.patches_&&Xl("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function fk(e,t,n,r,s,l,c){if(Wl(s)){const d=l&&t&&t.type_!==3&&!M1(t.assigned_,r)?l.concat(r):void 0,f=S0(e,s,d);if(xM(n,r,f),Wl(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Us(s)&&!Sp(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;S0(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&_0(e,s)}}function _0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mj(t,n)}function HY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=Dj;n&&(s=[r],l=Zd);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var Dj={get(e,t){if(t===Ir)return e;const n=Al(e);if(!M1(n,t))return qY(e,n,t);const r=n[t];return e.finalized_||!Us(r)?r:r===Ry(e.base_,t)?(Ly(e),e.copy_[t]=I1(r,e)):r},has(e,t){return t in Al(e)},ownKeys(e){return Reflect.ownKeys(Al(e))},set(e,t,n){const r=vM(Al(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ry(Al(e),t),l=s==null?void 0:s[Ir];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zY(n,s)&&(n!==void 0||M1(e.base_,t)))return!0;Ly(e),$1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ry(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ly(e),$1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Al(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ka(11)},getPrototypeOf(e){return jc(e.base_)},setPrototypeOf(){ka(12)}},Zd={};N0(Dj,(e,t)=>{Zd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zd.deleteProperty=function(e,t){return Zd.set.call(this,e,t,void 0)};Zd.set=function(e,t,n){return Dj.set.call(this,e[0],t,n,e[0])};function Ry(e,t){const n=e[Ir];return(n?Al(n):e)[t]}function qY(e,t,n){var s;const r=vM(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function vM(e,t){if(!(t in e))return;let n=jc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jc(n)}}function $1(e){e.modified_||(e.modified_=!0,e.parent_&&$1(e.parent_))}function Ly(e){e.copy_||(e.copy_=D1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&ka(6),r!==void 0&&typeof r!="function"&&ka(7);let s;if(Us(t)){const l=uk(this),c=I1(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?R1(l):L1(l)}return ck(l,r),dk(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===hM&&(s=void 0),this.autoFreeze_&&Mj(s,!0),r){const l=[],c=[];Xl("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else ka(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,s;return[this.produce(t,n,(c,d)=>{r=c,s=d}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Us(e)||ka(8),Wl(e)&&(e=Ps(e));const t=uk(this),n=I1(e,void 0);return n[Ir].isManual_=!0,L1(t),n}finishDraft(e,t){const n=e&&e[Ir];(!n||!n.isManual_)&&ka(9);const{scope_:r}=n;return ck(r,t),dk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Xl("Patches").applyPatches_;return Wl(e)?r(e,t):this.produce(e,s=>r(s,t))}};function I1(e,t){const n=jp(e)?Xl("MapSet").proxyMap_(e,t):Np(e)?Xl("MapSet").proxySet_(e,t):HY(e,t);return(t?t.scope_:gM()).drafts_.push(n),n}function Ps(e){return Wl(e)||ka(10,e),yM(e)}function yM(e){if(!Us(e)||Sp(e))return e;const t=e[Ir];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=D1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=D1(e,!0);return N0(n,(r,s)=>{xM(n,r,yM(s))}),t&&(t.finalized_=!1),n}var zr=new KY,bM=zr.produce;zr.produceWithPatches.bind(zr);zr.setAutoFreeze.bind(zr);zr.setUseStrictShallowCopy.bind(zr);zr.applyPatches.bind(zr);zr.createDraft.bind(zr);zr.finishDraft.bind(zr);function wM(e){return({dispatch:n,getState:r})=>s=>l=>typeof l=="function"?l(n,r,e):s(l)}var GY=wM(),YY=wM,WY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?j0:j0.apply(null,arguments)};function fa(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Lr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>mM(r)&&r.type===e,n}var jM=class bd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bd.prototype)}static get[Symbol.species](){return bd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bd(...t[0].concat(this)):new bd(...t.concat(this))}};function mk(e){return Us(e)?bM(e,()=>{}):e}function ah(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function XY(e){return typeof e=="boolean"}var ZY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new jM;return n&&(XY(n)?c.push(GY):c.push(YY(n.extraArgument))),c},QY="RTK_autoBatch",hk=e=>t=>{setTimeout(t,e)},JY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hk(10):e.type==="callback"?e.queueNotification:hk(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const x=()=>s&&h(),g=r.subscribe(x);return d.add(h),()=>{g(),d.delete(h)}},dispatch(h){var x;try{return s=!((x=h==null?void 0:h.meta)!=null&&x[QY]),l=!s,l&&(c||(c=!0,f(m))),r.dispatch(h)}finally{s=!0}}})},eW=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new jM(e);return r&&s.push(JY(typeof r=="object"?r:void 0)),s};function tW(e){const t=ZY(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Oj(n))d=fM(n);else throw new Error(Lr(1));let f;typeof r=="function"?f=r(t):f=t();let m=j0;s&&(m=WY({trace:!1,...typeof s=="object"&&s}));const h=$Y(...f),x=eW(h);let g=typeof c=="function"?c(x):x();const b=m(...g);return dM(d,l,b)}function NM(e){const t={},n=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Lr(28));if(d in t)throw new Error(Lr(29));return t[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,n,r]}function nW(e){return typeof e=="function"}function rW(e,t){let[n,r,s]=NM(t),l;if(nW(e))l=()=>mk(e());else{const d=mk(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,x)=>{if(x)if(Wl(h)){const b=x(h,f);return b===void 0?h:b}else{if(Us(h))return bM(h,g=>x(g,f));{const g=x(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},d)}return c.getInitialState=l,c}var aW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sW=(e=21)=>{let t="",n=e;for(;n--;)t+=aW[Math.random()*64|0];return t},iW=Symbol.for("rtk-slice-createasyncthunk");function lW(e,t){return`${e}/${t}`}function oW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[iW];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Lr(11));const d=(typeof s.reducers=="function"?s.reducers(uW()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,A){const E=typeof O=="string"?O:O.type;if(!E)throw new Error(Lr(12));if(E in m.sliceCaseReducersByType)throw new Error(Lr(13));return m.sliceCaseReducersByType[E]=A,h},addMatcher(O,A){return m.sliceMatchers.push({matcher:O,reducer:A}),h},exposeAction(O,A){return m.actionCreators[O]=A,h},exposeCaseReducer(O,A){return m.sliceCaseReducersByName[O]=A,h}};f.forEach(O=>{const A=d[O],E={reducerName:O,type:lW(l,O),createNotation:typeof s.reducers=="function"};fW(A)?hW(E,A,h,t):dW(E,A,h)});function x(){const[O={},A=[],E=void 0]=typeof s.extraReducers=="function"?NM(s.extraReducers):[s.extraReducers],L={...O,...m.sliceCaseReducersByType};return rW(s.initialState,M=>{for(let V in L)M.addCase(V,L[V]);for(let V of m.sliceMatchers)M.addMatcher(V.matcher,V.reducer);for(let V of A)M.addMatcher(V.matcher,V.reducer);E&&M.addDefaultCase(E)})}const g=O=>O,b=new Map,w=new WeakMap;let j;function S(O,A){return j||(j=x()),j(O,A)}function _(){return j||(j=x()),j.getInitialState()}function C(O,A=!1){function E(M){let V=M[O];return typeof V>"u"&&A&&(V=ah(w,E,_)),V}function L(M=g){const V=ah(b,A,()=>new WeakMap);return ah(V,M,()=>{const G={};for(const[H,U]of Object.entries(s.selectors??{}))G[H]=cW(U,M,()=>ah(w,M,_),A);return G})}return{reducerPath:O,getSelectors:L,get selectors(){return L(E)},selectSlice:E}}const k={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:_,...C(c),injectInto(O,{reducerPath:A,...E}={}){const L=A??c;return O.inject({reducerPath:L,reducer:S},E),{...k,...C(L,!0)}}};return k}}function cW(e,t,n,r){function s(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var Ur=oW();function uW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function dW({type:e,reducerName:t,createNotation:n},r,s){let l,c;if("reducer"in r){if(n&&!mW(r))throw new Error(Lr(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?fa(e,c):fa(e))}function fW(e){return e._reducerDefinitionType==="asyncThunk"}function mW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hW({type:e,reducerName:t},n,r,s){if(!s)throw new Error(Lr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,x=s(e,l,h);r.exposeAction(t,x),c&&r.addCase(x.fulfilled,c),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:c||sh,pending:d||sh,rejected:f||sh,settled:m||sh})}function sh(){}var pW="task",SM="listener",_M="completed",Rj="cancelled",xW=`task-${Rj}`,gW=`task-${_M}`,z1=`${SM}-${Rj}`,vW=`${SM}-${_M}`,_p=class{constructor(e){iv(this,"name","TaskAbortError");iv(this,"message");this.code=e,this.message=`${pW} ${Rj} (reason: ${e})`}},Lj=(e,t)=>{if(typeof e!="function")throw new TypeError(Lr(32))},C0=()=>{},CM=(e,t=C0)=>(e.catch(t),e),kM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Hl=e=>{if(e.aborted){const{reason:t}=e;throw new _p(t)}};function AM(e,t){let n=C0;return new Promise((r,s)=>{const l=()=>s(new _p(e.reason));if(e.aborted){l();return}n=kM(e,l),t.finally(()=>n()).then(r,s)}).finally(()=>{n=C0})}var yW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _p?"cancelled":"rejected",error:n}}finally{t==null||t()}},k0=e=>t=>CM(AM(e,t).then(n=>(Hl(e),n))),EM=e=>{const t=k0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:cc}=Object,pk={},Cp="listenerMiddleware",bW=(e,t)=>{const n=r=>kM(e,()=>Vl(r,e.reason));return(r,s)=>{Lj(r);const l=new AbortController;n(l);const c=yW(async()=>{Hl(e),Hl(l.signal);const d=await r({pause:k0(l.signal),delay:EM(l.signal),signal:l.signal});return Hl(l.signal),d},()=>Vl(l,gW));return s!=null&&s.autoJoin&&t.push(c.catch(C0)),{result:k0(e)(c),cancel(){Vl(l,xW)}}}},wW=(e,t)=>{const n=async(r,s)=>{Hl(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:r,effect:(x,g)=>{g.unsubscribe(),f([x,g.getState(),g.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await AM(t,Promise.race(d));return Hl(t),f}finally{l()}};return(r,s)=>CM(n(r,s))},TM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:l}=e;if(t)s=fa(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Lr(21));return Lj(l),{predicate:s,type:t,effect:l}},PM=cc(e=>{const{type:t,predicate:n,effect:r}=TM(e);return{id:sW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Lr(22))}}},{withTypes:()=>PM}),xk=(e,t)=>{const{type:n,effect:r,predicate:s}=TM(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===s)&&l.effect===r)},B1=e=>{e.pending.forEach(t=>{Vl(t,z1)})},jW=e=>()=>{e.forEach(B1),e.clear()},gk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},OM=cc(fa(`${Cp}/add`),{withTypes:()=>OM}),NW=fa(`${Cp}/removeAll`),MM=cc(fa(`${Cp}/remove`),{withTypes:()=>MM}),SW=(...e)=>{console.error(`${Cp}/error`,...e)},wf=(e={})=>{const t=new Map,{extra:n,onError:r=SW}=e;Lj(r);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&B1(h)}),l=h=>{const x=xk(t,h)??PM(h);return s(x)};cc(l,{withTypes:()=>l});const c=h=>{const x=xk(t,h);return x&&(x.unsubscribe(),h.cancelActive&&B1(x)),!!x};cc(c,{withTypes:()=>c});const d=async(h,x,g,b)=>{const w=new AbortController,j=wW(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,cc({},g,{getOriginalState:b,condition:(_,C)=>j(_,C).then(Boolean),take:j,delay:EM(w.signal),pause:k0(w.signal),extra:n,signal:w.signal,fork:bW(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,C,k)=>{_!==w&&(Vl(_,z1),k.delete(_))})},cancel:()=>{Vl(w,z1),h.pending.delete(w)},throwIfCancelled:()=>{Hl(w.signal)}})))}catch(_){_ instanceof _p||gk(r,_,{raisedBy:"effect"})}finally{await Promise.all(S),Vl(w,vW),h.pending.delete(w)}},f=jW(t);return{middleware:h=>x=>g=>{if(!mM(g))return x(g);if(OM.match(g))return l(g.payload);if(NW.match(g)){f();return}if(MM.match(g))return c(g.payload);let b=h.getState();const w=()=>{if(b===pk)throw new Error(Lr(23));return b};let j;try{if(j=x(g),t.size>0){const S=h.getState(),_=Array.from(t.values());for(const C of _){let k=!1;try{k=C.predicate(g,S,b)}catch(O){k=!1,gk(r,O,{raisedBy:"predicate"})}k&&d(C,g,h,w)}}}finally{b=pk}return j},startListening:l,stopListening:c,clearListeners:f}};function Lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _W={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DM=Ur({name:"chartLayout",initialState:_W,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:CW,setLayout:kW,setChartSize:AW,setScale:EW}=DM.actions,TW=DM.reducer;function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(r){PW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PW(e,t,n){return(t=OW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0=Math.PI/180,DW=e=>e*180/Math.PI,xn=(e,t,n,r)=>({x:e+Math.cos(-A0*r)*n,y:t+Math.sin(-A0*r)*n}),RM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},RW=(e,t)=>{var{x:n,y:r}=e,{x:s,y:l}=t;return Math.sqrt((n-s)**2+(r-l)**2)},LW=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:l}=t,c=RW({x:n,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,f=Math.acos(d);return r>l&&(f=2*Math.PI-f),{radius:c,angle:DW(f),angleInRadian:f}},$W=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:n-l*360}},IW=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},zW=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:l}=LW({x:n,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=$W(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?yk(yk({},t),{},{radius:s,angle:IW(h,t)}):null};function LM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){BW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return Ft(e)||Ft(t)?n:es(t)?qi(e,t,n):typeof t=="function"?t(e):n}var VW=(e,t,n,r,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,g=void 0;if(Pn(h-m)!==Pn(x-h)){var b=[];if(Pn(x-h)===Pn(s[1]-s[0])){g=x;var w=h+s[1]-s[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{g=m;var j=x+s[1]-s[0];b[0]=Math.min(h,(j+h)/2),b[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var _=Math.min(m,x),C=Math.max(m,x);if(e>(_+h)/2&&e<=(C+h)/2){({index:c}=n[f]);break}}}else if(t){for(var k=0;k<d;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:c}=t[k]);break}}return c},HW=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&De(e[l]))return ia(ia({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&De(e[c]))return ia(ia({},e),{},{[c]:e[c]+(s||0)})}return e},Xi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$M=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(n),c},IM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:g,axisType:b}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=b==="angleAxis"&&l&&l.length>=2?Pn(l[0]-l[1])*2*j:j,x||g){var S=(x||g||[]).map((_,C)=>{var k=r?r.indexOf(_):_;return{coordinate:c(k)+j,value:_,offset:j,index:C}});return S.filter(_=>!$r(_.coordinate))}return f&&m?m.map((_,C)=>({coordinate:c(_)+j,value:_,index:C,offset:j})):c.ticks&&h!=null?c.ticks(h).map((_,C)=>({coordinate:c(_)+j,value:_,offset:j,index:C})):c.domain().map((_,C)=>({coordinate:c(_)+j,value:r?r[_]:_,index:C,offset:j}))},wk=1e-4,qW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-wk,l=Math.max(r[0],r[1])+wk,c=e(t[0]),d=e(t[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[n-1]])}},KW=(e,t)=>{if(!t||t.length!==2||!De(t[0])||!De(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(s[0]=n),(!De(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},GW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,l=0,c=0;c<t;++c){var d=$r(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},YW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,l=0;l<t;++l){var c=$r(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},WW={sign:GW,expand:AG,none:wc,silhouette:EG,wiggle:TG,positive:YW},XW=(e,t,n)=>{var r=WW[n],s=kG().keys(t).value((l,c)=>+Ot(l,c,0)).order(P1).offset(r);return s(e)};function ZW(e){return e==null?void 0:String(e)}function jk(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ft(s[t.dataKey])){var d=OO(n,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var f=Ot(s,Ft(c)?t.dataKey:c);return Ft(f)?null:t.scale(f)}var Nk=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var d=Ot(l,t.dataKey,t.scale.domain()[c]);return Ft(d)?null:t.scale(d)-s/2+r},QW=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},JW=e=>{var t=e.flat(2).filter(De);return[Math.min(...t),Math.max(...t)]},eX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],tX=(e,t,n)=>{if(e!=null)return eX(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=LM(m,t,n),x=JW(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},Sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_k=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=bp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function Ck(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:l}=e;return ia(ia({},t),{},{dataKey:n,payload:r,value:s,name:l})}function Uc(e,t){if(e)return String(e);if(typeof t=="string")return t}function nX(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return r?zW({x:e,y:t},r):null}var rX=(e,t,n,r)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=r;return ia(ia(ia({},r),xn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=r;return ia(ia(ia({},r),xn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},aX=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Gs=e=>e.layout.width,Ys=e=>e.layout.height,sX=e=>e.layout.scale,zM=e=>e.layout.margin,$j=ye(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ij=ye(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),BM="data-recharts-item-index",UM="data-recharts-item-data-key",kp=60;function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){iX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iX(e,t,n){return(t=lX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=e=>e.brush.height,wn=ye([Gs,Ys,zM,cX,$j,Ij,uM,PY],(e,t,n,r,s,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var _=typeof j.width=="number"?j.width:kp;return _i(_i({},w),{},{[S]:w[S]+_})}return w},{left:n.left||0,right:n.right||0}),m=s.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?_i(_i({},w),{},{[S]:qi(w,"".concat(S))+j.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=_i(_i({},m),f),x=h.bottom;h.bottom+=r,h=HW(h,c,d);var g=e-h.left-h.right,b=t-h.top-h.bottom;return _i(_i({brushBottom:x},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),uX=ye(wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),FM=ye(Gs,Ys,(e,t)=>({x:0,y:0,width:e,height:t})),dX=v.createContext(null),yr=()=>v.useContext(dX)!=null,Ap=e=>e.brush,Ep=ye([Ap,wn,zM],(e,t,n)=>({height:e.height,x:De(e.x)?e.x:t.left,y:De(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:De(e.width)?e.width:t.width})),zj=()=>{var e,t=yr(),n=ze(uX),r=ze(Ep),s=(e=ze(Ap))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},fX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VM=()=>{var e;return(e=ze(wn))!==null&&e!==void 0?e:fX},HM=()=>ze(Gs),qM=()=>ze(Ys),ft=e=>e.layout.layoutType,Tp=()=>ze(ft),mX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KM=Ur({name:"legend",initialState:mX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ps(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Fde,setLegendSettings:Vde,addLegendPayload:GM,removeLegendPayload:YM}=KM.actions,hX=KM.reducer;function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U1.apply(null,arguments)}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){pX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pX(e,t,n){return(t=xX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vX(e){return Array.isArray(e)&&es(e[0])&&es(e[1])?e.join(" ~ "):e}var yX=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:g=!1}=e,b=()=>{if(l&&l.length){var A={padding:0,margin:0},E=(d?bp(l,d):l).map((L,M)=>{if(L.type==="none")return null;var V=L.formatter||c||vX,{value:G,name:H}=L,U=G,ne=H;if(V){var we=V(G,H,L,M,l);if(Array.isArray(we))[U,ne]=we;else if(we!=null)U=we;else return null}var ae=$y({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ae},es(ne)?v.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,es(ne)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},U),v.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},E)}return null},w=$y({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=$y({margin:0},s),S=!Ft(h),_=S?h:"",C=at("recharts-default-tooltip",f),k=at("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(_=x(h,l));var O=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",U1({className:C,style:w},O),v.createElement("p",{className:k,style:j},v.isValidElement(_)?_:"".concat(_)),b())},Zu="recharts-tooltip-wrapper",bX={visibility:"hidden"};function wX(e){var{coordinate:t,translateX:n,translateY:r}=e;return at(Zu,{["".concat(Zu,"-right")]:De(n)&&t&&De(t.x)&&n>=t.x,["".concat(Zu,"-left")]:De(n)&&t&&De(t.x)&&n<t.x,["".concat(Zu,"-bottom")]:De(r)&&t&&De(t.y)&&r>=t.y,["".concat(Zu,"-top")]:De(r)&&t&&De(t.y)&&r<t.y})}function Ek(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&De(l[r]))return l[r];var h=n[r]-d-(s>0?s:0),x=n[r]+s;if(t[r])return c[r]?h:x;var g=f[r];if(g==null)return 0;if(c[r]){var b=h,w=g;return b<w?Math.max(x,g):Math.max(h,g)}if(m==null)return 0;var j=x+d,S=g+m;return j>S?Math.max(h,g):Math.max(x,g)}function jX(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function NX(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&n?(h=Ek({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=Ek({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=jX({translateX:h,translateY:x,useTranslate3d:d})):m=bX,{cssProperties:m,cssClasses:wX({translateX:h,translateY:x,coordinate:n})}}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){F1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CX extends v.PureComponent{constructor(){super(...arguments),F1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),F1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:C,cssProperties:k}=NX({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:g,viewBox:b}),O=_?{}:ih(ih({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=ih(ih({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:S},l)}}var kX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eo={isSsr:kX()},WM=()=>ze(e=>e.rootProps.accessibilityLayer);function Br(e){return Number.isFinite(e)}function Nc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V1.apply(null,arguments)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){AX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AX(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mk={curveBasisClosed:xG,curveBasisOpen:gG,curveBasis:pG,curveBumpX:tG,curveBumpY:nG,curveLinearClosed:vG,curveLinear:vp,curveMonotoneX:yG,curveMonotoneY:bG,curveNatural:wG,curveStep:jG,curveStepAfter:SG,curveStepBefore:NG},lh=e=>Br(e.x)&&Br(e.y),Qu=e=>e.x,Ju=e=>e.y,PX=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(yf(e));return(n==="curveMonotone"||n==="curveBump")&&t?Mk["".concat(n).concat(t==="vertical"?"Y":"X")]:Mk[n]||vp},OX=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=PX(t,s),d=l?n.filter(lh):n,f;if(Array.isArray(r)){var m=l?r.filter(x=>lh(x)):r,h=d.map((x,g)=>Ok(Ok({},x),{},{base:m[g]}));return s==="vertical"?f=th().y(Ju).x1(Qu).x0(x=>x.base.x):f=th().x(Qu).y1(Ju).y0(x=>x.base.y),f.defined(lh).curve(c),f(h)}return s==="vertical"&&De(r)?f=th().y(Ju).x1(Qu).x0(r):De(r)?f=th().x(Qu).y1(Ju).y0(r):f=FO().x(Qu).y(Ju),f.defined(lh).curve(c),f(d)},Bj=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var l=n&&n.length?OX(e):r;return v.createElement("path",V1({},Ks(e),jj(e),{className:at("recharts-curve",t),d:l===null?void 0:l,ref:s}))},MX=["x","y","top","left","width","height","className"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(null,arguments)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function DX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(r){RX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RX(e,t,n){return(t=LX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IX(e,t){if(e==null)return{};var n,r,s=zX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BX=(e,t,n,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),UX=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=IX(e,MX),m=DX({x:t,y:n,top:r,left:s,width:l,height:c},f);return!De(t)||!De(n)||!De(l)||!De(c)||!De(r)||!De(s)?null:v.createElement("path",H1({},Gt(m,!0),{className:at("recharts-cross",d),d:BX(t,n,l,c,r,s)}))};function FX(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function VX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){HX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HX(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t){var n=VX({},e),r=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var Iy={},zy={},By={},Lk;function GX(){return Lk||(Lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(By)),By}var $k;function YX(){return $k||($k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GX(),n=aM(),r=Ej(),s=Tj(),l=kj();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,g,b,w,j){const S=j(m,h,x,g,b,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,g){if(Object.is(m,h))return!0;let b=r.getTag(m),w=r.getTag(h);if(b===s.argumentsTag&&(b=s.objectTag),w===s.argumentsTag&&(w=s.objectTag),b!==w)return!1;switch(b){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const _=m.valueOf(),C=h.valueOf();return l.eq(_,C)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(b){case s.mapTag:{if(m.size!==h.size)return!1;for(const[_,C]of m.entries())if(!h.has(_)||!d(C,h.get(_),_,m,h,x,g))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const _=Array.from(m.values()),C=Array.from(h.values());for(let k=0;k<_.length;k++){const O=_[k],A=C.findIndex(E=>d(O,E,void 0,m,h,x,g));if(A===-1)return!1;C.splice(A,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let _=0;_<m.length;_++)if(!d(m[_],h[_],_,m,h,x,g))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,x,g)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const C=[...Object.keys(m),...n.getSymbols(m)],k=[...Object.keys(h),...n.getSymbols(h)];if(C.length!==k.length)return!1;for(let O=0;O<C.length;O++){const A=C[O],E=m[A];if(!Object.hasOwn(h,A))return!1;const L=h[A];if(!d(E,L,A,m,h,x,g))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(zy)),zy}var Uy={},Ik;function WX(){return Ik||(Ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Uy)),Uy}var zk;function XX(){return zk||(zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YX(),n=WX();function r(s,l){return t.isEqualWith(s,l,n.noop)}e.isEqual=r}(Iy)),Iy}var Fy,Bk;function ZX(){return Bk||(Bk=1,Fy=XX().isEqual),Fy}var QX=ZX();const JX=Ma(QX);var E0=1e-4,XM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Uk=(e,t)=>n=>{var r=XM(e,t);return ZM(r,n)},eZ=(e,t)=>n=>{var r=XM(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return ZM(s,n)},Fk=function(){for(var t,n,r,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,s]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,r,n,s]=c);var m=Uk(t,n),h=Uk(r,s),x=eZ(t,n),g=w=>w>1?1:w<0?0:w,b=w=>{for(var j=w>1?1:w,S=j,_=0;_<8;++_){var C=m(S)-j,k=x(S);if(Math.abs(C-j)<E0||k<E0)return h(S);S=g(S-C/k)}return h(S)};return b.isStepper=!1,b},tZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*r,x=f+(m-h)*s/1e3,g=f*s/1e3+c;return Math.abs(g-d)<E0&&Math.abs(x)<E0?[d,0]:[g,x]};return l.isStepper=!0,l.dt=s,l},QM=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fk(e);case"spring":return tZ();default:if(e.split("(")[0]==="cubic-bezier")return Fk(e)}return typeof e=="function"?e:null};function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){nZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nZ(e,t,n){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iZ=(e,t,n)=>e.map(r=>"".concat(sZ(r)," ").concat(t,"ms ").concat(n)).join(","),lZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),Jd=(e,t)=>Object.keys(t).reduce((n,r)=>Hk(Hk({},n),{},{[r]:e(r,t[r])}),{});function qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(n),!0).forEach(function(r){oZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oZ(e,t,n){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cZ(e){var t=uZ(e,"string");return typeof t=="symbol"?t:t+""}function uZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0=(e,t,n)=>e+(t-e)*n,q1=e=>{var{from:t,to:n}=e;return t!==n},JM=(e,t,n)=>{var r=Jd((s,l)=>{if(q1(l)){var[c,d]=e(l.from,l.to,l.velocity);return In(In({},l),{},{from:c,velocity:d})}return l},t);return n<1?Jd((s,l)=>q1(l)?In(In({},l),{},{velocity:T0(l.velocity,r[s].velocity,n),from:T0(l.from,r[s].from,n)}):l,t):JM(e,r,n-1)};function dZ(e,t,n,r,s,l){var c,d=r.reduce((g,b)=>In(In({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Jd((g,b)=>b.from,d),m=()=>!Object.values(d).filter(q1).length,h=null,x=g=>{c||(c=g);var b=g-c,w=b/n.dt;d=JM(n,d,w),s(In(In(In({},e),t),f())),c=g,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function fZ(e,t,n,r,s,l,c){var d=null,f=s.reduce((x,g)=>In(In({},x),{},{[g]:[e[g],t[g]]}),{}),m,h=x=>{m||(m=x);var g=(x-m)/r,b=Jd((j,S)=>T0(...S,n(g)),f);if(l(In(In(In({},e),t),b)),g<1)d=c.setTimeout(h);else{var w=Jd((j,S)=>T0(...S,n(1)),f);l(In(In(In({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const eD=(e,t,n,r,s,l)=>{var c=lZ(e,t);return n.isStepper===!0?dZ(e,t,n,c,s,l):fZ(e,t,n,r,c,s,l)};function mZ(e){var t,n=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class hZ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function pZ(){return mZ(new hZ)}var xZ=v.createContext(pZ);function tD(e,t){var n=v.useContext(xZ);return v.useMemo(()=>t??n(e),[e,t,n])}var gZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K1.apply(null,arguments)}function vZ(e,t){if(e==null)return{};var n,r,s=yZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function yZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(r){$l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $l(e,t,n){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Uj extends v.PureComponent{constructor(t,n){super(t,n),$l(this,"mounted",!1),$l(this,"manager",void 0),$l(this,"stopJSAnimation",null),$l(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(r){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(JX(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var g={style:s?{[s]:x}:x};(s&&f[s]!==x||!s&&f!==x)&&this.setState(g)}this.runAnimation(Ci(Ci({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=eD(n,r,QM(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:n,duration:r,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,x=iZ(Object.keys(h),r,c);this.manager.start([d,n,Ci(Ci({},h),{},{transition:x}),r,f])}render(){var t=this.props,{children:n,begin:r,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:g,onAnimationReStart:b,animationManager:w}=t,j=vZ(t,gZ),S=v.Children.count(n),_=this.state.style;if(typeof n=="function")return n(_);if(!d||S===0||s<=0)return n;var C=k=>{var{style:O={},className:A}=k.props,E=v.cloneElement(k,Ci(Ci({},j),{},{style:Ci(Ci({},O),_),className:A}));return E};return S===1?C(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,k=>C(k)))}}$l(Uj,"displayName","Animate");$l(Uj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function P0(e){var t,n=tD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(Uj,K1({},e,{animationManager:n}))}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}var Gk=(e,t,n,r,s)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,g=4;x<g;x++)h[x]=s[x]>l?l:s[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+r-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+r)),m+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var b=Math.min(l,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+r-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+r,`
            L `).concat(e+d*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},jZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nD=e=>{var t=Fr(e,jZ),n=v.useRef(null),[r,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=at("recharts-rectangle",h);return j?v.createElement(P0,{canBegin:r>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:x,isActive:j},_=>{var{width:C,height:k,x:O,y:A}=_;return v.createElement(P0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:w,easing:x},v.createElement("path",O0({},Gt(t,!0),{className:S,d:Gk(O,A,C,k,m),ref:n})))}):v.createElement("path",O0({},Gt(t,!0),{className:S,d:Gk(l,c,d,f,m)}))};function rD(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:l}=e,c=xn(t,n,r,s),d=xn(t,n,r,l);return{points:[c,d],cx:t,cy:n,radius:r,startAngle:s,endAngle:l}}function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G1.apply(null,arguments)}var NZ=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},oh=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+r,h=Math.asin(d/m)/A0,x=f?s:s+l*h,g=xn(t,n,m,x),b=xn(t,n,r,x),w=f?s-l*h:s,j=xn(t,n,m*Math.cos(h*A0),w);return{center:g,circleTangency:b,lineTangency:j,theta:h}},aD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=NZ(l,c),f=l+d,m=xn(t,n,s,l),h=xn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=xn(t,n,r,l),b=xn(t,n,r,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},SZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Pn(m-f),{circleTangency:x,lineTangency:g,theta:b}=oh({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=oh({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),_=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(_<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):aD({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:O,theta:A}=oh({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:E,lineTangency:L,theta:M}=oh({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),V=d?Math.abs(f-m):Math.abs(f-m)-A-M;if(V<0&&l===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},_Z={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fj=e=>{var t=Fr(e,_Z),{cx:n,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<s||m===h)return null;var g=at("recharts-sector",x),b=l-s,w=sr(c,b,0,!0),j;return w>0&&Math.abs(m-h)<360?j=SZ({cx:n,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=aD({cx:n,cy:r,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),v.createElement("path",G1({},Gt(t,!0),{className:g,d:j}))};function CZ(e,t,n){var r,s,l,c;if(e==="horizontal")r=t.x,l=r,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,g=xn(d,f,m,x),b=xn(d,f,h,x);r=g.x,s=g.y,l=b.x,c=b.y}else return rD(t);return[{x:r,y:s},{x:l,y:c}]}var Vy={},Hy={},qy={},Yk;function kZ(){return Yk||(Yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(qy)),qy}var Wk;function AZ(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(Hy)),Hy}var Xk;function EZ(){return Xk||(Xk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),n=AZ();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=n.toFinite(s),l===void 0?(l=s,s=0):l=n.toFinite(l),c=c===void 0?s<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=r}(Vy)),Vy}var Ky,Zk;function TZ(){return Zk||(Zk=1,Ky=EZ().range),Ky}var PZ=TZ();const sD=Ma(PZ);function Bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vj(e){let t,n,r;e.length!==2?(t=Bi,n=(d,f)=>Bi(e(d),f),r=(d,f)=>e(d)-f):(t=e===Bi||e===OZ?e:MZ,n=e,r=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=s(d,f,m,h-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:c,right:l}}function MZ(){return 0}function iD(e){return e===null?NaN:+e}function*DZ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const RZ=Vj(Bi),jf=RZ.right;Vj(iD).center;class Qk extends Map{constructor(t,n=IZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(Jk(this,t))}has(t){return super.has(Jk(this,t))}set(t,n){return super.set(LZ(this,t),n)}delete(t){return super.delete($Z(this,t))}}function Jk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function LZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $Z({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function IZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zZ(e=Bi){if(e===Bi)return lD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function lD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BZ=Math.sqrt(50),UZ=Math.sqrt(10),FZ=Math.sqrt(2);function M0(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=BZ?10:l>=UZ?5:l>=FZ?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?M0(e,t,n*2):[d,f,m]}function Y1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?M0(t,e,n):M0(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(r)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function W1(e,t,n){return t=+t,e=+e,n=+n,M0(e,t,n)[2]}function X1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?W1(t,e,n):W1(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function eA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function tA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oD(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?lD:zZ(s);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),x=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*x/f+g)),w=Math.min(r,Math.floor(t+(f-m)*x/f+g));oD(e,t,b,w,s)}const l=e[t];let c=n,d=r;for(ed(e,n,t),s(e[r],l)>0&&ed(e,n,r);c<d;){for(ed(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?ed(e,n,d):(++d,ed(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function ed(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function VZ(e,t,n){if(e=Float64Array.from(DZ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return tA(e);if(t>=1)return eA(e);var r,s=(r-1)*t,l=Math.floor(s),c=eA(oD(e,l).subarray(0,l+1)),d=tA(e.subarray(l+1));return c+(d-c)*(s-l)}}function HZ(e,t,n=iD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function qZ(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++r<s;)l[r]=e+r*n;return l}function pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ws(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Z1=Symbol("implicit");function Hj(){var e=new Qk,t=[],n=[],r=Z1;function s(l){let c=e.get(l);if(c===void 0){if(r!==Z1)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Qk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return Hj(t,n).unknown(r)},pa.apply(s,arguments),s}function qj(){var e=Hj().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var g=t().length,b=s<r,w=b?s:r,j=b?r:s;l=(j-w)/Math.max(1,g-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(g-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=qZ(g).map(function(_){return w+l*_});return n(b?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([r,s]=g,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(g){return[r,s]=g,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(g){return arguments.length?(d=!!g,x()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,m=+g),x()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),x()):f},e.paddingOuter=function(g){return arguments.length?(m=+g,x()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),x()):h},e.copy=function(){return qj(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},pa.apply(x(),arguments)}function cD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cD(t())},e}function KZ(){return cD(qj.apply(null,arguments).paddingInner(1))}function Kj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nf(){}var ef=.7,D0=1/ef,uc="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GZ=/^#([0-9a-f]{3,8})$/,YZ=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),WZ=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),XZ=new RegExp(`^rgba\\(${uc},${uc},${uc},${tf}\\)$`),ZZ=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${tf}\\)$`),QZ=new RegExp(`^hsl\\(${tf},${Ja},${Ja}\\)$`),JZ=new RegExp(`^hsla\\(${tf},${Ja},${Ja},${tf}\\)$`),nA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kj(Nf,nf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rA,formatHex:rA,formatHex8:eQ,formatHsl:tQ,formatRgb:aA,toString:aA});function rA(){return this.rgb().formatHex()}function eQ(){return this.rgb().formatHex8()}function tQ(){return dD(this).formatHsl()}function aA(){return this.rgb().formatRgb()}function nf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sA(t):n===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YZ.exec(e))?new vr(t[1],t[2],t[3],1):(t=WZ.exec(e))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XZ.exec(e))?ch(t[1],t[2],t[3],t[4]):(t=ZZ.exec(e))?ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QZ.exec(e))?oA(t[1],t[2]/100,t[3]/100,1):(t=JZ.exec(e))?oA(t[1],t[2]/100,t[3]/100,t[4]):nA.hasOwnProperty(e)?sA(nA[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function sA(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function ch(e,t,n,r){return r<=0&&(e=t=n=NaN),new vr(e,t,n,r)}function nQ(e){return e instanceof Nf||(e=nf(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function Q1(e,t,n,r){return arguments.length===1?nQ(e):new vr(e,t,n,r??1)}function vr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Kj(vr,Q1,uD(Nf,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(ql(this.r),ql(this.g),ql(this.b),R0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iA,formatHex:iA,formatHex8:rQ,formatRgb:lA,toString:lA}));function iA(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function rQ(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function lA(){const e=R0(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function R0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function oA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,n,r)}function dD(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof Nf||(e=nf(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Aa(c,d,f,e.opacity)}function aQ(e,t,n,r){return arguments.length===1?dD(e):new Aa(e,t,n,r??1)}function Aa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Kj(Aa,aQ,uD(Nf,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new vr(Gy(e>=240?e-240:e+120,s,r),Gy(e,s,r),Gy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Aa(cA(this.h),uh(this.s),uh(this.l),R0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=R0(this.opacity);return`${e===1?"hsl(":"hsla("}${cA(this.h)}, ${uh(this.s)*100}%, ${uh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cA(e){return e=(e||0)%360,e<0?e+360:e}function uh(e){return Math.max(0,Math.min(1,e||0))}function Gy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gj=e=>()=>e;function sQ(e,t){return function(n){return e+n*t}}function iQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lQ(e){return(e=+e)==1?fD:function(t,n){return n-t?iQ(t,n,e):Gj(isNaN(t)?n:t)}}function fD(e,t){var n=t-e;return n?sQ(e,n):Gj(isNaN(e)?t:e)}const uA=function e(t){var n=lQ(t);function r(s,l){var c=n((s=Q1(s)).r,(l=Q1(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),m=fD(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return r.gamma=e,r}(1);function oQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<n;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function cQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)s[c]=Fc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function dQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function L0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fQ(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Fc(e[s],t[s]):r[s]=t[s];return function(l){for(s in n)r[s]=n[s](l);return r}}var J1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yy=new RegExp(J1.source,"g");function mQ(e){return function(){return e}}function hQ(e){return function(t){return e(t)+""}}function pQ(e,t){var n=J1.lastIndex=Yy.lastIndex=0,r,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(r=J1.exec(e))&&(s=Yy.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:L0(r,s)})),n=Yy.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?hQ(f[0].x):mQ(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function Fc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Gj(t):(n==="number"?L0:n==="string"?(r=nf(t))?(t=r,uA):pQ:t instanceof nf?uA:t instanceof Date?dQ:cQ(t)?oQ:Array.isArray(t)?uQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fQ:L0)(e,t)}function Yj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xQ(e,t){t===void 0&&(t=e,e=Fc);for(var n=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function gQ(e){return function(){return e}}function $0(e){return+e}var dA=[0,1];function rr(e){return e}function ew(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gQ(isNaN(t)?NaN:.5)}function vQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yQ(e,t,n){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=ew(s,r),l=n(c,l)):(r=ew(r,s),l=n(l,c)),function(d){return l(r(d))}}function bQ(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=ew(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=jf(e,d,1,r)-1;return l[f](s[f](d))}}function Sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pp(){var e=dA,t=dA,n=Fc,r,s,l,c=rr,d,f,m;function h(){var g=Math.min(e.length,t.length);return c!==rr&&(c=vQ(e[0],e[g-1])),d=g>2?bQ:yQ,f=m=null,x}function x(g){return g==null||isNaN(g=+g)?l:(f||(f=d(e.map(r),t,n)))(r(c(g)))}return x.invert=function(g){return c(s((m||(m=d(t,e.map(r),L0)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,$0),h()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),n=Yj,h()},x.clamp=function(g){return arguments.length?(c=g?!0:rr,h()):c!==rr},x.interpolate=function(g){return arguments.length?(n=g,h()):n},x.unknown=function(g){return arguments.length?(l=g,x):l},function(g,b){return r=g,s=b,h()}}function Wj(){return Pp()(rr,rr)}function wQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function I0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Sc(e){return e=I0(Math.abs(e)),e?e[1]:NaN}function jQ(e,t){return function(n,r){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function NQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rf(e){if(!(t=SQ.exec(e)))throw new Error("invalid format: "+e);var t;return new Xj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rf.prototype=Xj.prototype;function Xj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _Q(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var mD;function CQ(e,t){var n=I0(e,t);if(!n)return e+"";var r=n[0],s=n[1],l=s-(mD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+I0(e,Math.max(0,t+l-1))[0]}function fA(e,t){var n=I0(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const mA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fA(e*100,t),r:fA,s:CQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hA(e){return e}var pA=Array.prototype.map,xA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kQ(e){var t=e.grouping===void 0||e.thousands===void 0?hA:jQ(pA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?hA:NQ(pA.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=rf(x);var g=x.fill,b=x.align,w=x.sign,j=x.symbol,S=x.zero,_=x.width,C=x.comma,k=x.precision,O=x.trim,A=x.type;A==="n"?(C=!0,A="g"):mA[A]||(k===void 0&&(k=12),O=!0,A="g"),(S||g==="0"&&b==="=")&&(S=!0,g="0",b="=");var E=j==="$"?n:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",L=j==="$"?r:/[%p]/.test(A)?c:"",M=mA[A],V=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(H){var U=E,ne=L,we,ae,D;if(A==="c")ne=M(H)+ne,H="";else{H=+H;var K=H<0||1/H<0;if(H=isNaN(H)?f:M(Math.abs(H),k),O&&(H=_Q(H)),K&&+H==0&&w!=="+"&&(K=!1),U=(K?w==="("?w:d:w==="-"||w==="("?"":w)+U,ne=(A==="s"?xA[8+mD/3]:"")+ne+(K&&w==="("?")":""),V){for(we=-1,ae=H.length;++we<ae;)if(D=H.charCodeAt(we),48>D||D>57){ne=(D===46?s+H.slice(we+1):H.slice(we))+ne,H=H.slice(0,we);break}}}C&&!S&&(H=t(H,1/0));var q=U.length+H.length+ne.length,F=q<_?new Array(_-q+1).join(g):"";switch(C&&S&&(H=t(F+H,F.length?_-ne.length:1/0),F=""),b){case"<":H=U+H+ne+F;break;case"=":H=U+F+H+ne;break;case"^":H=F.slice(0,q=F.length>>1)+U+H+ne+F.slice(q);break;default:H=F+U+H+ne;break}return l(H)}return G.toString=function(){return x+""},G}function h(x,g){var b=m((x=rf(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Sc(g)/3)))*3,j=Math.pow(10,-w),S=xA[8+w/3];return function(_){return b(j*_)+S}}return{format:m,formatPrefix:h}}var dh,Zj,hD;AQ({thousands:",",grouping:[3],currency:["$",""]});function AQ(e){return dh=kQ(e),Zj=dh.format,hD=dh.formatPrefix,dh}function EQ(e){return Math.max(0,-Sc(Math.abs(e)))}function TQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sc(t)/3)))*3-Sc(Math.abs(e)))}function PQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sc(t)-Sc(e))+1}function pD(e,t,n,r){var s=X1(e,t,n),l;switch(r=rf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=TQ(s,c))&&(r.precision=l),hD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=PQ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=EQ(s))&&(r.precision=l-(r.type==="%")*2);break}}return Zj(r)}function Zi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Y1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return pD(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,l=r.length-1,c=r[s],d=r[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=W1(c,d,n),m===f)return r[s]=c,r[l]=d,t(r);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function xD(){var e=Wj();return e.copy=function(){return Sf(e,xD())},pa.apply(e,arguments),Zi(e)}function gD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,$0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return gD(e).unknown(t)},e=arguments.length?Array.from(e,$0):[0,1],Zi(n)}function vD(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],l=e[r],c;return l<s&&(c=n,n=r,r=c,c=s,s=l,l=c),e[n]=t.floor(s),e[r]=t.ceil(l),e}function gA(e){return Math.log(e)}function vA(e){return Math.exp(e)}function OQ(e){return-Math.log(-e)}function MQ(e){return-Math.exp(-e)}function DQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RQ(e){return e===10?DQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yA(e){return(t,n)=>-e(-t,n)}function Qj(e){const t=e(gA,vA),n=t.domain;let r=10,s,l;function c(){return s=LQ(r),l=RQ(r),n()[0]<0?(s=yA(s),l=yA(l),e(OQ,MQ)):e(gA,vA),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let g=s(m),b=s(h),w,j;const S=d==null?10:+d;let _=[];if(!(r%1)&&b-g<S){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(w=1;w<r;++w)if(j=g<0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}}else for(;g<=b;++g)for(w=r-1;w>=1;--w)if(j=g>0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}_.length*2<S&&(_=Y1(m,h,S))}else _=Y1(g,b,Math.min(b-g,S)).map(l);return x?_.reverse():_},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=rf(f)).precision==null&&(f.trim=!0),f=Zj(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return h=>{let x=h/l(Math.round(s(h)));return x*r<r-.5&&(x*=r),x<=m?f(h):""}},t.nice=()=>n(vD(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function yD(){const e=Qj(Pp()).domain([1,10]);return e.copy=()=>Sf(e,yD()).base(e.base()),pa.apply(e,arguments),e}function bA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jj(e){var t=1,n=e(bA(t),wA(t));return n.constant=function(r){return arguments.length?e(bA(t=+r),wA(t)):t},Zi(n)}function bD(){var e=Jj(Pp());return e.copy=function(){return Sf(e,bD()).constant(e.constant())},pa.apply(e,arguments)}function jA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $Q(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IQ(e){return e<0?-e*e:e*e}function e2(e){var t=e(rr,rr),n=1;function r(){return n===1?e(rr,rr):n===.5?e($Q,IQ):e(jA(n),jA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Zi(t)}function t2(){var e=e2(Pp());return e.copy=function(){return Sf(e,t2()).exponent(e.exponent())},pa.apply(e,arguments),e}function zQ(){return t2.apply(null,arguments).exponent(.5)}function NA(e){return Math.sign(e)*e*e}function BQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wD(){var e=Wj(),t=[0,1],n=!1,r;function s(l){var c=BQ(e(l));return isNaN(c)?r:n?Math.round(c):c}return s.invert=function(l){return e.invert(NA(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,$0)).map(NA)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(n=!!l,s):n},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return wD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},pa.apply(s,arguments),Zi(s)}function jD(){var e=[],t=[],n=[],r;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=HZ(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[jf(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Bi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return jD().domain(e).range(t).unknown(r)},pa.apply(l,arguments)}function ND(){var e=0,t=1,n=1,r=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[jf(r,f,0,n)]:l}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return ND().domain([e,t]).range(s).unknown(l)},pa.apply(Zi(c),arguments)}function SD(){var e=[.5],t=[0,1],n,r=1;function s(l){return l!=null&&l<=l?t[jf(e,l,0,r)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return SD().domain(e).range(t).unknown(n)},pa.apply(s,arguments)}const Wy=new Date,Xy=new Date;function jn(e,t,n,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>jn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(Wy.setTime(+l),Xy.setTime(+c),e(Wy),e(Xy),Math.floor(n(Wy,Xy))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const z0=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);z0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):z0);z0.range;const ks=1e3,oa=ks*60,As=oa*60,Fs=As*24,n2=Fs*7,SA=Fs*30,Zy=Fs*365,zl=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCSeconds());zl.range;const r2=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getMinutes());r2.range;const a2=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCMinutes());a2.range;const s2=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks-e.getMinutes()*oa)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getHours());s2.range;const i2=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCHours());i2.range;const _f=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Fs,e=>e.getDate()-1);_f.range;const Op=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fs,e=>e.getUTCDate()-1);Op.range;const _D=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fs,e=>Math.floor(e/Fs));_D.range;function to(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*oa)/n2)}const Mp=to(0),B0=to(1),UQ=to(2),FQ=to(3),_c=to(4),VQ=to(5),HQ=to(6);Mp.range;B0.range;UQ.range;FQ.range;_c.range;VQ.range;HQ.range;function no(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/n2)}const Dp=no(0),U0=no(1),qQ=no(2),KQ=no(3),Cc=no(4),GQ=no(5),YQ=no(6);Dp.range;U0.range;qQ.range;KQ.range;Cc.range;GQ.range;YQ.range;const l2=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());l2.range;const o2=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());o2.range;const Vs=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vs.range;const Hs=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hs.range;function CD(e,t,n,r,s,l){const c=[[zl,1,ks],[zl,5,5*ks],[zl,15,15*ks],[zl,30,30*ks],[l,1,oa],[l,5,5*oa],[l,15,15*oa],[l,30,30*oa],[s,1,As],[s,3,3*As],[s,6,6*As],[s,12,12*As],[r,1,Fs],[r,2,2*Fs],[n,1,n2],[t,1,SA],[t,3,3*SA],[e,1,Zy]];function d(m,h,x){const g=h<m;g&&([m,h]=[h,m]);const b=x&&typeof x.range=="function"?x:f(m,h,x),w=b?b.range(m,+h+1):[];return g?w.reverse():w}function f(m,h,x){const g=Math.abs(h-m)/x,b=Vj(([,,S])=>S).right(c,g);if(b===c.length)return e.every(X1(m/Zy,h/Zy,x));if(b===0)return z0.every(Math.max(X1(m,h,x),1));const[w,j]=c[g/c[b-1][2]<c[b][2]/g?b-1:b];return w.every(j)}return[d,f]}const[WQ,XQ]=CD(Hs,o2,Dp,_D,i2,a2),[ZQ,QQ]=CD(Vs,l2,Mp,_f,s2,r2);function Qy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function td(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function JQ(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=nd(s),h=rd(s),x=nd(l),g=rd(l),b=nd(c),w=rd(c),j=nd(d),S=rd(d),_=nd(f),C=rd(f),k={a:K,A:q,b:F,B:T,c:null,d:TA,e:TA,f:jJ,g:OJ,G:DJ,H:yJ,I:bJ,j:wJ,L:kD,m:NJ,M:SJ,p:R,q:I,Q:MA,s:DA,S:_J,u:CJ,U:kJ,V:AJ,w:EJ,W:TJ,x:null,X:null,y:PJ,Y:MJ,Z:RJ,"%":OA},O={a:W,A:ce,b:B,B:$,c:null,d:PA,e:PA,f:zJ,g:WJ,G:ZJ,H:LJ,I:$J,j:IJ,L:ED,m:BJ,M:UJ,p:ie,q:te,Q:MA,s:DA,S:FJ,u:VJ,U:HJ,V:qJ,w:KJ,W:GJ,x:null,X:null,y:YJ,Y:XJ,Z:QJ,"%":OA},A={a:G,A:H,b:U,B:ne,c:we,d:AA,e:AA,f:pJ,g:kA,G:CA,H:EA,I:EA,j:dJ,L:hJ,m:uJ,M:fJ,p:V,q:cJ,Q:gJ,s:vJ,S:mJ,u:aJ,U:sJ,V:iJ,w:rJ,W:lJ,x:ae,X:D,y:kA,Y:CA,Z:oJ,"%":xJ};k.x=E(n,k),k.X=E(r,k),k.c=E(t,k),O.x=E(n,O),O.X=E(r,O),O.c=E(t,O);function E(pe,be){return function(je){var de=[],Oe=-1,Be=0,Ze=pe.length,X,fe,Z;for(je instanceof Date||(je=new Date(+je));++Oe<Ze;)pe.charCodeAt(Oe)===37&&(de.push(pe.slice(Be,Oe)),(fe=_A[X=pe.charAt(++Oe)])!=null?X=pe.charAt(++Oe):fe=X==="e"?" ":"0",(Z=be[X])&&(X=Z(je,fe)),de.push(X),Be=Oe+1);return de.push(pe.slice(Be,Oe)),de.join("")}}function L(pe,be){return function(je){var de=td(1900,void 0,1),Oe=M(de,pe,je+="",0),Be,Ze;if(Oe!=je.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(be&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Be=Jy(td(de.y,0,1)),Ze=Be.getUTCDay(),Be=Ze>4||Ze===0?U0.ceil(Be):U0(Be),Be=Op.offset(Be,(de.V-1)*7),de.y=Be.getUTCFullYear(),de.m=Be.getUTCMonth(),de.d=Be.getUTCDate()+(de.w+6)%7):(Be=Qy(td(de.y,0,1)),Ze=Be.getDay(),Be=Ze>4||Ze===0?B0.ceil(Be):B0(Be),Be=_f.offset(Be,(de.V-1)*7),de.y=Be.getFullYear(),de.m=Be.getMonth(),de.d=Be.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ze="Z"in de?Jy(td(de.y,0,1)).getUTCDay():Qy(td(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ze+5)%7:de.w+de.U*7-(Ze+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Jy(de)):Qy(de)}}function M(pe,be,je,de){for(var Oe=0,Be=be.length,Ze=je.length,X,fe;Oe<Be;){if(de>=Ze)return-1;if(X=be.charCodeAt(Oe++),X===37){if(X=be.charAt(Oe++),fe=A[X in _A?be.charAt(Oe++):X],!fe||(de=fe(pe,je,de))<0)return-1}else if(X!=je.charCodeAt(de++))return-1}return de}function V(pe,be,je){var de=m.exec(be.slice(je));return de?(pe.p=h.get(de[0].toLowerCase()),je+de[0].length):-1}function G(pe,be,je){var de=b.exec(be.slice(je));return de?(pe.w=w.get(de[0].toLowerCase()),je+de[0].length):-1}function H(pe,be,je){var de=x.exec(be.slice(je));return de?(pe.w=g.get(de[0].toLowerCase()),je+de[0].length):-1}function U(pe,be,je){var de=_.exec(be.slice(je));return de?(pe.m=C.get(de[0].toLowerCase()),je+de[0].length):-1}function ne(pe,be,je){var de=j.exec(be.slice(je));return de?(pe.m=S.get(de[0].toLowerCase()),je+de[0].length):-1}function we(pe,be,je){return M(pe,t,be,je)}function ae(pe,be,je){return M(pe,n,be,je)}function D(pe,be,je){return M(pe,r,be,je)}function K(pe){return c[pe.getDay()]}function q(pe){return l[pe.getDay()]}function F(pe){return f[pe.getMonth()]}function T(pe){return d[pe.getMonth()]}function R(pe){return s[+(pe.getHours()>=12)]}function I(pe){return 1+~~(pe.getMonth()/3)}function W(pe){return c[pe.getUTCDay()]}function ce(pe){return l[pe.getUTCDay()]}function B(pe){return f[pe.getUTCMonth()]}function $(pe){return d[pe.getUTCMonth()]}function ie(pe){return s[+(pe.getUTCHours()>=12)]}function te(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var be=E(pe+="",k);return be.toString=function(){return pe},be},parse:function(pe){var be=L(pe+="",!1);return be.toString=function(){return pe},be},utcFormat:function(pe){var be=E(pe+="",O);return be.toString=function(){return pe},be},utcParse:function(pe){var be=L(pe+="",!0);return be.toString=function(){return pe},be}}}var _A={"-":"",_:" ",0:"0"},On=/^\s*\d+/,eJ=/^%/,tJ=/[\\^$*+?|[\]().{}]/g;function gt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<n?new Array(n-l+1).join(t)+s:s)}function nJ(e){return e.replace(tJ,"\\$&")}function nd(e){return new RegExp("^(?:"+e.map(nJ).join("|")+")","i")}function rd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function rJ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aJ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function sJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function iJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=On.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function kA(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cJ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function AA(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dJ(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function EA(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hJ(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pJ(e,t,n){var r=On.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xJ(e,t,n){var r=eJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gJ(e,t,n){var r=On.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vJ(e,t,n){var r=On.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function TA(e,t){return gt(e.getDate(),t,2)}function yJ(e,t){return gt(e.getHours(),t,2)}function bJ(e,t){return gt(e.getHours()%12||12,t,2)}function wJ(e,t){return gt(1+_f.count(Vs(e),e),t,3)}function kD(e,t){return gt(e.getMilliseconds(),t,3)}function jJ(e,t){return kD(e,t)+"000"}function NJ(e,t){return gt(e.getMonth()+1,t,2)}function SJ(e,t){return gt(e.getMinutes(),t,2)}function _J(e,t){return gt(e.getSeconds(),t,2)}function CJ(e){var t=e.getDay();return t===0?7:t}function kJ(e,t){return gt(Mp.count(Vs(e)-1,e),t,2)}function AD(e){var t=e.getDay();return t>=4||t===0?_c(e):_c.ceil(e)}function AJ(e,t){return e=AD(e),gt(_c.count(Vs(e),e)+(Vs(e).getDay()===4),t,2)}function EJ(e){return e.getDay()}function TJ(e,t){return gt(B0.count(Vs(e)-1,e),t,2)}function PJ(e,t){return gt(e.getFullYear()%100,t,2)}function OJ(e,t){return e=AD(e),gt(e.getFullYear()%100,t,2)}function MJ(e,t){return gt(e.getFullYear()%1e4,t,4)}function DJ(e,t){var n=e.getDay();return e=n>=4||n===0?_c(e):_c.ceil(e),gt(e.getFullYear()%1e4,t,4)}function RJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function PA(e,t){return gt(e.getUTCDate(),t,2)}function LJ(e,t){return gt(e.getUTCHours(),t,2)}function $J(e,t){return gt(e.getUTCHours()%12||12,t,2)}function IJ(e,t){return gt(1+Op.count(Hs(e),e),t,3)}function ED(e,t){return gt(e.getUTCMilliseconds(),t,3)}function zJ(e,t){return ED(e,t)+"000"}function BJ(e,t){return gt(e.getUTCMonth()+1,t,2)}function UJ(e,t){return gt(e.getUTCMinutes(),t,2)}function FJ(e,t){return gt(e.getUTCSeconds(),t,2)}function VJ(e){var t=e.getUTCDay();return t===0?7:t}function HJ(e,t){return gt(Dp.count(Hs(e)-1,e),t,2)}function TD(e){var t=e.getUTCDay();return t>=4||t===0?Cc(e):Cc.ceil(e)}function qJ(e,t){return e=TD(e),gt(Cc.count(Hs(e),e)+(Hs(e).getUTCDay()===4),t,2)}function KJ(e){return e.getUTCDay()}function GJ(e,t){return gt(U0.count(Hs(e)-1,e),t,2)}function YJ(e,t){return gt(e.getUTCFullYear()%100,t,2)}function WJ(e,t){return e=TD(e),gt(e.getUTCFullYear()%100,t,2)}function XJ(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function ZJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Cc(e):Cc.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function QJ(){return"+0000"}function OA(){return"%"}function MA(e){return+e}function DA(e){return Math.floor(+e/1e3)}var Fo,PD,OD;JJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JJ(e){return Fo=JQ(e),PD=Fo.format,Fo.parse,OD=Fo.utcFormat,Fo.utcParse,Fo}function eee(e){return new Date(e)}function tee(e){return e instanceof Date?+e:+new Date(+e)}function c2(e,t,n,r,s,l,c,d,f,m){var h=Wj(),x=h.invert,g=h.domain,b=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),_=m("%a %d"),C=m("%b %d"),k=m("%B"),O=m("%Y");function A(E){return(f(E)<E?b:d(E)<E?w:c(E)<E?j:l(E)<E?S:r(E)<E?s(E)<E?_:C:n(E)<E?k:O)(E)}return h.invert=function(E){return new Date(x(E))},h.domain=function(E){return arguments.length?g(Array.from(E,tee)):g().map(eee)},h.ticks=function(E){var L=g();return e(L[0],L[L.length-1],E??10)},h.tickFormat=function(E,L){return L==null?A:m(L)},h.nice=function(E){var L=g();return(!E||typeof E.range!="function")&&(E=t(L[0],L[L.length-1],E??10)),E?g(vD(L,E)):h},h.copy=function(){return Sf(h,c2(e,t,n,r,s,l,c,d,f,m))},h}function nee(){return pa.apply(c2(ZQ,QQ,Vs,l2,Mp,_f,s2,r2,zl,PD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ree(){return pa.apply(c2(WQ,XQ,Hs,o2,Dp,Op,i2,a2,zl,OD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rp(){var e=0,t=1,n,r,s,l,c=rr,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(s===0?.5:(x=(l(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=l(e=+e),r=l(t=+t),s=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(g){var b,w;return arguments.length?([b,w]=g,c=x(b,w),m):[c(0),c(1)]}}return m.range=h(Fc),m.rangeRound=h(Yj),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),m}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MD(){var e=Zi(Rp()(rr));return e.copy=function(){return Qi(e,MD())},Ws.apply(e,arguments)}function DD(){var e=Qj(Rp()).domain([1,10]);return e.copy=function(){return Qi(e,DD()).base(e.base())},Ws.apply(e,arguments)}function RD(){var e=Jj(Rp());return e.copy=function(){return Qi(e,RD()).constant(e.constant())},Ws.apply(e,arguments)}function u2(){var e=e2(Rp());return e.copy=function(){return Qi(e,u2()).exponent(e.exponent())},Ws.apply(e,arguments)}function aee(){return u2.apply(null,arguments).exponent(.5)}function LD(){var e=[],t=rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((jf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,l)=>VZ(e,l/r))},n.copy=function(){return LD(t).domain(e)},Ws.apply(n,arguments)}function Lp(){var e=0,t=.5,n=1,r=1,s,l,c,d,f,m=rr,h,x=!1,g;function b(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-l)*(r*j<r*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,n]=j,s=h(e=+e),l=h(t=+t),c=h(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,b):[e,t,n]},b.clamp=function(j){return arguments.length?(x=!!j,b):x},b.interpolator=function(j){return arguments.length?(m=j,b):m};function w(j){return function(S){var _,C,k;return arguments.length?([_,C,k]=S,m=xQ(j,[_,C,k]),b):[m(0),m(.5),m(1)]}}return b.range=w(Fc),b.rangeRound=w(Yj),b.unknown=function(j){return arguments.length?(g=j,b):g},function(j){return h=j,s=j(e),l=j(t),c=j(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,b}}function $D(){var e=Zi(Lp()(rr));return e.copy=function(){return Qi(e,$D())},Ws.apply(e,arguments)}function ID(){var e=Qj(Lp()).domain([.1,1,10]);return e.copy=function(){return Qi(e,ID()).base(e.base())},Ws.apply(e,arguments)}function zD(){var e=Jj(Lp());return e.copy=function(){return Qi(e,zD()).constant(e.constant())},Ws.apply(e,arguments)}function d2(){var e=e2(Lp());return e.copy=function(){return Qi(e,d2()).exponent(e.exponent())},Ws.apply(e,arguments)}function see(){return d2.apply(null,arguments).exponent(.5)}const wd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qj,scaleDiverging:$D,scaleDivergingLog:ID,scaleDivergingPow:d2,scaleDivergingSqrt:see,scaleDivergingSymlog:zD,scaleIdentity:gD,scaleImplicit:Z1,scaleLinear:xD,scaleLog:yD,scaleOrdinal:Hj,scalePoint:KZ,scalePow:t2,scaleQuantile:jD,scaleQuantize:ND,scaleRadial:wD,scaleSequential:MD,scaleSequentialLog:DD,scaleSequentialPow:u2,scaleSequentialQuantile:LD,scaleSequentialSqrt:aee,scaleSequentialSymlog:RD,scaleSqrt:zQ,scaleSymlog:bD,scaleThreshold:SD,scaleTime:nee,scaleUtc:ree,tickFormat:pD},Symbol.toStringTag,{value:"Module"}));var Ji=e=>e.chartData,f2=ye([Ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$p=(e,t,n,r)=>r?f2(e):Ji(e);function kc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Br(t)&&Br(n))return!0}return!1}function RA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function iee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,l;if(Br(n))s=n;else if(typeof n=="function")return;if(Br(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(kc(c))return c}}function lee(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(kc(r))return RA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(De(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Sk.test(s)){var f=Sk.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(De(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&_k.test(l)){var h=_k.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var g=[c,d];if(kc(g))return t==null?g:RA(g,t,n)}}}var Vc=1e9,oee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h2,Yt=!0,ma="[DecimalError] ",Kl=ma+"Invalid argument: ",m2=ma+"Exponent out of range: ",Hc=Math.floor,El=Math.pow,cee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,En=1e7,Bt=7,BD=9007199254740991,F0=Hc(BD/Bt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return Os(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return Mt(Os(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return gn(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Dr))throw Error(ma+"NaN");if(n.s<1)throw Error(ma+(n.s?"NaN":"-Infinity"));return n.eq(Dr)?new r(0):(Yt=!1,t=Os(af(n,l),af(e,l),l),Yt=!0,Mt(t,s))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VD(t,e):UD(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(ma+"NaN");return n.s?(Yt=!1,t=Os(n,e,0,1).times(e),Yt=!0,n.minus(t)):Mt(new r(n),s)};Re.naturalExponential=Re.exp=function(){return FD(this)};Re.naturalLogarithm=Re.ln=function(){return af(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UD(t,e):VD(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kl+e);if(t=gn(s)+1,r=s.d.length-1,n=r*Bt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ma+"NaN")}for(e=gn(d),Yt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=Wa(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Hc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),n=f.precision,s=c=n+3;;)if(l=r,r=l.plus(Os(d,l,c+2)).times(.5),Wa(l.d).slice(0,c)===(t=Wa(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Mt(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return Yt=!0,Mt(r,n)};Re.times=Re.mul=function(e){var t,n,r,s,l,c,d,f,m,h=this,x=h.constructor,g=h.d,b=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,m=b.length,f<m&&(l=g,g=b,b=l,c=f,f=m,m=c),l=[],c=f+m,r=c;r--;)l.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=l[s]+b[r]*g[s-r-1]+t,l[s--]=d%En|0,t=d/En|0;l[s]=(l[s]+t)%En|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Yt?Mt(e,x.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ts(e,0,Vc),t===void 0?t=r.rounding:ts(t,0,8),Mt(n,e+gn(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Zl(r,!0):(ts(e,0,Vc),t===void 0?t=s.rounding:ts(t,0,8),r=Mt(new s(r),e+1,t),n=Zl(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,s=this,l=s.constructor;return e===void 0?Zl(s):(ts(e,0,Vc),t===void 0?t=l.rounding:ts(t,0,8),r=Mt(new l(s),e+gn(s)+1,t),n=Zl(r.abs(),!1,e+gn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),gn(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Dr);if(d=new f(d),!d.s){if(e.s<1)throw Error(ma+"Infinity");return d}if(d.eq(Dr))return d;if(r=f.precision,e.eq(Dr))return Mt(d,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=BD){for(s=new f(Dr),t=Math.ceil(r/Bt+4),Yt=!1;n%2&&(s=s.times(d),$A(s.d,t)),n=Hc(n/2),n!==0;)d=d.times(d),$A(d.d,t);return Yt=!0,e.s<0?new f(Dr).div(s):Mt(s,r)}}else if(l<0)throw Error(ma+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Yt=!1,s=e.times(af(d,r+m)),Yt=!0,s=FD(s),s.s=l,s};Re.toPrecision=function(e,t){var n,r,s=this,l=s.constructor;return e===void 0?(n=gn(s),r=Zl(s,n<=l.toExpNeg||n>=l.toExpPos)):(ts(e,1,Vc),t===void 0?t=l.rounding:ts(t,0,8),s=Mt(new l(s),e,t),n=gn(s),r=Zl(s,e<=n||n<=l.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ts(e,1,Vc),t===void 0?t=r.rounding:ts(t,0,8)),Mt(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return Zl(e,t<=n.toExpNeg||t>=n.toExpPos)};function UD(e,t){var n,r,s,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Yt?Mt(t,x):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(r=f,l=-l,d=m.length):(r=m,s=c,d=f.length),c=Math.ceil(x/Bt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,r=m,m=f,f=r),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/En|0,f[l]%=En;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,Yt?Mt(t,x):t}function ts(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kl+e)}function Wa(e){var t,n,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",n=Bt-r.length,n&&(l+=$i(n)),l+=r;c=e[t],r=c+"",n=Bt-r.length,n&&(l+=$i(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Os=function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%En|0,c=l/En|0;return c&&r.unshift(c),r}function t(r,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function n(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*En+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,f,m,h,x,g,b,w,j,S,_,C,k,O,A,E,L,M,V=r.constructor,G=r.s==s.s?1:-1,H=r.d,U=s.d;if(!r.s)return new V(r);if(!s.s)throw Error(ma+"Division by zero");for(f=r.e-s.e,L=U.length,A=H.length,b=new V(G),w=b.d=[],m=0;U[m]==(H[m]||0);)++m;if(U[m]>(H[m]||0)&&--f,l==null?C=l=V.precision:c?C=l+(gn(r)-gn(s))+1:C=l,C<0)return new V(0);if(C=C/Bt+2|0,m=0,L==1)for(h=0,U=U[0],C++;(m<A||h)&&C--;m++)k=h*En+(H[m]||0),w[m]=k/U|0,h=k%U|0;else{for(h=En/(U[0]+1)|0,h>1&&(U=e(U,h),H=e(H,h),L=U.length,A=H.length),O=L,j=H.slice(0,L),S=j.length;S<L;)j[S++]=0;M=U.slice(),M.unshift(0),E=U[0],U[1]>=En/2&&++E;do h=0,d=t(U,j,L,S),d<0?(_=j[0],L!=S&&(_=_*En+(j[1]||0)),h=_/E|0,h>1?(h>=En&&(h=En-1),x=e(U,h),g=x.length,S=j.length,d=t(x,j,g,S),d==1&&(h--,n(x,L<g?M:U,g))):(h==0&&(d=h=1),x=U.slice()),g=x.length,g<S&&x.unshift(0),n(j,x,S),d==-1&&(S=j.length,d=t(U,j,L,S),d<1&&(h++,n(j,L<S?M:U,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=H[O]||0:(j=[H[O]],S=1);while((O++<A||j[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=f,Mt(b,c?l+gn(b)+1:l)}}();function FD(e,t){var n,r,s,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(gn(e)>16)throw Error(m2+gn(e));if(!e.s)return new h(Dr);for(Yt=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(El(2,m))/Math.LN10*2+5|0,d+=r,n=s=l=new h(Dr),h.precision=d;;){if(s=Mt(s.times(e),d),n=n.times(++f),c=l.plus(Os(s,n,d)),Wa(c.d).slice(0,d)===Wa(l.d).slice(0,d)){for(;m--;)l=Mt(l.times(l),d);return h.precision=x,t==null?(Yt=!0,Mt(l,x)):l}l=c}}function gn(e){for(var t=e.e*Bt,n=e.d[0];n>=10;n/=10)t++;return t}function eb(e,t,n){if(t>e.LN10.sd())throw Yt=!0,n&&(e.precision=n),Error(ma+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function af(e,t){var n,r,s,l,c,d,f,m,h,x=1,g=10,b=e,w=b.d,j=b.constructor,S=j.precision;if(b.s<1)throw Error(ma+(b.s?"NaN":"-Infinity"));if(b.eq(Dr))return new j(0);if(t==null?(Yt=!1,m=S):m=t,b.eq(10))return t==null&&(Yt=!0),eb(j,m);if(m+=g,j.precision=m,n=Wa(w),r=n.charAt(0),l=gn(b),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Wa(b.d),r=n.charAt(0),x++;l=gn(b),r>1?(b=new j("0."+n),l++):b=new j(r+"."+n.slice(1))}else return f=eb(j,m+2,S).times(l+""),b=af(new j(r+"."+n.slice(1)),m-g).plus(f),j.precision=S,t==null?(Yt=!0,Mt(b,S)):b;for(d=c=b=Os(b.minus(Dr),b.plus(Dr),m),h=Mt(b.times(b),m),s=3;;){if(c=Mt(c.times(h),m),f=d.plus(Os(c,new j(s),m)),Wa(f.d).slice(0,m)===Wa(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(eb(j,m+2,S).times(l+""))),d=Os(d,new j(x),m),j.precision=S,t==null?(Yt=!0,Mt(d,S)):d;d=f,s+=2}}function LA(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Hc(n/Bt),e.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Bt;r<s;)e.d.push(+t.slice(r,r+=Bt));t=t.slice(r),r=Bt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Yt&&(e.e>F0||e.e<-F0))throw Error(m2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,n){var r,s,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Bt,s=t,m=x[h=0];else{if(h=Math.ceil((r+1)/Bt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;r%=Bt,s=r-Bt+c}if(n!==void 0&&(l=El(10,c-s-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?s>0?m/El(10,c-s):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(l=gn(e),x.length=1,t=t-l-1,x[0]=El(10,(Bt-t%Bt)%Bt),e.e=Hc(-t/Bt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=h,l=1,h--):(x.length=h+1,l=El(10,Bt-r),x[h]=s>0?(m/El(10,c-s)%El(10,s)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==En&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=En)break;x[h--]=0,l=1}for(r=x.length;x[--r]===0;)x.pop();if(Yt&&(e.e>F0||e.e<-F0))throw Error(m2+gn(e));return e}function VD(e,t){var n,r,s,l,c,d,f,m,h,x,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Yt?Mt(t,b):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,d=x.length):(n=x,r=m,d=f.length),s=Math.max(Math.ceil(b/Bt),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){h=f[s]<x[s];break}c=0}for(h&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>c;){if(f[--s]<x[s]){for(l=s;l&&f[--l]===0;)f[l]=En-1;--f[l],f[s]+=En}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Yt?Mt(t,b):t):new g(0)}function Zl(e,t,n){var r,s=gn(e),l=Wa(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+$i(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+$i(-s-1)+l,n&&(r=n-c)>0&&(l+=$i(r))):s>=c?(l+=$i(s+1-c),n&&(r=n-s-1)>0&&(l=l+"."+$i(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(s+1===c&&(l+="."),l+=$i(r))),e.s<0?"-"+l:l}function $A(e,t){if(e.length>t)return e.length=t,!0}function HD(e){var t,n,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Kl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return LA(c,l.toString())}else if(typeof l!="string")throw Error(Kl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,cee.test(l))LA(c,l);else throw Error(Kl+l)}if(s.prototype=Re,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=HD,s.config=s.set=uee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function uee(e){if(!e||typeof e!="object")throw Error(ma+"Object expected");var t,n,r,s=["precision",1,Vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Hc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Kl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kl+n+": "+r);return this}var h2=HD(oee);Dr=new h2(1);const St=h2;var dee=e=>e,qD={},KD=e=>e===qD,IA=e=>function t(){return arguments.length===0||arguments.length===1&&KD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},GD=(e,t)=>e===1?t:IA(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var l=r.filter(c=>c!==qD).length;return l>=e?t(...r):GD(e-l,IA(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=r.map(h=>KD(h)?d.shift():h);return t(...m,...d)}))}),Ip=e=>GD(e.length,e),tw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fee=Ip((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),mee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return dee;var s=n.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},nw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),YD=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function WD(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function XD(e,t,n){for(var r=new St(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(n),s++;return l}Ip((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});Ip((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Ip((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var ZD=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},QD=(e,t,n)=>{if(e.lte(0))return new St(0);var r=WD(e.toNumber()),s=new St(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new St(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(s);return t?new St(f.toNumber()):new St(Math.ceil(f.toNumber()))},hee=(e,t,n)=>{var r=new St(1),s=new St(e);if(!s.isint()&&n){var l=Math.abs(e);l<1?(r=new St(10).pow(WD(e)-1),s=new St(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new St(Math.floor(e)))}else e===0?s=new St(Math.floor((t-1)/2)):n||(s=new St(Math.floor(e)));var c=Math.floor((t-1)/2),d=mee(fee(f=>s.add(new St(f-c).mul(r)).toNumber()),tw);return d(0,t)},JD=function(t,n,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var c=QD(new St(n).sub(t).div(r-1),s,l),d;t<=0&&n>=0?d=new St(0):(d=new St(t).add(n).div(2),d=d.sub(new St(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new St(n).sub(d).div(c).toNumber()),h=f+m+1;return h>r?JD(t,n,r,s,l+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:d.sub(new St(f).mul(c)),tickMax:d.add(new St(m).mul(c))})};function pee(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=ZD([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...tw(0,r-1).map(()=>1/0)]:[...tw(0,r-1).map(()=>-1/0),d];return t>n?nw(f):f}if(c===d)return hee(c,r,s);var{step:m,tickMin:h,tickMax:x}=JD(c,d,l,s,0),g=XD(h,x.add(new St(.1).mul(m)),m);return t>n?nw(g):g}function xee(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=ZD([n,r]);if(l===-1/0||c===1/0)return[n,r];if(l===c)return[l];var d=Math.max(t,2),f=QD(new St(c).sub(l).div(d-1),s,0),m=[...XD(new St(l),new St(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>r?nw(m):m}var gee=YD(pee),vee=YD(xee),e8=e=>e.rootProps.maxBarSize,yee=e=>e.rootProps.barGap,t8=e=>e.rootProps.barCategoryGap,bee=e=>e.rootProps.barSize,Cf=e=>e.rootProps.stackOffset,p2=e=>e.options.chartName,x2=e=>e.rootProps.syncId,n8=e=>e.rootProps.syncMethod,g2=e=>e.options.eventEmitter,_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},jee={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:Or.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},See={allowDataOverflow:Or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Or.scale,tick:Or.tick,tickCount:Or.tickCount,ticks:void 0,type:"category",unit:void 0},v2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Nee:wee,y2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?See:jee,Bp=e=>e.polarOptions,b2=ye([Gs,Ys,wn],RM),r8=ye([Bp,b2],(e,t)=>{if(e!=null)return sr(e.innerRadius,t,0)}),a8=ye([Bp,b2],(e,t)=>{if(e!=null)return sr(e.outerRadius,t,t*.8)}),_ee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},s8=ye([Bp],_ee);ye([v2,s8],zp);var i8=ye([b2,r8,a8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ye([y2,i8],zp);var l8=ye([ft,Bp,r8,a8,Gs,Ys],(e,t,n,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:sr(c,s,s/2),cy:sr(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),Xt=(e,t)=>t,kf=(e,t,n)=>n;function w2(e){return e==null?void 0:e.id}var Nn=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qc=e=>e.tooltip.settings.axisId,Sn=e=>{var t=Nn(e),n=qc(e);return Af(e,t,n)};function o8(e,t,n){var{chartData:r=[]}=t,s=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=w2(c);f.forEach((h,x)=>{var g=s==null?x:String(Ot(h,s,null)),b=Ot(h,c.dataKey,0),w;l.has(g)?w=l.get(g):w={},Object.assign(w,{[m]:b}),l.set(g,w)})}}),Array.from(l.values())}function Up(e){return e.stackId!=null&&e.dataKey!=null}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rw=[0,"auto"],Tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xs=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Tr},Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kp},el=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Pr},Eee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},j2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Eee},cn=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return el(e,n);case"zAxis":return j2(e,n);case"angleAxis":return v2(e,n);case"radiusAxis":return y2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Tee=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return el(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Af=(e,t,n)=>{switch(t){case"xAxis":return Xs(e,n);case"yAxis":return el(e,n);case"angleAxis":return v2(e,n);case"radiusAxis":return y2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},c8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function N2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Fp=e=>e.graphicalItems.cartesianItems,Pee=ye([Xt,kf],N2),S2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ef=ye([Fp,cn,Pee],S2),u8=ye([Ef],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Up)),d8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),f8=ye([Ef],d8),_2=e=>e.map(t=>t.data).filter(Boolean).flat(1),Oee=ye([Ef],_2),C2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},k2=ye([Oee,$p],C2),A2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Ot(s,r)}))):e.map(r=>({value:r})),Vp=ye([k2,cn,Ef],A2);function m8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ro(e){return e.filter(t=>es(t)||t instanceof Date).map(Number).filter(t=>$r(t)===!1)}function Mee(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?ro(n.flatMap(r=>{var s=Ot(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Br(l)||!Br(c)))return[t-l,t+c]})):[]}var Dee=ye([u8,$p,Sn],o8),h8=(e,t,n)=>{var r={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(w2);return[c,{stackedData:XW(e,f,n),graphicalItems:d}]}))},aw=ye([Dee,u8,Cf],h8),p8=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(n!=="zAxis"){var l=tX(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Ree=ye([aw,Ji,Xt],p8),x8=(e,t,n,r,s)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(x=>m8(s,x)),h=Ot(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:Mee(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Ot(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Hp=e=>e.errorBars,g8=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>m8(n,r));ye([f8,Hp,Xt],g8);var Lee=ye([k2,cn,f8,Hp,Xt],x8);function $ee(e){var{value:t}=e;if(es(t)||t instanceof Date)return t}var BA=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ro(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Iee=(e,t,n)=>{var r=e.map($ee).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&PO(r))?sD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},E2=e=>{var t;if(e==null||!("domain"in e))return rw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ro(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:rw},H0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},v8=e=>e.referenceElements.dots,Kc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),zee=ye([v8,Xt,kf],Kc),y8=e=>e.referenceElements.areas,Bee=ye([y8,Xt,kf],Kc),b8=e=>e.referenceElements.lines,Uee=ye([b8,Xt,kf],Kc),w8=(e,t)=>{var n=ro(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fee=ye(zee,Xt,w8),j8=(e,t)=>{var n=ro(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vee=ye([Bee,Xt],j8),N8=(e,t)=>{var n=ro(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hee=ye(Uee,Xt,N8),qee=ye(Fee,Hee,Vee,(e,t,n)=>H0(e,n,t)),S8=ye([cn],E2),T2=(e,t,n,r,s,l,c)=>{var d=iee(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?H0(n,s,BA(r)):H0(s,BA(r));return lee(t,m,e.allowDataOverflow)},Kee=ye([cn,S8,Ree,Lee,qee,ft,Xt],T2),Gee=[0,1],P2=(e,t,n,r,s,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=Xi(t,l);return m&&d==null?sD(0,n.length):f==="category"?Iee(r,e,m):s==="expand"?Gee:c}},O2=ye([cn,ft,k2,Vp,Cf,Xt,Kee],P2),_8=(e,t,n,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(yf(l));return d in wd?d:"point"}}},Gc=ye([cn,ft,c8,p2,Xt],_8);function Yee(e){if(e!=null){if(e in wd)return wd[e]();var t="scale".concat(yf(e));if(t in wd)return wd[t]()}}function M2(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=Yee(t);if(s!=null){var l=s.domain(n).range(r);return qW(l),l}}}var D2=(e,t,n)=>{var r=E2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&kc(e))return gee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&kc(e))return vee(e,t.tickCount,t.allowDecimals)}},R2=ye([O2,Af,Gc],D2),L2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&kc(t)&&Array.isArray(n)&&n.length>0){var s=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},Wee=ye([cn,O2,R2,Xt],L2),Xee=ye(Vp,cn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ro(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/s}}),C8=ye(Xee,ft,t8,wn,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!Br(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=sr(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),Zee=(e,t)=>{var n=Xs(e,t);return n==null||typeof n.padding!="string"?0:C8(e,"xAxis",t,n.padding)},Qee=(e,t)=>{var n=el(e,t);return n==null||typeof n.padding!="string"?0:C8(e,"yAxis",t,n.padding)},Jee=ye(Xs,Zee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),ete=ye(el,Qee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),tte=ye([wn,Jee,Ep,Ap,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:l}=r;return s?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),nte=ye([wn,ft,ete,Ep,Ap,(e,t,n)=>n],(e,t,n,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Tf=(e,t,n,r)=>{var s;switch(t){case"xAxis":return tte(e,n,r);case"yAxis":return nte(e,n,r);case"zAxis":return(s=j2(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return s8(e);case"radiusAxis":return i8(e,n);default:return}},k8=ye([cn,Tf],zp),Yc=ye([cn,Gc,Wee,k8],M2);ye([Ef,Hp,Xt],g8);function A8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qp=(e,t)=>t,Kp=(e,t,n)=>n,rte=ye($j,qp,Kp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(A8)),ate=ye(Ij,qp,Kp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(A8)),E8=(e,t)=>({width:e.width,height:t.height}),ste=(e,t)=>{var n=typeof t.width=="number"?t.width:kp;return{width:n,height:e.height}},T8=ye(wn,Xs,E8),ite=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},lte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ote=ye(Ys,wn,rte,qp,Kp,(e,t,n,r,s)=>{var l={},c;return n.forEach(d=>{var f=E8(t,d);c==null&&(c=ite(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),cte=ye(Gs,wn,ate,qp,Kp,(e,t,n,r,s)=>{var l={},c;return n.forEach(d=>{var f=ste(t,d);c==null&&(c=lte(t,r,e));var m=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),ute=(e,t)=>{var n=wn(e),r=Xs(e,t);if(r!=null){var s=ote(e,r.orientation,r.mirror),l=s[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},dte=(e,t)=>{var n=wn(e),r=el(e,t);if(r!=null){var s=cte(e,r.orientation,r.mirror),l=s[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},P8=ye(wn,el,(e,t)=>{var n=typeof t.width=="number"?t.width:kp;return{width:n,height:e.height}}),UA=(e,t,n)=>{switch(t){case"xAxis":return T8(e,n).width;case"yAxis":return P8(e,n).height;default:return}},O8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=n,d=Xi(e,r),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&PO(f))return f}},$2=ye([ft,Vp,cn,Xt],O8),M8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:l}=n,c=Xi(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},I2=ye([ft,Vp,Af,Xt],M8),FA=ye([ft,Tee,Gc,Yc,$2,I2,Tf,R2,Xt],(e,t,n,r,s,l,c,d,f)=>{if(t==null)return null;var m=Xi(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:r}}),fte=(e,t,n,r,s,l,c,d,f)=>{if(!(t==null||r==null)){var m=Xi(e,f),{type:h,ticks:x,tickCount:g}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Pn(l[0]-l[1])*2*w:w;var j=x||s;if(j){var S=j.map((_,C)=>{var k=c?c.indexOf(_):_;return{index:C,coordinate:r(k)+w,value:_,offset:w}});return S.filter(_=>!$r(_.coordinate))}return m&&d?d.map((_,C)=>({coordinate:r(_)+w,value:_,index:C,offset:w})):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+w,value:_,offset:w})):r.domain().map((_,C)=>({coordinate:r(_)+w,value:c?c[_]:_,index:C,offset:w}))}},D8=ye([ft,Af,Gc,Yc,R2,Tf,$2,I2,Xt],fte),mte=(e,t,n,r,s,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Xi(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(r==null?void 0:r.length)>=2?Pn(r[0]-r[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:n(h)+m,value:h,index:x,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,x)=>({coordinate:n(h)+m,value:s?s[h]:h,index:x,offset:m}))}},Ki=ye([ft,Af,Yc,Tf,$2,I2,Xt],mte),Gi=ye(cn,Yc,(e,t)=>{if(!(e==null||t==null))return V0(V0({},e),{},{scale:t})}),hte=ye([cn,Gc,O2,k8],M2);ye((e,t,n)=>j2(e,n),hte,(e,t)=>{if(!(e==null||t==null))return V0(V0({},e),{},{scale:t})});var pte=ye([ft,$j,Ij],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),R8=e=>e.options.defaultTooltipEventType,L8=e=>e.options.validateTooltipEventTypes;function $8(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function z2(e,t){var n=R8(e),r=L8(e);return $8(t,n,r)}function xte(e){return ze(t=>z2(t,e))}var I8=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},gte=e=>e.tooltip.settings,Ii={active:!1,index:null,dataKey:void 0,coordinate:void 0},vte={itemInteraction:{click:Ii,hover:Ii},axisInteraction:{click:Ii,hover:Ii},keyboardInteraction:Ii,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z8=Ur({name:"tooltip",initialState:vte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ps(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:yte,removeTooltipEntrySettings:bte,setTooltipSettingsState:wte,setActiveMouseOverItemIndex:B8,mouseLeaveItem:jte,mouseLeaveChart:U8,setActiveClickItemIndex:Nte,setMouseOverAxisIndex:F8,setMouseClickAxisIndex:Ste,setSyncInteraction:sw,setKeyboardInteraction:iw}=z8.actions,_te=z8.reducer;function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){Cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cte(e,t,n){return(t=kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Tte(e){return e.index!=null}var V8=(e,t,n,r)=>{if(t==null)return Ii;var s=Ete(e,t,n);if(s==null)return Ii;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Tte(s)){if(l)return fh(fh({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return fh(fh({},Ii),{},{coordinate:s.coordinate})},B2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Br(r))return n;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(r,l)))},H8=(e,t,n,r,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},q8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Pf=e=>e.options.tooltipPayloadSearcher,Wc=e=>e.tooltip;function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t){return e??t}var K8=(e,t,n,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,x=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:j,settings:S}=b,_=Dte(j,d),C=Array.isArray(_)?LM(_,m,h):_,k=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,O=S==null?void 0:S.nameKey,A;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?A=OO(C,r.dataKey,s):A=l(C,t,f,O),Array.isArray(A))A.forEach(L=>{var M=qA(qA({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(Ck({tooltipEntrySettings:M,dataKey:L.dataKey,payload:L.payload,value:Ot(L.payload,L.dataKey),name:L.name}))});else{var E;g.push(Ck({tooltipEntrySettings:S,dataKey:k,payload:A,value:Ot(A,k),name:(E=Ot(A,O))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return g},x)}},U2=ye([Sn,ft,c8,p2,Nn],_8),Rte=ye([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lte=ye([Nn,qc],N2),Of=ye([Rte,Sn,Lte],S2),$te=ye([Of],e=>e.filter(Up)),Ite=ye([Of],_2),Xc=ye([Ite,Ji],C2),zte=ye([$te,Ji,Sn],o8),F2=ye([Xc,Sn,Of],A2),Bte=ye([Sn],E2),Ute=ye([Of],e=>e.filter(Up)),Fte=ye([zte,Ute,Cf],h8),Vte=ye([Fte,Ji,Nn],p8),Hte=ye([Of],d8),qte=ye([Xc,Sn,Hte,Hp,Nn],x8),Kte=ye([v8,Nn,qc],Kc),Gte=ye([Kte,Nn],w8),Yte=ye([y8,Nn,qc],Kc),Wte=ye([Yte,Nn],j8),Xte=ye([b8,Nn,qc],Kc),Zte=ye([Xte,Nn],N8),Qte=ye([Gte,Zte,Wte],H0),Jte=ye([Sn,Bte,Vte,qte,Qte,ft,Nn],T2),G8=ye([Sn,ft,Xc,F2,Cf,Nn,Jte],P2),ene=ye([G8,Sn,U2],D2),tne=ye([Sn,G8,ene,Nn],L2),Y8=e=>{var t=Nn(e),n=qc(e),r=!1;return Tf(e,t,n,r)},W8=ye([Sn,Y8],zp),X8=ye([Sn,U2,tne,W8],M2),nne=ye([ft,F2,Sn,Nn],O8),rne=ye([ft,F2,Sn,Nn],M8),ane=(e,t,n,r,s,l,c,d)=>{if(t){var{type:f}=t,m=Xi(e,d);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return x=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Pn(s[0]-s[1])*2*x:x,m&&c?c.map((g,b)=>({coordinate:r(g)+x,value:g,index:b,offset:x})):r.domain().map((g,b)=>({coordinate:r(g)+x,value:l?l[g]:g,index:b,offset:x}))}}},Zs=ye([ft,Sn,U2,X8,Y8,nne,rne,Nn],ane),V2=ye([R8,L8,gte],(e,t,n)=>$8(n.shared,e,t)),Z8=e=>e.tooltip.settings.trigger,H2=e=>e.tooltip.settings.defaultIndex,Gp=ye([Wc,V2,Z8,H2],V8),Yi=ye([Gp,Xc],B2),Q8=ye([Zs,Yi],I8),J8=ye([Gp],e=>{if(e)return e.dataKey}),eR=ye([Wc,V2,Z8,H2],q8),sne=ye([Gs,Ys,ft,wn,Zs,H2,eR,Pf],H8),ine=ye([Gp,sne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lne=ye([Gp],e=>e.active),one=ye([eR,Yi,Ji,Sn,Q8,Pf,V2],K8),cne=ye([one],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mne=()=>ze(Sn),hne=()=>{var e=mne(),t=ze(Zs),n=ze(X8);return Qd(GA(GA({},e),{},{scale:n}),t)},pne=()=>ze(p2),q2=(e,t)=>t,tR=(e,t,n)=>n,K2=(e,t,n,r)=>r,xne=ye(Zs,e=>bp(e,t=>t.coordinate)),G2=ye([Wc,q2,tR,K2],V8),nR=ye([G2,Xc],B2),gne=(e,t,n)=>{if(t!=null){var r=Wc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rR=ye([Wc,q2,tR,K2],q8),q0=ye([Gs,Ys,ft,wn,Zs,K2,rR,Pf],H8),vne=ye([G2,q0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),aR=ye(Zs,nR,I8),yne=ye([rR,nR,Ji,Sn,aR,Pf,q2],K8),bne=ye([G2],e=>({isActive:e.active,activeIndex:e.index})),wne=(e,t,n,r,s,l,c,d)=>{if(!(!e||!t||!r||!s||!l)){var f=nX(e.chartX,e.chartY,t,n,d);if(f){var m=aX(f,t),h=VW(m,c,l,r,s),x=rX(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ne(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=n,g=r;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,w;if(m==="ScatterChart")b=h,w=UX;else if(m==="BarChart")b=FX(c,h,s,l),w=nD;else if(c==="radial"){var{cx:j,cy:S,radius:_,startAngle:C,endAngle:k}=rD(h);b={cx:j,cy:S,startAngle:C,endAngle:k,innerRadius:_,outerRadius:_},w=Fj}else b={points:CZ(c,h,s)},w=Bj;var O=typeof d=="object"&&"className"in d?d.className:void 0,A=mh(mh(mh(mh({stroke:"#ccc",pointerEvents:"none"},s),b),Gt(d,!1)),{},{payload:x,payloadIndex:g,className:at("recharts-tooltip-cursor",O)});return v.isValidElement(d)?v.cloneElement(d,A):v.createElement(w,A)}function Cne(e){var t=hne(),n=VM(),r=Tp(),s=pne();return v.createElement(_ne,lw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var sR=v.createContext(null),kne=()=>v.useContext(sR),tb={exports:{}},WA;function Ane(){return WA||(WA=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,x||f,g),w=n?n+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,b=x.length,w=new Array(b);g<b;g++)w[g]=x[g].fn;return w},d.prototype.listenerCount=function(m){var h=n?n+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,g,b,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],_=arguments.length,C,k;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,g),!0;case 5:return S.fn.call(S.context,h,x,g,b),!0;case 6:return S.fn.call(S.context,h,x,g,b,w),!0}for(k=1,C=new Array(_-1);k<_;k++)C[k-1]=arguments[k];S.fn.apply(S.context,C)}else{var O=S.length,A;for(k=0;k<O;k++)switch(S[k].once&&this.removeListener(m,S[k].fn,void 0,!0),_){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,h);break;case 3:S[k].fn.call(S[k].context,h,x);break;case 4:S[k].fn.call(S[k].context,h,x,g);break;default:if(!C)for(A=1,C=new Array(_-1);A<_;A++)C[A-1]=arguments[A];S[k].fn.apply(S[k].context,C)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,g){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!g||w.once)&&(!x||w.context===x)&&c(this,b);else{for(var j=0,S=[],_=w.length;j<_;j++)(w[j].fn!==h||g&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(tb)),tb.exports}var Ene=Ane();const Tne=Ma(Ene);var sf=new Tne,ow="recharts.syncEvent.tooltip",XA="recharts.syncEvent.brush";function Y2(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e==null?void 0:e[n]}}var Pne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iR=Ur({name:"options",initialState:Pne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),One=iR.reducer,{createEventEmitter:Mne}=iR.actions;function Dne(e){return e.tooltip.syncInteraction}var Rne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lR=Ur({name:"chartData",initialState:Rne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:ZA,setDataStartEndIndexes:Lne,setComputedData:Hde}=lR.actions,$ne=lR.reducer,oR=()=>{};function Ine(){var e=ze(x2),t=ze(g2),n=on(),r=ze(n8),s=ze(Zs),l=Tp(),c=zj(),d=ze(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return oR;var f=(m,h,x)=>{if(t!==x&&e===m){if(r==="index"){n(h);return}if(s!=null){var g;if(typeof r=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(s,b);g=s[w]}else r==="value"&&(g=s.find(E=>String(E.value)===h.payload.label));var{coordinate:j}=h.payload;if(g==null||h.payload.active===!1||j==null||c==null){n(sw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:_}=j,C=Math.min(S,c.x+c.width),k=Math.min(_,c.y+c.height),O={x:l==="horizontal"?g.coordinate:C,y:l==="horizontal"?k:g.coordinate},A=sw({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});n(A)}}};return sf.on(ow,f),()=>{sf.off(ow,f)}},[d,n,t,e,r,s,l,c])}function zne(){var e=ze(x2),t=ze(g2),n=on();v.useEffect(()=>{if(e==null)return oR;var r=(s,l,c)=>{t!==c&&e===s&&n(Lne(l))};return sf.on(XA,r),()=>{sf.off(XA,r)}},[n,t,e])}function Bne(){var e=on();v.useEffect(()=>{e(Mne())},[e]),Ine(),zne()}function Une(e,t,n,r,s,l){var c=ze(g=>gne(g,e,t)),d=ze(g2),f=ze(x2),m=ze(n8),h=ze(Dne),x=h==null?void 0:h.active;v.useEffect(()=>{if(!x&&f!=null&&d!=null){var g=sw({active:l,coordinate:n,dataKey:c,index:s,label:typeof r=="number"?String(r):r});sf.emit(ow,f,g,d)}},[x,n,c,s,r,d,f,m,l])}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){Fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fne(e,t,n){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qne(e){return e.dataKey}function Kne(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(yX,t)}var eE=[],Gne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!eo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ka(e){var t=Fr(e,Gne),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:g,useTranslate3d:b,wrapperStyle:w,cursor:j,shared:S,trigger:_,defaultIndex:C,portal:k,axisId:O}=t,A=on(),E=typeof C=="number"?String(C):C;v.useEffect(()=>{A(wte({shared:S,trigger:_,axisId:O,active:n,defaultIndex:E}))},[A,S,_,O,n,E]);var L=zj(),M=WM(),V=xte(S),{activeIndex:G,isActive:H}=ze(B=>bne(B,V,_,E)),U=ze(B=>yne(B,V,_,E)),ne=ze(B=>aR(B,V,_,E)),we=ze(B=>vne(B,V,_,E)),ae=U,D=kne(),K=n??H,[q,F]=MY([ae,K]),T=V==="axis"?ne:void 0;Une(V,_,we,T,G,K);var R=k??D;if(R==null)return null;var I=ae??eE;K||(I=eE),d&&I.length&&(I=sY(ae.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),h,qne));var W=I.length>0,ce=v.createElement(CX,{allowEscapeViewBox:r,animationDuration:s,animationEasing:l,isAnimationActive:f,active:K,coordinate:we,hasPayload:W,offset:m,position:x,reverseDirection:g,useTranslate3d:b,viewBox:L,wrapperStyle:w,lastBoundingBox:q,innerRef:F,hasPortalFromProps:!!k},Kne(c,JA(JA({},t),{},{payload:I,label:T,active:K,coordinate:we,accessibilityLayer:M})));return v.createElement(v.Fragment,null,xI.createPortal(ce,R),K&&v.createElement(Cne,{cursor:j,tooltipEventType:V,coordinate:we,payload:ae,index:G}))}var nb={},rb={},ab={},tE;function Yne(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,x()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},_=function(...C){if(s!=null&&s.aborted)return;c=this,d=C;const k=g==null;b(),f&&k&&h()};return _.schedule=b,_.cancel=j,_.flush=S,s==null||s.addEventListener("abort",j,{once:!0}),_}e.debounce=t}(ab)),ab}var nE;function Wne(){return nE||(nE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yne();function n(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const g=t.debounce(function(...j){h=r.apply(this,j),x=null},s,{edges:m}),b=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=r.apply(this,j),x=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,j),h)},w=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=w,b}e.debounce=n}(rb)),rb}var rE;function Xne(){return rE||(rE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wne();function n(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n}(nb)),nb}var sb,aE;function Zne(){return aE||(aE=1,sb=Xne().throttle),sb}var Qne=Zne();const Jne=Ma(Qne);var Pd=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l]};function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:g,onResize:b,style:w={}}=e,j=v.useRef(null),S=v.useRef();S.current=b,v.useImperativeHandle(t,()=>j.current);var[_,C]=v.useState({containerWidth:r.width,containerHeight:r.height}),k=v.useCallback((A,E)=>{C(L=>{var M=Math.round(A),V=Math.round(E);return L.containerWidth===M&&L.containerHeight===V?L:{containerWidth:M,containerHeight:V}})},[]);v.useEffect(()=>{var A=V=>{var G,{width:H,height:U}=V[0].contentRect;k(H,U),(G=S.current)===null||G===void 0||G.call(S,H,U)};h>0&&(A=Jne(A,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(A),{width:L,height:M}=j.current.getBoundingClientRect();return k(L,M),E.observe(j.current),()=>{E.disconnect()}},[k,h]);var O=v.useMemo(()=>{var{containerWidth:A,containerHeight:E}=_;if(A<0||E<0)return null;Pd(Ll(s)||Ll(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Pd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Ll(s)?A:s,M=Ll(l)?E:l;return n&&n>0&&(L?M=L/n:M&&(L=M*n),f&&M>f&&(M=f)),Pd(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,s,l,c,d,n),v.Children.map(m,V=>v.cloneElement(V,{width:L,height:M,style:ib({width:L,height:M},V.props.style)}))},[n,m,l,f,d,c,_,s]);return v.createElement("div",{id:x?"".concat(x):void 0,className:at("recharts-responsive-container",g),style:ib(ib({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),Es=e=>null;Es.displayName="Cell";function rre(e,t,n){return(t=are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function are(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ire{constructor(t){rre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dre={cacheSize:2e3,enableCache:!0},cR=lre({},dre),lE=new ire(cR.cacheSize),fre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oE="recharts_measurement_span";function mre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var cE=(e,t)=>{try{var n=document.getElementById(oE);n||(n=document.createElement("span"),n.setAttribute("id",oE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,fre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Od=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eo.isSsr)return{width:0,height:0};if(!cR.enableCache)return cE(t,n);var r=mre(t,n),s=lE.get(r);if(s)return s;var l=cE(t,n);return lE.set(r,l),l},uE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xre=Object.keys(uR),ac="NaN";function gre(e,t){return e*uR[t]}class pr{static parse(t){var n,[,r,s]=(n=pre.exec(t))!==null&&n!==void 0?n:[];return new pr(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!hre.test(n)&&(this.num=NaN,this.unit=""),xre.includes(n)&&(this.num=gre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function dR(e){if(e.includes(ac))return ac;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,l]=(n=uE.exec(t))!==null&&n!==void 0?n:[],c=pr.parse(r??""),d=pr.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return ac;t=t.replace(uE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,g]=(m=dE.exec(t))!==null&&m!==void 0?m:[],b=pr.parse(h??""),w=pr.parse(g??""),j=x==="+"?b.add(w):b.subtract(w);if(j.isNaN())return ac;t=t.replace(dE,j.toString())}return t}var fE=/\(([^()]*)\)/;function vre(e){for(var t=e,n;(n=fE.exec(t))!=null;){var[,r]=n;t=t.replace(fE,dR(r))}return t}function yre(e){var t=e.replace(/\s+/g,"");return t=vre(t),t=dR(t),t}function bre(e){try{return yre(e)}catch{return ac}}function lb(e){var t=bre(e.slice(5,-1));return t===ac?"":t}var wre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jre=["dx","dy","angle","className","breakAll"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(null,arguments)}function mE(e,t){if(e==null)return{};var n,r,s=Nre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fR=/[ \f\n\r\t\v\u2028\u2029]+/,mR=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];Ft(t)||(n?s=t.toString().split(""):s=t.toString().split(fR));var l=s.map(d=>({word:d,width:Od(d,r).width})),c=n?0:Od("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Sre=(e,t,n,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=De(l),h=c,x=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((U,ne)=>{var{word:we,width:ae}=ne,D=U[U.length-1];if(D&&(r==null||s||D.width+ae+n<Number(r)))D.words.push(we),D.width+=ae+n;else{var K={words:[we],width:ae};U.push(K)}return U},[])},g=x(t),b=G=>G.reduce((H,U)=>H.width>U.width?H:U);if(!m||s)return g;var w=g.length>l||b(g).width>Number(r);if(!w)return g;for(var j="",S=G=>{var H=h.slice(0,G),U=mR({breakAll:f,style:d,children:H+j}).wordsWithComputedWidth,ne=x(U),we=ne.length>l||b(ne).width>Number(r);return[we,ne]},_=0,C=h.length-1,k=0,O;_<=C&&k<=h.length-1;){var A=Math.floor((_+C)/2),E=A-1,[L,M]=S(E),[V]=S(A);if(!L&&!V&&(_=A+1),L&&V&&(C=A-1),!L&&V){O=M;break}k++}return O||g},hE=e=>{var t=Ft(e)?[]:e.toString().split(fR);return[{words:t}]},_re=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||n)&&!eo.isSsr){var d,f,m=mR({breakAll:l,children:r,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return hE(r);return Sre({breakAll:l,children:r,maxLines:c,style:s},d,f,t,n)}return hE(r)},pE="#808080",Yp=v.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=pE}=e,h=mE(e,wre),x=v.useMemo(()=>_re({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:b,angle:w,className:j,breakAll:S}=h,_=mE(h,jre);if(!es(n)||!es(r))return null;var C=n+(De(g)?g:0),k=r+(De(b)?b:0),O;switch(f){case"start":O=lb("calc(".concat(l,")"));break;case"middle":O=lb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=lb("calc(".concat(x.length-1," * -").concat(s,")"));break}var A=[];if(c){var E=x[0].width,{width:L}=h;A.push("scale(".concat(De(L)?L/E:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(k,")")),A.length&&(_.transform=A.join(" ")),v.createElement("text",cw({},Gt(_,!0),{ref:t,x:C,y:k,className:at("recharts-text",j),textAnchor:d,fill:m.includes("url")?pE:m}),x.map((M,V)=>{var G=M.words.join(S?"":" ");return v.createElement("tspan",{x:C,dy:V===0?O:s,key:"".concat(G,"-").concat(V)},G)}))});Yp.displayName="Text";var Cre=["offset"],kre=["labelRef"];function xE(e,t){if(e==null)return{};var n,r,s=Are(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(null,arguments)}var Ore=e=>{var{value:t,formatter:n}=e,r=Ft(e.children)?t:e.children;return typeof n=="function"?n(r):r},W2=e=>e!=null&&typeof e=="function",Mre=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Dre=(e,t,n,r)=>{var{position:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:g,clockWise:b}=r,w=(m+h)/2,j=Mre(x,g),S=j>=0?1:-1,_,C;s==="insideStart"?(_=x+S*l,C=b):s==="insideEnd"?(_=g-S*l,C=!b):s==="end"&&(_=g+S*l,C=b),C=j<=0?C:!C;var k=xn(d,f,w,_),O=xn(d,f,w,_+(C?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Ft(e.id)?Wd("recharts-radial-line-"):e.id;return v.createElement("text",Cs({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:E,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(E)},t))},Rre=(e,t,n)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:h,y:x}=xn(r,s,c+t,m);return{x:h,y:x,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:b,y:w}=xn(r,s,g,m);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Lre=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*r,x=m>0?"end":"start",g=m>0?"start":"end",b=d>=0?1:-1,w=b*r,j=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var _={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:x};return tn(tn({},_),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var C={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:g};return tn(tn({},C),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var k={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return tn(tn({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(s==="right"){var O={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return tn(tn({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var A=n?{width:d,height:f}:{};return s==="insideLeft"?tn({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},A):s==="insideRight"?tn({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):s==="insideTop"?tn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?tn({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},A):s==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:S,verticalAnchor:g},A):s==="insideTopRight"?tn({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:g},A):s==="insideBottomLeft"?tn({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},A):s==="insideBottomRight"?tn({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},A):s&&typeof s=="object"&&(De(s.x)||Ll(s.x))&&(De(s.y)||Ll(s.y))?tn({x:l+sr(s.x,d),y:c+sr(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):tn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},$re=e=>"cx"in e&&De(e.cx);function Mr(e){var{offset:t=5}=e,n=xE(e,Cre),r=tn({offset:t},n),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=r,g=ze(l8),b=zj(),w=l==="center"?b:g??b,j=s||w;if(!j||Ft(c)&&Ft(d)&&!v.isValidElement(f)&&typeof f!="function")return null;var S=tn(tn({},r),{},{viewBox:j});if(v.isValidElement(f)){var{labelRef:_}=S,C=xE(S,kre);return v.cloneElement(f,C)}var k;if(typeof f=="function"){if(k=v.createElement(f,S),v.isValidElement(k))return k}else k=Ore(r);var O=$re(j),A=Gt(r,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Dre(r,k,A,j);var E=O?Rre(j,r.offset,r.position):Lre(r,j);return v.createElement(Yp,Cs({ref:x,className:at("recharts-label",m)},A,E,{breakAll:h}),k)}Mr.displayName="Label";var hR=e=>{var{cx:t,cy:n,angle:r,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:g,left:b,width:w,height:j,clockWise:S,labelViewBox:_}=e;if(_)return _;if(De(w)&&De(j)){if(De(h)&&De(x))return{x:h,y:x,width:w,height:j};if(De(g)&&De(b))return{x:g,y:b,width:w,height:j}}if(De(h)&&De(x))return{x:h,y:x,width:0,height:0};if(De(t)&&De(n))return{cx:t,cy:n,startAngle:s||r||0,endAngle:l||r||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Ire=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Mr,Cs({key:"label-implicit"},r)):es(e)?v.createElement(Mr,Cs({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Mr?v.cloneElement(e,tn({key:"label-implicit"},r)):v.createElement(Mr,Cs({key:"label-implicit",content:e},r)):W2(e)?v.createElement(Mr,Cs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Mr,Cs({},e,{key:"label-implicit"},r)):null},zre=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:l}=t,c=hR(t),d=bf(s,Mr).map((m,h)=>v.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!r)return d;var f=Ire(t.label,n||c,l);return[f,...d]};Mr.parseViewBox=hR;Mr.renderCallByParent=zre;var ob={},cb={},vE;function Bre(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(cb)),cb}var ub={},yE;function Ure(){return yE||(yE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(ub)),ub}var bE;function Fre(){return bE||(bE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bre(),n=Ure(),r=Cj();function s(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=s}(ob)),ob}var db,wE;function Vre(){return wE||(wE=1,db=Fre().last),db}var Hre=Vre();const qre=Ma(Hre);var Kre=["valueAccessor"],Gre=["data","dataKey","clockWise","id","textBreakAll"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){Yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yre(e,t,n){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wre(e){var t=Xre(e,"string");return typeof t=="symbol"?t:t+""}function Xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SE(e,t){if(e==null)return{};var n,r,s=Zre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qre=e=>Array.isArray(e.value)?qre(e.value):e.value;function Ui(e){var{valueAccessor:t=Qre}=e,n=SE(e,Kre),{data:r,dataKey:s,clockWise:l,id:c,textBreakAll:d}=n,f=SE(n,Gre);return!r||!r.length?null:v.createElement(Wn,{className:"recharts-label-list"},r.map((m,h)=>{var x=Ft(s)?t(m,h):Ot(m&&m.payload,s),g=Ft(c)?{}:{id:"".concat(c,"-").concat(h)};return v.createElement(Mr,K0({},Gt(m,!0),f,g,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Mr.parseViewBox(Ft(l)?m:NE(NE({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Ui.displayName="LabelList";function Jre(e,t){return e?e===!0?v.createElement(Ui,{key:"labelList-implicit",data:t}):v.isValidElement(e)||W2(e)?v.createElement(Ui,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Ui,K0({data:t},e,{key:"labelList-implicit"})):null:null}function eae(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,s=bf(r,Ui).map((c,d)=>v.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return s;var l=Jre(e.label,t);return[l,...s]}Ui.renderCallByParent=eae;function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(null,arguments)}var pR=e=>{var{cx:t,cy:n,r,className:s}=e,l=at("recharts-dot",s);return t===+t&&n===+n&&r===+r?v.createElement("circle",uw({},Ks(e),jj(e),{className:l,cx:t,cy:n,r})):null},xR=e=>e.graphicalItems.polarItems,tae=ye([Xt,kf],N2),X2=ye([xR,cn,tae],S2),nae=ye([X2],_2),Z2=ye([nae,f2],C2),rae=ye([Z2,cn,X2],A2),aae=ye([Z2,cn,X2],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var l,c=Ot(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),_E=()=>{},sae=ye([cn,S8,_E,aae,_E,ft,Xt],T2),gR=ye([cn,ft,Z2,rae,Cf,Xt,sae],P2),iae=ye([gR,cn,Gc],D2);ye([cn,gR,iae,Xt],L2);var lae={radiusAxis:{},angleAxis:{}},vR=Ur({name:"polarAxis",initialState:lae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qde,removeRadiusAxis:Kde,addAngleAxis:Gde,removeAngleAxis:Yde}=vR.actions,oae=vR.reducer;function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cae(e,t,n){return(t=uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fae=(e,t)=>t,Q2=ye([xR,fae],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),mae=[],J2=(e,t,n)=>(n==null?void 0:n.length)===0?mae:n,yR=ye([f2,Q2,J2],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(l=>kE(kE({},t.presentationProps),l.props))),s!=null)return s}}),hae=ye([yR,Q2,J2],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=Ot(r,t.nameKey,t.name),d;return n!=null&&(l=n[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Uc(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),pae=ye([yR,Q2,J2,wn],(e,t,n,r)=>{if(!(t==null||e==null))return ose({offset:r,pieSettings:t,displayedData:e,cells:n})}),fb={},AE;function xae(){return AE||(AE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(fb)),fb}var mb,EE;function gae(){return EE||(EE=1,mb=xae().isPlainObject),mb}var vae=gae();const yae=Ma(vae);function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(null,arguments)}var TE=(e,t,n,r,s)=>{var l=n-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+s),c+="L ".concat(e+n-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},bae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wae=e=>{var t=Fr(e,bae),n=v.useRef(),[r,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=at("recharts-trapezoid",h);return w?v.createElement(P0,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:g,animationEasing:x,isActive:w},S=>{var{upperWidth:_,lowerWidth:C,height:k,x:O,y:A}=S;return v.createElement(P0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:x},v.createElement("path",G0({},Gt(t,!0),{className:j,d:TE(O,A,_,C,k),ref:n})))}):v.createElement("g",null,v.createElement("path",G0({},Gt(t,!0),{className:j,d:TE(l,c,d,f,m)})))},jae=["option","shapeType","propTransformer","activeClassName","isActive"];function Nae(e,t){if(e==null)return{};var n,r,s=Sae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Sae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){_ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ae(e,t,n){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=kae(e,"string");return typeof t=="symbol"?t:t+""}function kae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aae(e,t){return Y0(Y0({},t),e)}function Eae(e,t){return e==="symbols"}function OE(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(nD,n);case"trapezoid":return v.createElement(wae,n);case"sector":return v.createElement(Fj,n);case"symbols":if(Eae(t))return v.createElement(eM,n);break;default:return null}}function Tae(e){return v.isValidElement(e)?e.props:e}function bR(e){var{option:t,shapeType:n,propTransformer:r=Aae,activeClassName:s="recharts-active-shape",isActive:l}=e,c=Nae(e,jae),d;if(v.isValidElement(t))d=v.cloneElement(t,Y0(Y0({},c),Tae(t)));else if(typeof t=="function")d=t(c);else if(yae(t)&&typeof t!="boolean"){var f=r(t,c);d=v.createElement(OE,{shapeType:n,elementProps:f})}else{var m=c;d=v.createElement(OE,{shapeType:n,elementProps:m})}return l?v.createElement(Wn,{className:s},d):d}var eN=(e,t)=>{var n=on();return(r,s)=>l=>{e==null||e(r,s,l),n(B8({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},tN=e=>{var t=on();return(n,r)=>s=>{e==null||e(n,r,s),t(jte())}},nN=(e,t)=>{var n=on();return(r,s)=>l=>{e==null||e(r,s,l),n(Nte({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function rN(e){var{fn:t,args:n}=e,r=on(),s=yr();return v.useEffect(()=>{if(!s){var l=t(n);return r(yte(l)),()=>{r(bte(l))}}},[t,n,r,s]),null}var wR=()=>{};function jR(e){var{legendPayload:t}=e,n=on(),r=yr();return v.useEffect(()=>r?wR:(n(GM(t)),()=>{n(YM(t))}),[n,r,t]),null}function Pae(e){var{legendPayload:t}=e,n=on(),r=ze(ft);return v.useEffect(()=>r!=="centric"&&r!=="radial"?wR:(n(GM(t)),()=>{n(YM(t))}),[n,r,t]),null}function aN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Wd(t)),r=v.useRef(e);return r.current!==e&&(n.current=Wd(t),r.current=e),n.current}var hb,Oae=()=>{var[e]=v.useState(()=>Wd("uid-"));return e},Mae=(hb=I9.useId)!==null&&hb!==void 0?hb:Oae;function Dae(e,t){var n=Mae();return t||(e?"".concat(e,"-").concat(n):n)}var Rae=v.createContext(void 0),sN=e=>{var{id:t,type:n,children:r}=e,s=Dae("recharts-".concat(n),t);return v.createElement(Rae.Provider,{value:s},r(s))},Lae={cartesianItems:[],polarItems:[]},NR=Ur({name:"graphicalItems",initialState:Lae,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,s=Ps(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var n=Ps(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ps(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:$ae,replaceCartesianGraphicalItem:Iae,removeCartesianGraphicalItem:zae,addPolarGraphicalItem:Bae,removePolarGraphicalItem:Uae}=NR.actions,Fae=NR.reducer;function SR(e){var t=on(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t($ae(e)):n.current!==e&&t(Iae({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(zae(n.current)),n.current=null)},[t]),null}function Vae(e){var t=on();return v.useEffect(()=>(t(Bae(e)),()=>{t(Uae(e))}),[t,e]),null}function Hae(){}var qae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ME={t:0},pb={t:1};function iN(e){var t=Fr(e,qae),{isActive:n,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=tD("JavascriptAnimate",t.animationManager),[x,g]=v.useState(n?ME:pb),b=v.useRef(null);return v.useEffect(()=>{n||g(pb)},[n]),v.useEffect(()=>{if(!n||!r)return Hae;var w=eD(ME,pb,QM(l),s,g,h.getTimeoutController()),j=()=>{b.current=w()};return h.start([f,c,j,s,d]),()=>{h.stop(),b.current&&b.current(),d()}},[n,r,s,l,c,f,d,h]),m(x.t)}var Kae=["onMouseEnter","onClick","onMouseLeave"],Gae=["id"],Yae=["id"];function lN(e,t){if(e==null)return{};var n,r,s=Wae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Wae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}function Jae(e){var t=v.useMemo(()=>bf(e.children,Es),[e.children]),n=ze(r=>hae(r,e.id,t));return n==null?null:v.createElement(Pae,{legendPayload:n})}function ese(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:Uc(d,t),hide:f,type:m,color:c,unit:""}}}var tse=(e,t)=>e>t?"start":e<t?"end":"middle",nse=(e,t,n)=>typeof t=="function"?t(e):sr(t,n,n*.8),rse=(e,t,n)=>{var{top:r,left:s,width:l,height:c}=t,d=RM(l,c),f=s+sr(e.cx,l,l/2),m=r+sr(e.cy,c,c/2),h=sr(e.innerRadius,d,0),x=nse(n,e.outerRadius,d),g=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:g}},ase=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},sse=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=at("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(Bj,qs({},t,{type:"linear",className:n}))},ise=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var s=at("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Yp,qs({},t,{alignmentBaseline:"middle",className:s}),r)};function lse(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=n;if(!r||!s||!t)return null;var d=Ks(n),f=Gt(s,!1),m=Gt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((g,b)=>{var w=(g.startAngle+g.endAngle)/2,j=xn(g.cx,g.cy,g.outerRadius+h,w),S=an(an(an(an({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:tse(j.x,g.cx)},j),_=an(an(an(an({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:b,points:[xn(g.cx,g.cy,g.outerRadius,w),j],key:"line"});return v.createElement(Wn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},l&&sse(l,_),ise(s,S,Ot(g,c)))});return v.createElement(Wn,{className:"recharts-pie-labels"},x)}function _R(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s,showLabels:l}=e,c=ze(Yi),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=lN(s,Kae),x=eN(d,s.dataKey),g=tN(m),b=nN(f,s.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=n&&String(j)===c,_=c?r:null,C=S?n:_,k=an(an({},w),{},{stroke:w.stroke,tabIndex:-1,[BM]:j,[UM]:s.dataKey});return v.createElement(Wn,qs({tabIndex:-1,className:"recharts-pie-sector"},xp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:g(w,j),onClick:b(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),v.createElement(bR,qs({option:C,isActive:S,shapeType:"sector"},k)))}),v.createElement(lse,{sectors:t,props:s,showLabels:l}))}function ose(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=n,g=Math.abs(n.minAngle),b=ase(d,f),w=Math.abs(b),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(E=>Ot(E,m,0)!==0).length,_=(w>=360?S:S-1)*j,C=w-S*g-_,k=r.reduce((E,L)=>{var M=Ot(L,m,0);return E+(De(M)?M:0)},0),O;if(k>0){var A;O=r.map((E,L)=>{var M=Ot(E,m,0),V=Ot(E,h,L),G=rse(n,l,E),H=(De(M)?M:0)/k,U,ne=an(an({},E),s&&s[L]&&s[L].props);L?U=A.endAngle+Pn(b)*j*(M!==0?1:0):U=d;var we=U+Pn(b)*((M!==0?g:0)+H*C),ae=(U+we)/2,D=(G.innerRadius+G.outerRadius)/2,K=[{name:V,value:M,payload:ne,dataKey:m,type:x}],q=xn(G.cx,G.cy,D,ae);return A=an(an(an(an({},n.presentationProps),{},{percent:H,cornerRadius:c,name:V,tooltipPayload:K,midAngle:ae,middleRadius:D,tooltipPosition:q},ne),G),{},{value:Ot(E,m),startAngle:U,endAngle:we,payload:ne,paddingAngle:Pn(b)*j}),A})}return O}function cse(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,g=aN(t,"recharts-pie-"),b=n.current,[w,j]=v.useState(!0),S=v.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),_=v.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return v.createElement(iN,{begin:l,duration:c,isActive:s,easing:d,onAnimationStart:_,onAnimationEnd:S,key:g},C=>{var k=[],O=r&&r[0],A=O.startAngle;return r.forEach((E,L)=>{var M=b&&b[L],V=L>0?qi(E,"paddingAngle",0):0;if(M){var G=oC(M.endAngle-M.startAngle,E.endAngle-E.startAngle),H=an(an({},E),{},{startAngle:A+V,endAngle:A+G(C)+V});k.push(H),A=H.endAngle}else{var{endAngle:U,startAngle:ne}=E,we=oC(0,U-ne),ae=we(C),D=an(an({},E),{},{startAngle:A+V,endAngle:A+ae+V});k.push(D),A=D.endAngle}}),n.current=k,v.createElement(Wn,null,v.createElement(_R,{sectors:k,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function use(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:s}=e,l=v.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?v.createElement(cse,{props:e,previousSectorsRef:l}):v.createElement(_R,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function dse(e){var{hide:t,className:n,rootTabIndex:r}=e,s=at("recharts-pie",n);return t?null:v.createElement(Wn,{tabIndex:r,className:s},v.createElement(use,e))}var fse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!eo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function mse(e){var{id:t}=e,n=lN(e,Gae),r=v.useMemo(()=>bf(e.children,Es),[e.children]),s=ze(l=>pae(l,t,r));return v.createElement(v.Fragment,null,v.createElement(rN,{fn:ese,args:an(an({},e),{},{sectors:s})}),v.createElement(dse,qs({},n,{sectors:s})))}function lf(e){var t=Fr(e,fse),{id:n}=t,r=lN(t,Yae),s=Ks(r);return v.createElement(sN,{id:n,type:"pie"},l=>v.createElement(v.Fragment,null,v.createElement(Vae,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s}),v.createElement(Jae,qs({},r,{id:l})),v.createElement(mse,qs({},r,{id:l})),r.children))}lf.displayName="Pie";var hse=ye([wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),pse=ye([hse,Gs,Ys],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),oN=()=>ze(pse),xse=()=>ze(cne);function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){gse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gse(e,t,n){return(t=vse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bse=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=LE(LE({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Gt(s,!1)),jj(s)),d;return v.isValidElement(s)?d=v.cloneElement(s,c):typeof s=="function"?d=s(c):d=v.createElement(pR,c),v.createElement(Wn,{className:"recharts-active-dot"},d)};function wse(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,l=ze(Yi),c=xse();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Ft(d)?null:bse({point:d,childIndex:Number(l),mainColor:n,dataKey:s,activeDot:r})}var jse="Invariant failed";function Nse(e,t){throw new Error(jse)}var Sse=["x","y"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){_se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _se(e,t,n){return(t=Cse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cse(e){var t=kse(e,"string");return typeof t=="symbol"?t:t+""}function kse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ase(e,t){if(e==null)return{};var n,r,s=Ese(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ese(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tse(e,t){var{x:n,y:r}=e,s=Ase(e,Sse),l="".concat(n),c=parseInt(l,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),x="".concat(t.width||s.width),g=parseInt(x,10);return ad(ad(ad(ad(ad({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function CR(e){return v.createElement(bR,dw({shapeType:"rectangle",propTransformer:Tse,activeClassName:"recharts-active-bar"},e))}var Pse=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(De(t))return t;var l=De(r)||Ft(r);return l?t(r,s):(l||Nse(),n)}},Ose={},kR=Ur({name:"errorBars",initialState:Ose,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:Wde,removeErrorBar:Xde}=kR.actions,Mse=kR.reducer,Dse=["children"];function Rse(e,t){if(e==null)return{};var n,r,s=Lse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Lse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $se={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ise=v.createContext($se);function AR(e){var{children:t}=e,n=Rse(e,Dse);return v.createElement(Ise.Provider,{value:n},t)}function cN(e,t){var n,r,s=ze(m=>Xs(m,e)),l=ze(m=>el(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Tr.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Pr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function ER(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=oN(),{needClipX:l,needClipY:c,needClip:d}=cN(t,n);if(!d)return null;var{x:f,y:m,width:h,height:x}=s;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var zse=["onMouseEnter","onMouseLeave","onClick"],Bse=["value","background","tooltipPosition"],Use=["id"],Fse=["onMouseEnter","onClick","onMouseLeave"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(null,arguments)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){Vse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vse(e,t,n){return(t=Hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(e,t){if(e==null)return{};var n,r,s=Kse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Kse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gse=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Uc(n,t),payload:e}]};function Yse(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:Uc(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function Wse(e){var t=ze(Yi),{data:n,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=W0(l,zse),h=eN(c,r),x=tN(d),g=nN(f,r);if(!s||n==null)return null;var b=Gt(s,!1);return v.createElement(v.Fragment,null,n.map((w,j)=>{var{value:S,background:_,tooltipPosition:C}=w,k=W0(w,Bse);if(!_)return null;var O=h(w,j),A=x(w,j),E=g(w,j),L=Hn(Hn(Hn(Hn(Hn({option:s,isActive:String(j)===t},k),{},{fill:"#eee"},_),b),xp(m,w,j)),{},{onMouseEnter:O,onMouseLeave:A,onClick:E,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return v.createElement(CR,Ac({key:"background-bar-".concat(j)},L))}))}function TR(e){var{data:t,props:n,showLabels:r}=e,s=Ks(n),{id:l}=s,c=W0(s,Use),{shape:d,dataKey:f,activeBar:m}=n,h=ze(Yi),x=ze(J8),{onMouseEnter:g,onClick:b,onMouseLeave:w}=n,j=W0(n,Fse),S=eN(g,f),_=tN(w),C=nN(b,f);return t?v.createElement(v.Fragment,null,t.map((k,O)=>{var A=m&&String(O)===h&&(x==null||f===x),E=A?m:d,L=Hn(Hn(Hn({},c),k),{},{isActive:A,option:E,index:O,dataKey:f});return v.createElement(Wn,Ac({className:"recharts-bar-rectangle"},xp(j,k,O),{onMouseEnter:S(k,O),onMouseLeave:_(k,O),onClick:C(k,O),key:"rectangle-".concat(k==null?void 0:k.x,"-").concat(k==null?void 0:k.y,"-").concat(k==null?void 0:k.value,"-").concat(O)}),v.createElement(CR,L))}),r&&Ui.renderCallByParent(n,t)):null}function Xse(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=n.current,g=aN(t,"recharts-bar-"),[b,w]=v.useState(!1),j=v.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(iN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:g},_=>{var C=_===1?r:r==null?void 0:r.map((k,O)=>{var A=x&&x[O];if(A)return Hn(Hn({},k),{},{x:_a(A.x,k.x,_),y:_a(A.y,k.y,_),width:_a(A.width,k.width,_),height:_a(A.height,k.height,_)});if(s==="horizontal"){var E=_a(0,k.height,_);return Hn(Hn({},k),{},{y:k.y+k.height-E,height:E})}var L=_a(0,k.width,_);return Hn(Hn({},k),{},{width:L})});return _>0&&(n.current=C??null),C==null?null:v.createElement(Wn,null,v.createElement(TR,{props:t,data:C,showLabels:!b}))})}function Zse(e){var{data:t,isAnimationActive:n}=e,r=v.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?v.createElement(Xse,{previousRectanglesRef:r,props:e}):v.createElement(TR,{props:e,data:t,showLabels:!0})}var PR=0,Qse=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ot(e,t)}};class Jse extends v.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=at("recharts-bar",s),x=m;return v.createElement(Wn,{className:h,id:m},d&&v.createElement("defs",null,v.createElement(ER,{clipPathId:x,xAxisId:l,yAxisId:c})),v.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},v.createElement(Wse,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),v.createElement(Zse,this.props)),this.props.children)}}var eie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!eo.isSsr,legendType:"rect",minPointSize:PR,xAxisId:0,yAxisId:0};function tie(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=cN(t,n),g=Tp(),b=yr(),w=bf(e.children,Es),j=ze(C=>Aie(C,t,n,b,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,_=j==null?void 0:j[0];return _==null||_.height==null||_.width==null?S=0:S=g==="vertical"?_.height/2:_.width/2,v.createElement(AR,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:Qse,errorBarOffset:S},v.createElement(Jse,Ac({},e,{layout:g,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function nie(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:g,cells:b}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=QW({numericAxis:w});return x.map((_,C)=>{var k,O,A,E,L,M;h?k=KW(h[C],j):(k=Ot(_,n),Array.isArray(k)||(k=[S,k]));var V=Pse(r,PR)(k[1],C);if(t==="horizontal"){var G,[H,U]=[d.scale(k[0]),d.scale(k[1])];O=Nk({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:_,index:C}),A=(G=U??H)!==null&&G!==void 0?G:void 0,E=s.size;var ne=H-U;if(L=$r(ne)?0:ne,M={x:O,y:g.top,width:E,height:g.height},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var we=Pn(L||V)*(Math.abs(V)-Math.abs(L));A-=we,L+=we}}else{var[ae,D]=[c.scale(k[0]),c.scale(k[1])];if(O=ae,A=Nk({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:_,index:C}),E=D-ae,L=s.size,M={x:g.left,y:A,width:g.width,height:L},Math.abs(V)>0&&Math.abs(E)<Math.abs(V)){var K=Pn(E||V)*(Math.abs(V)-Math.abs(E));E+=K}}if(O==null||A==null||E==null||L==null)return null;var q=Hn(Hn({},_),{},{x:O,y:A,width:E,height:L,value:h?k:k[1],payload:_,background:M,tooltipPosition:{x:O+E/2,y:A+L/2}},b&&b[C]&&b[C].props);return q}).filter(Boolean)}function Md(e){var t=Fr(e,eie),n=yr();return v.createElement(sN,{id:t.id,type:"bar"},r=>v.createElement(v.Fragment,null,v.createElement(jR,{legendPayload:Gse(t)}),v.createElement(rN,{fn:Yse,args:t}),v.createElement(SR,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:ZW(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(tie,Ac({},t,{id:r}))))}Md.displayName="Bar";function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iie=(e,t)=>t,lie=(e,t,n)=>n,oie=(e,t,n,r)=>r,cie=(e,t,n,r,s)=>s,Mf=ye([Fp,cie],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),uie=ye([Mf],e=>e==null?void 0:e.maxBarSize),die=(e,t,n,r,s,l)=>l,BE=(e,t,n)=>{var r=n??e;if(!Ft(r))return sr(r,t,0)},fie=ye([ft,Fp,iie,lie,oie],(e,t,n,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),mie=(e,t,n,r)=>{var s=ft(e);return s==="horizontal"?aw(e,"yAxis",n,r):aw(e,"xAxis",t,r)},hie=(e,t,n)=>{var r=ft(e);return r==="horizontal"?UA(e,"xAxis",t):UA(e,"yAxis",n)},pie=(e,t,n)=>{var r={},s=e.filter(Up),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),r),d=Object.entries(c).map(m=>{var[h,x]=m,g=x.map(w=>w.dataKey),b=BE(t,n,x[0].barSize);return{stackId:h,dataKeys:g,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(g=>g!=null),x=BE(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},xie=ye([fie,bee,hie],pie),gie=(e,t,n,r,s)=>{var l,c,d=Mf(e,t,n,r,s);if(d!=null){var f=ft(e),m=e8(e),{maxBarSize:h}=d,x=Ft(h)?m:h,g,b;return f==="horizontal"?(g=Gi(e,"xAxis",t,r),b=Ki(e,"xAxis",t,r)):(g=Gi(e,"yAxis",n,r),b=Ki(e,"yAxis",n,r)),(l=(c=Qd(g,b,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},OR=(e,t,n,r)=>{var s=ft(e),l,c;return s==="horizontal"?(l=Gi(e,"xAxis",t,r),c=Ki(e,"xAxis",t,r)):(l=Gi(e,"yAxis",n,r),c=Ki(e,"yAxis",n,r)),Qd(l,c)};function vie(e,t,n,r,s){var l=r.length;if(!(l<1)){var c=sr(e,n,0,!0),d,f=[];if(Br(r[0].barSize)){var m=!1,h=n/l,x=r.reduce((_,C)=>_+(C.barSize||0),0);x+=(l-1)*c,x>=n&&(x-=(l-1)*c,c=0),x>=n&&h>0&&(m=!0,h*=.9,x=l*h);var g=(n-x)/2>>0,b={offset:g-c,size:0};d=r.reduce((_,C)=>{var k,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(k=C.barSize)!==null&&k!==void 0?k:0}},A=[..._,O];return b=A[A.length-1].position,A},f)}else{var w=sr(t,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var j=(n-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=Br(s)?Math.min(j,s):j;d=r.reduce((_,C,k)=>[..._,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(j+c)*k+(j-S)/2,size:S}}],f)}return d}}var yie=(e,t,n,r,s,l,c)=>{var d=Ft(c)?t:c,f=vie(n,r,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>hh(hh({},m),{},{position:hh(hh({},m.position),{},{offset:m.position.offset-s/2})}))),f},bie=ye([xie,e8,yee,t8,gie,OR,uie],yie),wie=(e,t,n,r)=>Gi(e,"xAxis",t,r),jie=(e,t,n,r)=>Gi(e,"yAxis",n,r),Nie=(e,t,n,r)=>Ki(e,"xAxis",t,r),Sie=(e,t,n,r)=>Ki(e,"yAxis",n,r),_ie=ye([bie,Mf],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Cie=(e,t)=>{var n=w2(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===n)}}}},kie=ye([mie,Mf],Cie),Aie=ye([wn,wie,jie,Nie,Sie,_ie,ft,$p,OR,kie,Mf,die],(e,t,n,r,s,l,c,d,f,m,h,x)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||r==null||s==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=g==null?void 0:g.slice(b,w+1),S!=null)return nie({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:x})}}),MR=e=>{var{chartData:t}=e,n=on(),r=yr();return v.useEffect(()=>r?()=>{}:(n(ZA(t)),()=>{n(ZA(void 0))}),[t,n,r]),null},UE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DR=Ur({name:"brush",initialState:UE,reducers:{setBrushSettings(e,t){return t.payload==null?UE:t.payload}}}),{setBrushSettings:Zde}=DR.actions,Eie=DR.reducer;function Tie(e,t,n){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uN{static create(t){return new uN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}Tie(uN,"EPS",1e-4);function Mie(e){return(e%180+180)%180}var Die=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Mie(s),c=l*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Rie={dots:[],areas:[],lines:[]},RR=Ur({name:"referenceElements",initialState:Rie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ps(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ps(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ps(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Qde,removeDot:Jde,addArea:efe,removeArea:tfe,addLine:nfe,removeLine:rfe}=RR.actions,Lie=RR.reducer,$ie=v.createContext(void 0),Iie=e=>{var{children:t}=e,[n]=v.useState("".concat(Wd("recharts"),"-clip")),r=oN();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return v.createElement($ie.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function xb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function LR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function zie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Die(r,n)}function Bie(e,t,n){var r=n==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function X0(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function Uie(e,t){return LR(e,t+1)}function Fie(e,t,n,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:LR(r,m)};var j=f,S,_=()=>(S===void 0&&(S=n(w,j)),S),C=w.coordinate,k=f===0||X0(e,C,_,h,d);k||(f=0,h=c,m+=1),k&&(h=C+e*(_()/2+s),f+=m)},g;m<=l.length;)if(g=x(),g)return g.v;return[]}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kie(e,t,n,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(g){var b=l[g],w,j=()=>(w===void 0&&(w=n(b,g)),w);if(g===c-1){var S=e*(b.coordinate+e*j()/2-f);l[g]=b=Vn(Vn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else l[g]=b=Vn(Vn({},b),{},{tickCoord:b.coordinate});var _=X0(e,b.tickCoord,j,d,f);_&&(f=b.tickCoord-e*(j()/2+s),l[g]=Vn(Vn({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function Gie(e,t,n,r,s,l){var c=(r||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=r[d-1],x=n(h,d-1),g=e*(h.coordinate+e*x/2-m);c[d-1]=h=Vn(Vn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var b=X0(e,h.tickCoord,()=>x,f,m);b&&(m=h.tickCoord-e*(x/2+s),c[d-1]=Vn(Vn({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(C){var k=c[C],O,A=()=>(O===void 0&&(O=n(k,C)),O);if(C===0){var E=e*(k.coordinate-e*A()/2-f);c[C]=k=Vn(Vn({},k),{},{tickCoord:E<0?k.coordinate-E*e:k.coordinate})}else c[C]=k=Vn(Vn({},k),{},{tickCoord:k.coordinate});var L=X0(e,k.tickCoord,A,f,m);L&&(f=k.tickCoord+e*(A()/2+s),c[C]=Vn(Vn({},k),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function dN(e,t,n){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!s||!s.length||!r)return[];if(De(f)||eo.isSsr){var g;return(g=Uie(s,De(f)?f:0))!==null&&g!==void 0?g:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?Od(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(k,O)=>{var A=typeof m=="function"?m(k.value,O):k.value;return w==="width"?zie(Od(A,{fontSize:t,letterSpacing:n}),j,x):Od(A,{fontSize:t,letterSpacing:n})[w]},_=s.length>=2?Pn(s[1].coordinate-s[0].coordinate):1,C=Bie(l,_,w);return f==="equidistantPreserveStart"?Fie(_,C,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=Gie(_,C,S,s,c,f==="preserveStartEnd"):b=Kie(_,C,S,s,c),b.filter(k=>k.isShow))}var Yie=["viewBox"],Wie=["viewBox"];function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(null,arguments)}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){fN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HE(e,t){if(e==null)return{};var n,r,s=Xie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Xie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fN(e,t,n){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tl extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,s=HE(t,Yie),l=this.props,{viewBox:c}=l,d=HE(l,Wie);return!xb(r,c)||!xb(s,d)||!xb(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,g,b,w,j,S=f?-1:1,_=t.tickSize||d,C=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,b=r+ +!f*l,g=b-S*_,j=g-S*m,w=C;break;case"left":g=b=t.coordinate,x=n+ +!f*s,h=x-S*_,w=h-S*m,j=C;break;case"right":g=b=t.coordinate,x=n+ +f*s,h=x+S*_,w=h+S*m,j=C;break;default:h=x=t.coordinate,b=r+ +f*l,g=b+S*_,j=g+S*m,w=C;break}return{line:{x1:h,y1:g,x2:x,y2:b},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=bn(bn(bn({},Gt(this.props,!1)),Gt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=bn(bn({},f),{},{x1:t,y1:n+m*s,x2:t+r,y2:n+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=bn(bn({},f),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+s})}return v.createElement("line",sc({},f,{className:at("recharts-cartesian-axis-line",qi(d,"className"))}))}static renderTickItem(t,n,r){var s,l=at(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,bn(bn({},n),{},{className:l}));else if(typeof t=="function")s=t(bn(bn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=at(c,t.className)),s=v.createElement(Yp,sc({},n,{className:c}),r)}return s}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=dN(bn(bn({},this.props),{},{ticks:r}),t,n),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Ks(this.props),w=Gt(c,!1),j=bn(bn({},b),{},{fill:"none"},Gt(s,!1)),S=h.map((_,C)=>{var{line:k,tick:O}=this.getTickLineCoord(_),A=bn(bn(bn(bn({textAnchor:x,verticalAnchor:g},b),{},{stroke:"none",fill:l},w),O),{},{index:C,payload:_,visibleTicksCount:h.length,tickFormatter:d,padding:m});return v.createElement(Wn,sc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},xp(this.props,_,C)),s&&v.createElement("line",sc({},j,k,{className:at("recharts-cartesian-axis-tick-line",qi(s,"className"))})),c&&tl.renderTickItem(c,A,"".concat(typeof d=="function"?d(_.value,C):_.value).concat(f||"")))});return S.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:r,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:v.createElement(Wn,{className:at("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Mr.renderCallByParent(this.props))}}fN(tl,"displayName","CartesianAxis");fN(tl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jie=["x1","y1","x2","y2","key"],ele=["offset"],tle=["xAxisId","yAxisId"],nle=["xAxisId","yAxisId"];function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){rle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rle(e,t,n){return(t=ale(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ale(e){var t=sle(e,"string");return typeof t=="symbol"?t:t+""}function sle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(null,arguments)}function Z0(e,t){if(e==null)return{};var n,r,s=ile(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ile(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:l,height:c,ry:d}=e;return v.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $R(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:l,y2:c,key:d}=t,f=Z0(t,Jie),m=Ks(f),{offset:h}=m,x=Z0(m,ele);n=v.createElement("line",Bl({},x,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function ole(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Z0(e,tle),f=s.map((m,h)=>{var x=qn(qn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return $R(r,x)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function cle(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Z0(e,nle),f=s.map((m,h)=>{var x=qn(qn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return $R(r,x)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ule(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:x,x:r,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function dle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%n.length;return v.createElement("rect",{key:"react-".concat(g),x,y:l,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var fle=(e,t)=>{var{xAxis:n,width:r,height:s,offset:l}=e;return $M(dN(qn(qn(qn({},tl.defaultProps),n),{},{ticks:IM(n),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},mle=(e,t)=>{var{yAxis:n,width:r,height:s,offset:l}=e;return $M(dN(qn(qn(qn({},tl.defaultProps),n),{},{ticks:IM(n),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},hle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Fi(e){var t=HM(),n=qM(),r=VM(),s=qn(qn({},Fr(e,hle)),{},{x:De(e.x)?e.x:r.left,y:De(e.y)?e.y:r.top,width:De(e.width)?e.width:r.width,height:De(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:g,verticalValues:b}=s,w=yr(),j=ze(V=>FA(V,"xAxis",l,w)),S=ze(V=>FA(V,"yAxis",c,w));if(!De(m)||m<=0||!De(h)||h<=0||!De(d)||d!==+d||!De(f)||f!==+f)return null;var _=s.verticalCoordinatesGenerator||fle,C=s.horizontalCoordinatesGenerator||mle,{horizontalPoints:k,verticalPoints:O}=s;if((!k||!k.length)&&typeof C=="function"){var A=g&&g.length,E=C({yAxis:S?qn(qn({},S),{},{ticks:A?g:S.ticks}):void 0,width:t,height:n,offset:r},A?!0:x);Pd(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(k=E)}if((!O||!O.length)&&typeof _=="function"){var L=b&&b.length,M=_({xAxis:j?qn(qn({},j),{},{ticks:L?b:j.ticks}):void 0,width:t,height:n,offset:r},L?!0:x);Pd(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(lle,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(ule,Bl({},s,{horizontalPoints:k})),v.createElement(dle,Bl({},s,{verticalPoints:O})),v.createElement(ole,Bl({},s,{offset:r,horizontalPoints:k,xAxis:j,yAxis:S})),v.createElement(cle,Bl({},s,{offset:r,verticalPoints:O,xAxis:j,yAxis:S})))}Fi.displayName="CartesianGrid";var IR=(e,t,n,r)=>Gi(e,"xAxis",t,r),zR=(e,t,n,r)=>Ki(e,"xAxis",t,r),BR=(e,t,n,r)=>Gi(e,"yAxis",n,r),UR=(e,t,n,r)=>Ki(e,"yAxis",n,r),ple=ye([ft,IR,BR,zR,UR],(e,t,n,r,s)=>Xi(e,"xAxis")?Qd(t,r,!1):Qd(n,s,!1)),xle=(e,t,n,r,s)=>s;function gle(e){return e.type==="line"}var vle=ye([Fp,xle],(e,t)=>e.filter(gle).find(n=>n.id===t)),yle=ye([ft,IR,BR,zR,UR,vle,ple,$p],(e,t,n,r,s,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||c==null)){var{dataKey:x,data:g}=l,b;if(g!=null&&g.length>0?b=g:b=f==null?void 0:f.slice(m,h+1),b!=null)return Ble({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:c,displayedData:b})}}),ble=["id"],wle=["type","layout","connectNulls","needClip"],jle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){Nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nle(e,t,n){return(t=Sle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sle(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mN(e,t){if(e==null)return{};var n,r,s=Cle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Cle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}var kle=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Uc(n,t),payload:e}]};function Ale(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Uc(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var FR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ele(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var Tle=(e,t,n)=>{var r=n.reduce((x,g)=>x+g);if(!r)return FR(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>l){d=[...n.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[...Ele(n,s),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function Ple(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=at("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(pR,Ql({},t,{className:r}))}return n}function Ole(e,t){return e==null?!1:t?!0:e.length===1}function Mle(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:l,needClip:c}=r;if(!Ole(n,s))return null;var{id:d}=r,f=mN(r,ble),m=RO(s),h=Ks(f),x=Gt(s,!0),g=n.map((w,j)=>{var S=Ca(Ca(Ca({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:n});return Ple(s,S)}),b={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return v.createElement(Wn,Ql({className:"recharts-line-dots",key:"dots"},b),g)}function fw(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=mN(l,wle),g=Ca(Ca({},Gt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:f,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(Bj,Ql({},g,{pathRef:n})),v.createElement(Mle,{points:r,clipPathId:t,props:l}),c&&Ui.renderCallByParent(l,r))}function Dle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rle(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:g,width:b,height:w,onAnimationEnd:j,onAnimationStart:S}=n,_=s.current,C=aN(n,"recharts-line-"),[k,O]=v.useState(!1),A=v.useCallback(()=>{typeof j=="function"&&j(),O(!1)},[j]),E=v.useCallback(()=>{typeof S=="function"&&S(),O(!0)},[S]),L=Dle(r.current),M=l.current;return v.createElement(iN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:A,onAnimationStart:E,key:C},V=>{var G=_a(M,L+M,V),H=Math.min(G,L),U;if(d){var ne="".concat(d).split(/[,\s]+/gim).map(D=>parseFloat(D));U=Tle(H,L,ne)}else U=FR(L,H);if(_){var we=_.length/c.length,ae=V===1?c:c.map((D,K)=>{var q=Math.floor(K*we);if(_[q]){var F=_[q];return Ca(Ca({},D),{},{x:_a(F.x,D.x,V),y:_a(F.y,D.y,V)})}return g?Ca(Ca({},D),{},{x:_a(b*2,D.x,V),y:_a(w/2,D.y,V)}):Ca(Ca({},D),{},{x:D.x,y:D.y})});return s.current=ae,v.createElement(fw,{props:n,points:ae,clipPathId:t,pathRef:r,showLabels:!k,strokeDasharray:U})}return V>0&&L>0&&(s.current=c,l.current=H),v.createElement(fw,{props:n,points:c,clipPathId:t,pathRef:r,showLabels:!k,strokeDasharray:U})})}function Lle(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:s}=n,l=v.useRef(null),c=v.useRef(0),d=v.useRef(null),f=l.current;return s&&r&&r.length&&f!==r?v.createElement(Rle,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):v.createElement(fw,{props:n,points:r,clipPathId:t,pathRef:d,showLabels:!0})}var $le=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ot(e.payload,t)});class Ile extends v.Component{render(){var t,{hide:n,dot:r,points:s,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:g,needClip:b}=this.props;if(n)return null;var w=at("recharts-line",l),j=g,{r:S=3,strokeWidth:_=2}=(t=Gt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=RO(r),k=S*2+_;return v.createElement(v.Fragment,null,v.createElement(Wn,{className:w},b&&v.createElement("defs",null,v.createElement(ER,{clipPathId:j,xAxisId:c,yAxisId:d}),!C&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:m-k/2,y:f-k/2,width:h+k,height:x+k}))),v.createElement(Lle,{props:this.props,clipPathId:j}),v.createElement(AR,{xAxisId:c,yAxisId:d,data:s,dataPointFormatter:$le,errorBarOffset:0},this.props.children)),v.createElement(wse,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var VR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!eo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function zle(e){var t=Fr(e,VR),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:g,xAxisId:b,yAxisId:w,id:j}=t,S=mN(t,jle),{needClip:_}=cN(b,w),C=oN(),k=Tp(),O=yr(),A=ze(G=>yle(G,b,w,O,j));if(k!=="horizontal"&&k!=="vertical"||A==null||C==null)return null;var{height:E,width:L,x:M,y:V}=C;return v.createElement(Ile,Ql({},S,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:g,xAxisId:b,yAxisId:w,points:A,layout:k,height:E,width:L,left:M,top:V,needClip:_}))}function Ble(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=Ot(m,c);if(t==="horizontal"){var g=jk({axis:n,ticks:s,bandSize:d,entry:m,index:h}),b=Ft(x)?null:r.scale(x);return{x:g,y:b,value:x,payload:m}}var w=Ft(x)?null:n.scale(x),j=jk({axis:r,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function Wp(e){var t=Fr(e,VR),n=yr();return v.createElement(sN,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(jR,{legendPayload:kle(t)}),v.createElement(rN,{fn:Ale,args:t}),v.createElement(SR,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(zle,Ql({},t,{id:r}))))}Wp.displayName="Line";function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){Ule(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ule(e,t,n){return(t=Fle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hle={xAxis:{},yAxis:{},zAxis:{}},HR=Ur({name:"cartesianAxis",initialState:Hle,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=YE(YE({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:qle,removeXAxis:Kle,addYAxis:Gle,removeYAxis:Yle,addZAxis:afe,removeZAxis:sfe,updateYAxisWidth:Wle}=HR.actions,Xle=HR.reducer,Zle=["children"],Qle=["dangerouslySetInnerHTML","ticks"];function qR(e,t,n){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jle(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function KR(e,t){if(e==null)return{};var n,r,s=toe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function toe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function noe(e){var t=on(),n=v.useMemo(()=>{var{children:l}=e,c=KR(e,Zle);return c},[e]),r=ze(l=>Xs(l,n.id)),s=n===r;return v.useEffect(()=>(t(qle(n)),()=>{t(Kle(n))}),[n,t]),s?e.children:null}var roe=e=>{var{xAxisId:t,className:n}=e,r=ze(FM),s=yr(),l="xAxis",c=ze(b=>Yc(b,l,t,s)),d=ze(b=>D8(b,l,t,s)),f=ze(b=>T8(b,t)),m=ze(b=>ute(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,g=KR(e,Qle);return v.createElement(tl,mw({},g,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:at("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d}))},aoe=e=>{var t,n,r,s,l;return v.createElement(noe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},v.createElement(roe,e))};class Ms extends v.Component{render(){return v.createElement(aoe,this.props)}}qR(Ms,"displayName","XAxis");qR(Ms,"defaultProps",{allowDataOverflow:Tr.allowDataOverflow,allowDecimals:Tr.allowDecimals,allowDuplicatedCategory:Tr.allowDuplicatedCategory,height:Tr.height,hide:!1,mirror:Tr.mirror,orientation:Tr.orientation,padding:Tr.padding,reversed:Tr.reversed,scale:Tr.scale,tickCount:Tr.tickCount,type:Tr.type,xAxisId:0});var soe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(n?r:0);return Math.round(m)}return 0},ioe=["dangerouslySetInnerHTML","ticks"];function GR(e,t,n){return(t=loe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function loe(e){var t=ooe(e,"string");return typeof t=="symbol"?t:t+""}function ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function coe(e,t){if(e==null)return{};var n,r,s=uoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function uoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function doe(e){var t=on();return v.useEffect(()=>(t(Gle(e)),()=>{t(Yle(e))}),[e,t]),null}var foe=e=>{var t,{yAxisId:n,className:r,width:s,label:l}=e,c=v.useRef(null),d=v.useRef(null),f=ze(FM),m=yr(),h=on(),x="yAxis",g=ze(k=>Yc(k,x,n,m)),b=ze(k=>P8(k,n)),w=ze(k=>dte(k,n)),j=ze(k=>D8(k,x,n,m));if(v.useLayoutEffect(()=>{var k;if(!(s!=="auto"||!b||W2(l)||v.isValidElement(l))){var O=c.current,A=O==null||(k=O.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:E,tickMargin:L}=O.props,M=soe({ticks:A,label:d.current,labelGapWithTick:5,tickSize:E,tickMargin:L});Math.round(b.width)!==Math.round(M)&&h(Wle({id:n,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,l,n,s]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_}=e,C=coe(e,ioe);return v.createElement(tl,hw({},C,{ref:c,labelRef:d,scale:g,x:w.x,y:w.y,width:b.width,height:b.height,className:at("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:j}))},moe=e=>{var t,n,r,s,l;return v.createElement(v.Fragment,null,v.createElement(doe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),v.createElement(foe,e))},hoe={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,hide:!1,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tickCount:Pr.tickCount,type:Pr.type,width:Pr.width,yAxisId:0};class Ds extends v.Component{render(){return v.createElement(moe,this.props)}}GR(Ds,"displayName","YAxis");GR(Ds,"defaultProps",hoe);var gb={exports:{}},vb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function poe(){if(WE)return vb;WE=1;var e=Oc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return vb.useSyncExternalStoreWithSelector=function(f,m,h,x,g){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(A){if(!_){if(_=!0,C=A,A=x(A),g!==void 0&&w.hasValue){var E=w.value;if(g(E,A))return k=E}return k=A}if(E=k,n(C,A))return E;var L=x(A);return g!==void 0&&g(E,L)?(C=A,E):(C=A,k=L)}var _=!1,C,k,O=h===void 0?null:h;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,h,x,g]);var j=r(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},vb}var XE;function xoe(){return XE||(XE=1,gb.exports=poe()),gb.exports}xoe();function goe(e){e()}function voe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){goe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var ZE={notify(){},get:()=>[]};function yoe(e,t){let n,r=ZE,s=0,l=!1;function c(j){h();const S=r.subscribe(j);let _=!1;return()=>{_||(_=!0,S(),x())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,n||(n=e.subscribe(f),r=voe())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=ZE)}function g(){l||(l=!0,h())}function b(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return w}var boe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",woe=boe(),joe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Noe=joe(),Soe=()=>woe||Noe?v.useLayoutEffect:v.useEffect,_oe=Soe(),yb=Symbol.for("react-redux-context"),bb=typeof globalThis<"u"?globalThis:{};function Coe(){if(!v.createContext)return{};const e=bb[yb]??(bb[yb]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var koe=Coe();function Aoe(e){const{children:t,context:n,serverState:r,store:s}=e,l=v.useMemo(()=>{const f=yoe(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),c=v.useMemo(()=>s.getState(),[s]);_oe(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||koe;return v.createElement(d.Provider,{value:l},t)}var Eoe=Aoe,Toe=(e,t)=>t,hN=ye([Toe,ft,l8,Nn,W8,Zs,xne,wn],wne),pN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},YR=fa("mouseClick"),WR=wf();WR.startListening({actionCreator:YR,effect:(e,t)=>{var n=e.payload,r=hN(t.getState(),pN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Ste({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var pw=fa("mouseMove"),XR=wf();XR.startListening({actionCreator:pw,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=z2(r,r.tooltip.settings.shared),l=hN(r,pN(n));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(F8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(U8()))}});function Poe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var QE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ZR=Ur({name:"rootProps",initialState:QE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:QE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Ooe=ZR.reducer,{updateOptions:Moe}=ZR.actions,QR=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Doe}=QR.actions,Roe=QR.reducer,JR=fa("keyDown"),eL=fa("focus"),xN=wf();xN.startListening({actionCreator:JR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(B2(s,Xc(n))),d=Zs(n);if(l==="Enter"){var f=q0(n,"axis","hover",String(s.index));t.dispatch(iw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=pte(n),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,g=c+x*h;if(!(d==null||g>=d.length||g<0)){var b=q0(n,"axis","hover",String(g));t.dispatch(iw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});xN.startListening({actionCreator:eL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var l="0",c=q0(n,"axis","hover",String(l));t.dispatch(iw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ra=fa("externalEvent"),tL=wf();tL.startListening({actionCreator:ra,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:ine(n),activeDataKey:J8(n),activeIndex:Yi(n),activeLabel:Q8(n),activeTooltipIndex:Yi(n),isTooltipActive:lne(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Loe=ye([Wc],e=>e.tooltipItemPayloads),$oe=ye([Loe,Pf,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,n);return c}}}),nL=fa("touchMove"),rL=wf();rL.startListening({actionCreator:nL,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=z2(r,r.tooltip.settings.shared);if(s==="axis"){var l=hN(r,pN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(F8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(BM),h=(c=f.getAttribute(UM))!==null&&c!==void 0?c:void 0,x=$oe(t.getState(),m,h);t.dispatch(B8({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var Ioe=fM({brush:Eie,cartesianAxis:Xle,chartData:$ne,errorBars:Mse,graphicalItems:Fae,layout:TW,legend:hX,options:One,polarAxis:oae,polarOptions:Roe,referenceElements:Lie,rootProps:Ooe,tooltip:_te}),zoe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tW({reducer:Ioe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([WR.middleware,XR.middleware,xN.middleware,tL.middleware,rL.middleware]),devTools:{serialize:{replacer:Poe},name:"recharts-".concat(n)}})};function aL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=yr(),l=v.useRef(null);if(s)return n;l.current==null&&(l.current=zoe(t,r));var c=Pj;return v.createElement(Eoe,{context:c,store:l.current},n)}function sL(e){var{layout:t,width:n,height:r,margin:s}=e,l=on(),c=yr();return v.useEffect(()=>{c||(l(kW(t)),l(AW({width:n,height:r})),l(CW(s)))},[l,c,t,n,r,s]),null}function iL(e){var t=on();return v.useEffect(()=>{t(Moe(e))},[t,e]),null}var Boe=["children"];function Uoe(e,t){if(e==null)return{};var n,r,s=Foe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Foe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}var Voe={width:"100%",height:"100%"},Hoe=v.forwardRef((e,t)=>{var n=HM(),r=qM(),s=WM();if(!Nc(n)||!Nc(r))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,v.createElement(LO,Q0({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:r,style:Voe,ref:t}),l)}),qoe=e=>{var{children:t}=e,n=ze(Ep);if(!n)return null;var{width:r,height:s,y:l,x:c}=n;return v.createElement(LO,{width:r,height:s,x:c,y:l},t)},JE=v.forwardRef((e,t)=>{var{children:n}=e,r=Uoe(e,Boe),s=yr();return s?v.createElement(qoe,null,n):v.createElement(Hoe,Q0({ref:t},r),n)});function Koe(){var e=on(),[t,n]=v.useState(null),r=ze(sX);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Br(l)&&l!==r&&e(EW(l))}},[t,e,r]),n}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Goe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){Yoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yoe(e,t,n){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Woe(e){var t=Xoe(e,"string");return typeof t=="symbol"?t:t+""}function Xoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zoe=v.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:j,style:S,width:_}=e,C=on(),[k,O]=v.useState(null),[A,E]=v.useState(null);Bne();var L=Koe(),M=v.useCallback(I=>{L(I),typeof t=="function"&&t(I),O(I),E(I)},[L,t,O,E]),V=v.useCallback(I=>{C(YR(I)),C(ra({handler:l,reactEvent:I}))},[C,l]),G=v.useCallback(I=>{C(pw(I)),C(ra({handler:m,reactEvent:I}))},[C,m]),H=v.useCallback(I=>{C(U8()),C(ra({handler:h,reactEvent:I}))},[C,h]),U=v.useCallback(I=>{C(pw(I)),C(ra({handler:x,reactEvent:I}))},[C,x]),ne=v.useCallback(()=>{C(eL())},[C]),we=v.useCallback(I=>{C(JR(I.key))},[C]),ae=v.useCallback(I=>{C(ra({handler:c,reactEvent:I}))},[C,c]),D=v.useCallback(I=>{C(ra({handler:d,reactEvent:I}))},[C,d]),K=v.useCallback(I=>{C(ra({handler:f,reactEvent:I}))},[C,f]),q=v.useCallback(I=>{C(ra({handler:g,reactEvent:I}))},[C,g]),F=v.useCallback(I=>{C(ra({handler:j,reactEvent:I}))},[C,j]),T=v.useCallback(I=>{C(nL(I)),C(ra({handler:w,reactEvent:I}))},[C,w]),R=v.useCallback(I=>{C(ra({handler:b,reactEvent:I}))},[C,b]);return v.createElement(sR.Provider,{value:k},v.createElement(ZK.Provider,{value:A},v.createElement("div",{className:at("recharts-wrapper",r),style:Goe({position:"relative",cursor:"default",width:_,height:s},S),onClick:V,onContextMenu:ae,onDoubleClick:D,onFocus:ne,onKeyDown:we,onMouseDown:K,onMouseEnter:G,onMouseLeave:H,onMouseMove:U,onMouseUp:q,onTouchEnd:R,onTouchMove:T,onTouchStart:F,ref:M},n)))}),Qoe=["children","className","width","height","style","compact","title","desc"];function Joe(e,t){if(e==null)return{};var n,r,s=ece(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ece(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lL=v.forwardRef((e,t)=>{var{children:n,className:r,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=Joe(e,Qoe),x=Ks(h);return d?v.createElement(JE,{otherAttributes:x,title:f,desc:m},n):v.createElement(Zoe,{className:r,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(JE,{otherAttributes:x,title:f,desc:m,ref:t},v.createElement(Iie,null,n)))}),tce=["width","height"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function nce(e,t){if(e==null)return{};var n,r,s=rce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ace={top:5,right:5,bottom:5,left:5},sce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ace,reverseStackOrder:!1,syncMethod:"index"},oL=v.forwardRef(function(t,n){var r,s=Fr(t.categoricalChartProps,sce),{width:l,height:c}=s,d=nce(s,tce);if(!Nc(l)||!Nc(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:g}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return v.createElement(aL,{preloadedState:{options:b},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:f},v.createElement(MR,{chartData:g.data}),v.createElement(sL,{width:l,height:c,layout:s.layout,margin:s.margin}),v.createElement(iL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(lL,xw({},d,{width:l,height:c,ref:n})))}),ice=["axis"],gN=v.forwardRef((e,t)=>v.createElement(oL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ice,tooltipPayloadSearcher:Y2,categoricalChartProps:e,ref:t})),lce=["axis","item"],e0=v.forwardRef((e,t)=>v.createElement(oL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lce,tooltipPayloadSearcher:Y2,categoricalChartProps:e,ref:t}));function oce(e){var t=on();return v.useEffect(()=>{t(Doe(e))},[t,e]),null}var cce=["width","height","layout"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(null,arguments)}function uce(e,t){if(e==null)return{};var n,r,s=dce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fce={top:5,right:5,bottom:5,left:5},mce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},hce=v.forwardRef(function(t,n){var r,s=Fr(t.categoricalChartProps,mce),{width:l,height:c,layout:d}=s,f=uce(s,cce);if(!Nc(l)||!Nc(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(aL,{preloadedState:{options:b},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:m},v.createElement(MR,{chartData:s.data}),v.createElement(sL,{width:l,height:c,layout:d,margin:s.margin}),v.createElement(iL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(oce,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(lL,gw({width:l,height:c},f,{ref:n})))}),pce=["item"],xce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},J0=v.forwardRef((e,t)=>{var n=Fr(e,xce);return v.createElement(hce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pce,tooltipPayloadSearcher:Y2,categoricalChartProps:n,ref:t})});function gce(){const[e,t]=v.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,r]=v.useState(!0),[s,l]=v.useState(""),c="https://aisdr-dbt.ddns.net",{width:d}=vce(),f=(d||0)>=1024,m=!f;v.useEffect(()=>{let j=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),_=`${c}/api/statistics`,C=await fetch(_,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!C.ok){const O=await C.text();throw new Error(`HTTP ${C.status}${O?`  ${O}`:""}`)}const k=await C.json();if(!j)return;t({leads:Number((k==null?void 0:k.leads)??0),files:Number((k==null?void 0:k.files)??0),assistants:Number((k==null?void 0:k.assistants)??0),phone_numbers:Number((k==null?void 0:k.phone_numbers)??0),knowledge_base:Number((k==null?void 0:k.knowledge_base)??0)})}catch(S){if(!j)return;const _=S&&S.message||"Failed to load stats",C=_.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(_+C)}finally{j&&r(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const _=Math.max(0,Number(j)||0),C=Array.from({length:12},(k,O)=>{const A=O/11,E=Math.sin(A*Math.PI)*.4,L=(Math.random()-.5)*.12,M=Math.max(0,Math.round(_*(.6+E+L)));return{label:`P${O+1}`,value:M}});return C.length&&(C[C.length-1].value=_),C},g=v.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),b=v.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=v.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:tr,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:T6,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:E6,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:ut,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:jd,series:x(e.knowledge_base),color:h.blue}],[e]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&a.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),a.jsx(yce,{}),a.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[a.jsx(ge.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),a.jsx(ge.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),a.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[a.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>a.jsx(wce,{...j,loading:n},j.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx(wb,{title:"Leads Trend (Synthetic)",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(Ga,{children:a.jsxs(gN,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ms,{dataKey:"label",tick:{fontSize:12}}),a.jsx(Ds,{tick:{fontSize:12}}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsx(Wp,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),a.jsx(wb,{title:"Overview by Metric",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(Ga,{children:a.jsxs(e0,{data:g,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),a.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ms,{dataKey:"name",tick:{fontSize:12},hide:m}),a.jsx(Ds,{tick:{fontSize:12}}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsx(Md,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),a.jsx(wb,{title:"Share by Metric",className:"lg:col-span-2",children:a.jsx("div",{className:"h-80 w-full",children:a.jsx(Ga,{children:a.jsx(Cce,{data:b,mode:f?"desktop":"compact"})})})})]}),a.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function vce(){const[e,t]=v.useState({width:null,height:null});return v.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function yce(){return a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),a.jsx(ge.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function wb({title:e,children:t,className:n=""}){return a.jsxs(ge.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[a.jsx(bce,{}),a.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function bce(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function wce({label:e,value:t,icon:n,series:r,color:s,loading:l}){const c=yc(0),d=yc(0),f=m0(d,[-50,50],[8,-8]),m=m0(c,[-50,50],[-8,8]),h=v.useRef(null);return a.jsxs(ge.div,{ref:h,onMouseMove:x=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(c.set(x.clientX-g.left-g.width/2),d.set(x.clientY-g.top-g.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6",style:{color:s}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?a.jsx(Nce,{}):a.jsx(jce,{value:t})}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),a.jsx("div",{className:"mt-3 h-20",children:l?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(Ga,{children:a.jsxs(gN,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.12}),a.jsx(Ms,{dataKey:"label",hide:!0}),a.jsx(Ds,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsx(Wp,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function jce({value:e,duration:t=800}){const[n,r]=v.useState(0);return v.useEffect(()=>{let s;const l=n,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);r(Math.round(l+(c-l)*f(x))),x<1&&(s=requestAnimationFrame(m))}return s=requestAnimationFrame(m),()=>cancelAnimationFrame(s)},[e]),a.jsx("span",{children:(n||0).toLocaleString()})}function Nce(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function Sce(e){const{cx:t,cy:n,midAngle:r,outerRadius:s,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,g=Math.PI/180,b=-r*g,w=s+6,j=t+Math.cos(b)*w,S=n+Math.sin(b)*w,_=s+22,C=t+Math.cos(b)*_,k=n+Math.sin(b)*_,O=!!m;let A=O?C+36:C-36,E=typeof x=="number"?x:n+f*h;const L=34,M=t+s+L,V=t-s-L;O?A=Math.max(A,M+12):A=Math.min(A,V-12);const H=(typeof f=="number"?f:0)*18,U=O?C+16:C-16,ne=k+H*.25,we=O?A-22:A+22,ae=E+H*.75,D=typeof d=="number"?Math.round(d*100):0,K=`${l}`,q=`${c}  ${D}%`,F=Math.max(136,K.length*8+q.length*4.2),T=O?0:-F,R=O?"start":"end";return a.jsxs(ge.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[a.jsx("path",{d:`M ${j},${S} C ${U},${ne} ${we},${ae} ${A},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),a.jsxs("path",{d:`M ${j},${S} C ${U},${ne} ${we},${ae} ${A},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[a.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),a.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),a.jsxs("g",{transform:`translate(${A}, ${E})`,children:[a.jsx("rect",{x:T-6,y:-22,rx:"14",ry:"14",width:F+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),a.jsx("rect",{x:T,y:-18,rx:"12",ry:"12",width:F,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),a.jsx("text",{x:T+(O?14:F-14),y:-2,textAnchor:R,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:K}),a.jsx("text",{x:T+(O?14:F-14),y:12,textAnchor:R,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:q})]})]})}function _ce(e){const t=Math.PI/180,{cx:n,cy:r,midAngle:s,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=n+Math.cos(-s*t)*h,g=r+Math.sin(-s*t)*h,b=Math.round((m||0)*100);return b<7?null:a.jsxs("g",{children:[a.jsx("text",{x,y:g-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),a.jsxs("text",{x,y:g+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",b,"%"]})]})}function Cce({data:e,mode:t="desktop",width:n,height:r}){const d=Math.PI/180,f=e.reduce((H,U)=>H+(Number(U.value)||0),0),m=(n||0)*.5,h=(r||0)*.5,x=t==="desktop";if(f===0)return a.jsxs(J0,{width:n,height:r,children:[a.jsx(lf,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),a.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const g=-90,w=270-g;let j=g;const _=e.map((H,U)=>({index:U,value:Number(H.value)||0})).filter(H=>H.value>0).map(H=>{const U=f?H.value/f*w:0,ne=j+U/2;j+=U;const we=-ne*d,ae=Math.cos(we)>=0,D=h+Math.sin(we)*110;return{index:H.index,ang:we,right:ae,ty0:D,mid:ne}}),C=_.filter(H=>!H.right).sort((H,U)=>H.ty0-U.ty0),k=_.filter(H=>H.right).sort((H,U)=>H.ty0-U.ty0),O=28,A=40,E=h-(110+A),L=h+(110+A),M=H=>{if(!H.length)return[];const U=H.length,ne=L-E,we=Math.min(Math.max(O,U>1?ne/(U-1):O),36),ae=new Array(U);ae[0]=Math.max(H[0].ty0,E);for(let K=1;K<U;K++)ae[K]=Math.max(H[K].ty0,ae[K-1]+we);const D=ae[U-1]-L;if(D>0){for(let K=0;K<U;K++)ae[K]-=D;if(ae[0]<E){const K=E-ae[0];for(let q=0;q<U;q++)ae[q]+=K}}return ae},V=M(C),G=M(k);return a.jsxs(J0,{width:n,height:r,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[a.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),a.jsxs("filter",{id:"arrowGlow",children:[a.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),a.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),a.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),a.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),a.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),a.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[a.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),a.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:a.jsx("feGaussianBlur",{stdDeviation:"8"})}),a.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsx(lf,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?H=>{if(!(H&&H.value>0))return null;const U=Math.PI/180,ne=Math.cos(-H.midAngle*U)>=0,ae=(ne?k:C).findIndex(F=>F.index===H.index);if(ae===-1)return null;const D=ne?G:V,K=D[ae];if(typeof K!="number")return null;const q=ae-(D.length-1)/2;return a.jsx(Sce,{...H,laneSlot:q,sideRight:ne,fixedTy:K,laneGap:30})}:H=>a.jsx(_ce,{...H}),labelLine:!1,children:e.map((H,U)=>a.jsx(Es,{fill:U===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][U-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${U}`))})]})}const kce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"};var tT={};const nT=typeof import.meta<"u"&&kce&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&tT&&tT.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Vo(...e){return e.filter(Boolean).join(" ")}function rT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return a.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function Ace({open:e,onClose:t,onConfirm:n,numbers:r=[]}){if(!e)return null;const s=r.slice(0,5),l=Math.max(0,r.length-s.length);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),a.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",a.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>a.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&a.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function Ece(){const[e,t]=v.useState("US"),[n,r]=v.useState([]),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(20),[g,b]=v.useState(1),[w,j]=v.useState(!1),[S,_]=v.useState([]),C=10,k=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],O=()=>{try{return localStorage.getItem("token")}catch{return null}},A=q=>q.split(/[,\s]+/).map(F=>F.trim()).filter(Boolean),[E,L]=v.useState(()=>new Set),M=q=>E.has(q),V=q=>{L(F=>{const T=new Set(F);return T.has(q)?T.delete(q):T.add(q),T})},G=()=>L(new Set),H=v.useMemo(()=>{const q=g*C,F=q-C;return n.slice(F,q)},[n,g]),U=Math.ceil(n.length/C)||1,ne=async()=>{const q=A(f);l(!0);try{const F=O(),T=await fetch(`${nT}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify({country:e,area_codes:q.length?q:null,limit:h})}),R=await T.json();if(!T.ok){const W=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to fetch phone numbers.";r([]),Y.error(W);return}const I=Array.isArray(R)?R:[];r(I),b(1),G(),I.length===0&&Y.info("No numbers found for your query.")}catch(F){console.error(F),r([]),Y.error("Network error while fetching numbers.")}finally{l(!1)}},we=async q=>{if(q!=null&&q.length){d(!0);try{const F=O(),T=await fetch(`${nT}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify({phone_number:q})}),R=await T.json();if(!T.ok||!(R!=null&&R.success)){const I=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to purchase numbers.";Y.error(I);return}r(I=>I.filter(W=>!q.includes(W.phone_number))),G(),Y.success(` Purchased ${q.length} number${q.length>1?"s":""}.`)}catch(F){console.error(F),Y.error("Network error while purchasing.")}finally{d(!1),j(!1),_([])}}},ae=q=>{if(!q)return"";if(e==="US"||e==="CA"){const T=q.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(T)return`+1 (${T[1]}) ${T[2]}-${T[3]}`}return q},D=async q=>{try{await navigator.clipboard.writeText(q),Y.success("Copied!")}catch{Y.error("Copy failed.")}},K=(()=>{const q=n.length===0?0:(g-1)*C+1,F=Math.min(g*C,n.length);return{start:q,end:F}})();return a.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[a.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),a.jsx(Ace,{open:w,onClose:()=>j(!1),onConfirm:q=>we(q),numbers:S}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[a.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:a.jsx(ut,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((q,F)=>a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:q.value}),a.jsx("div",{className:"text-xs text-gray-500",children:q.label})]},F))})]})}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(Rr,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Yh,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),a.jsx("select",{value:e,onChange:q=>t(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(q=>a.jsxs("option",{value:q.code,children:[q.flag," ",q.name]},q.code))})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Rr,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),a.jsx("input",{type:"text",value:f,onChange:q=>m(q.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Lc,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),a.jsxs("select",{value:h,onChange:q=>x(Number.parseInt(q.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsx("div",{className:"lg:col-span-1 flex items-end",children:a.jsx("button",{onClick:ne,disabled:s,className:Vo("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(Gn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(Rr,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{const q=H.map(T=>T.phone_number),F=q.every(T=>E.has(T));L(T=>{const R=new Set(T);return F?q.forEach(I=>R.delete(I)):q.forEach(I=>R.add(I)),R})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:H.every(q=>E.has(q.phone_number))?"Unselect Page":"Select Page"}),a.jsx("button",{onClick:()=>{if(E.size===0){Y.info("Select numbers first.");return}const q=Array.from(E);_(q),j(!0)},disabled:E.size===0||c,className:Vo("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Ym,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-4 h-4 text-white"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${n.length})`})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",K.start,"  ",K.end," of"," ",n.length]})]})}),s?a.jsx("div",{className:"p-6 sm:p-8",children:a.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((q,F)=>a.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},F))})}):n.length===0?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsxs("div",{className:"text-center max-w-sm",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ut,{className:"w-10 h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),a.jsx("button",{onClick:ne,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:H.map((q,F)=>{var R,I,W;const T=M(q.phone_number);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>V(q.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":T?"Unselect":"Select",children:T?a.jsx(j5,{className:"w-5 h-5 text-blue-600"}):a.jsx(xc,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ae(q.phone_number)}),a.jsx("button",{onClick:()=>D(q.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:a.jsx(zd,{className:"w-4 h-4 text-gray-500"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx($s,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx(rT,{iso:q.iso_country}),q.region||"N/A"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((R=q.capabilities)==null?void 0:R.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((I=q.capabilities)==null?void 0:I.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=q.capabilities)==null?void 0:W.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>{_([q.phone_number]),j(!0)},disabled:c,className:Vo("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Gn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},F)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:H.map((q,F)=>{var R,I,W;const T=M(q.phone_number);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("button",{onClick:()=>V(q.phone_number),className:"text-gray-700 mr-3","aria-label":T?"Unselect":"Select",children:T?a.jsx(j5,{className:"w-5 h-5 text-blue-600"}):a.jsx(xc,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ae(q.phone_number)}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[a.jsx($s,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx(rT,{iso:q.iso_country}),q.region||"N/A"]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((R=q.capabilities)==null?void 0:R.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((I=q.capabilities)==null?void 0:I.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=q.capabilities)==null?void 0:W.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),a.jsx("button",{onClick:()=>D(q.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:a.jsx(zd,{className:"w-4 h-4 text-gray-500"})})]}),a.jsx("button",{onClick:()=>{_([q.phone_number]),j(!0)},disabled:c,className:Vo("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Gn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},F)})})]}),n.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",K.start," to ",K.end," of ",n.length," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(q=>Math.max(1,q-1)),disabled:g===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,U)},(q,F)=>{let T;return U<=5||g<=3?T=F+1:g>=U-2?T=U-4+F:T=g-2+F,a.jsx("button",{onClick:()=>b(T),className:Vo("px-3 py-2 text-sm font-medium rounded-lg transition",g===T?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:T},T)})}),a.jsx("button",{onClick:()=>b(q=>Math.min(U,q+1)),disabled:g>=U,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&a.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm sm:text-base",children:[a.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:G,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),a.jsx("button",{onClick:()=>{const q=Array.from(E);_(q),j(!0)},disabled:c,className:Vo("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Ym,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function Tce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Pce=v.forwardRef(Tce);function Oce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vw=v.forwardRef(Oce);function Mce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const cL=v.forwardRef(Mce);function Dce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ep=v.forwardRef(Dce);function Rce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const yw=v.forwardRef(Rce);function Lce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const bw=v.forwardRef(Lce);function $ce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const uL=v.forwardRef($ce);function Ice({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const zce=v.forwardRef(Ice);function Bce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const ww=v.forwardRef(Bce);function Uce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const jw=v.forwardRef(Uce);function Fce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const dc=v.forwardRef(Fce),aT="https://aisdr-dbt.ddns.net",Vce=[`${aT}/api/auth`,`${aT}/api`];function Hce(){var R,I,W,ce,B;const e=Vt(),[t,n]=v.useState({name:"",email:""}),[r,s]=v.useState(!1),[l,c]=v.useState(null),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState({old:!1,next:!1}),[S,_]=v.useState({old_password:"",new_password:""}),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[E,L]=v.useState(!1),[M,V]=v.useState(!1),G=()=>localStorage.getItem("token")||"",H=()=>G()?{Authorization:`Bearer ${G()}`}:{},U=()=>G()?!0:(Y.error("Authentication required. Please login again."),e("/login"),!1),ne=async($,ie={},{expectJson:te=!0}={})=>{const pe=[];for(const je of Vce)try{const de=await fetch(`${je}${$}`,ie);if(de.status===401||de.status===403){const Be=await de.text().catch(()=>"");throw new Error(Be||"Unauthorized")}if(de.ok)return te?await de.json():de;if(de.status===404){pe.push({base:je,status:404});continue}const Oe=await de.json().catch(()=>({}));throw new Error((Oe==null?void 0:Oe.detail)||`Request failed (${de.status})`)}catch(de){if(pe.push({base:je,err:de==null?void 0:de.message}),(de==null?void 0:de.message)==="Unauthorized")throw de}const be=pe!=null&&pe.length?`Request failed on all bases: ${pe.map(je=>`${je.base}${je.status||je.err}`).join(" | ")}`:"Network error";throw new Error(be)};v.useEffect(()=>{(async()=>{var $,ie,te;if(U())try{const pe=await ne("/user-info",{headers:{...H(),Accept:"application/json"}});n({name:(($=pe==null?void 0:pe.data)==null?void 0:$.name)||"",email:((ie=pe==null?void 0:pe.data)==null?void 0:ie.email)||""});const be=(te=pe==null?void 0:pe.data)==null?void 0:te.profile_photo_url;if(be)c(be+(be.includes("?")?"&":"?")+"t="+Date.now());else try{const je=await ne("/profile-photo?redirect=false",{headers:{...H(),Accept:"application/json"}}),de=je==null?void 0:je.photo_url;de&&c(de+(de.includes("?")?"&":"?")+"t="+Date.now())}catch{}s(!0)}catch{Y.error("Unable to load profile"),s(!0)}})()},[]);const we=async $=>{var ie;if((ie=$==null?void 0:$.preventDefault)==null||ie.call($),!!U()){if(!t.name.trim())return Y.error("Name is required");if(!t.email.trim())return Y.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return Y.error("Please enter a valid email");V(!0);try{await ne("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...H(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),Y.success("Profile updated")}catch(te){Y.error(te.message||"Update failed")}finally{V(!1)}}},ae=async $=>{var ie;if((ie=$==null?void 0:$.preventDefault)==null||ie.call($),!!U()){if(!S.old_password||!S.new_password)return Y.error("Please fill both password fields");if(S.new_password.length<8)return Y.error("New password must be at least 8 characters");k(!0);try{await ne("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...H(),Accept:"application/json"},body:JSON.stringify(S)}),Y.success("Password changed successfully"),_({old_password:"",new_password:""})}catch(te){Y.error(te.message||"Password change failed")}finally{k(!1)}}},D=async $=>{if(!$||!U())return;if(!["image/png","image/jpeg","image/webp"].includes($.type))return Y.error("Please upload PNG, JPG or WebP");if($.size>5*1024*1024)return Y.error("Max file size is 5MB");f(!0);try{const te=new FormData;te.append("file",$);const pe=await ne("/profile-photo",{method:"POST",headers:{...H()},body:te}),be=pe==null?void 0:pe.photo_url;if(be){const je=(be.includes("?")?"&":"?")+"t="+Date.now();c(be+je),Y.success("Profile photo updated")}else throw new Error("Upload returned no URL")}catch(te){Y.error(te.message||"Upload failed")}finally{f(!1)}},K=async()=>{if(U()){h(!0);try{await ne("/profile-photo",{method:"DELETE",headers:{...H(),Accept:"application/json"}}),c(null),Y.success("Profile photo removed")}catch($){Y.error($.message||"Delete failed")}finally{h(!1)}}},q=$=>{$.preventDefault(),b(!1);const ie=$.dataTransfer.files&&$.dataTransfer.files[0]||void 0;D(ie)},F=$=>{$.preventDefault(),b(!0)},T=$=>{$.preventDefault(),b(!1)};return a.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx(ge.div,{className:"w-full px-0 pt-6 sm:pt-8 pb-4 sm:pb-6",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.45},children:a.jsxs("div",{className:"flex items-center gap-3 px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600/90 grid place-items-center shadow-lg",children:a.jsx(dc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})}),a.jsx(ge.div,{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-300 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.6}})]}),a.jsx("div",{className:"w-full px-0 py-6 sm:py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsx(ge.div,{className:"lg:col-span-1 rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(zce,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:a.jsx("div",{className:"rounded-full bg-white p-1",children:a.jsx("div",{className:"rounded-full overflow-hidden",style:{width:96,height:96},children:a.jsx(_t,{mode:"wait",children:l?a.jsx(ge.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25}},l):a.jsx(ge.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25},children:((B=(ce=(W=(I=(R=t.name)==null?void 0:R.split(" "))==null?void 0:I.map($=>$[0]))==null?void 0:W.join(""))==null?void 0:ce.toUpperCase())==null?void 0:B.slice(0,2))||"U"},"initials")})})})}),a.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-900 font-semibold leading-tight",children:t.name||"User"}),a.jsx("p",{className:"text-slate-600 text-sm",children:t.email||"-"})]})]}),a.jsxs("div",{className:`mt-5 rounded-xl border-2 ${g?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:q,onDragOver:F,onDragLeave:T,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white",children:a.jsx(Pce,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",a.jsx("button",{type:"button",onClick:()=>{var $;return($=x.current)==null?void 0:$.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),a.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),a.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:$=>{var ie;return D((ie=$.target.files)==null?void 0:ie[0])}})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{var $;return($=x.current)==null?void 0:$.click()},disabled:d,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),a.jsx("button",{type:"button",onClick:K,disabled:m||!l,className:"px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[a.jsx(ge.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600/90 grid place-items-center",children:a.jsx(dc,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),a.jsxs("form",{onSubmit:we,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(dc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:t.name,onChange:$=>n({...t,name:$.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(cL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:t.email,onChange:$=>n({...t,email:$.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||M,required:!0})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:!r||M,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:M?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vw,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),a.jsx(ge.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.15},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600/90 grid place-items-center",children:a.jsx(uL,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),a.jsxs("form",{onSubmit:ae,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:$=>_({...S,old_password:$.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:1}),a.jsx("button",{type:"button",onClick:()=>j($=>({...$,old:!$.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?a.jsx(yw,{className:"w-5 h-5"}):a.jsx(bw,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:$=>_({...S,new_password:$.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:8}),a.jsx("button",{type:"button",onClick:()=>j($=>({...$,next:!$.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?a.jsx(yw,{className:"w-5 h-5"}):a.jsx(bw,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:C,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:C?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ww,{className:"w-4 h-4"}),"Update Password"]})})})]})]})}),a.jsx(ge.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-red-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.2},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(ep,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),a.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[a.jsx(jw,{className:"w-4 h-4"}),"Delete Account"]})]})]})})]})]})}),a.jsx(_t,{children:O&&a.jsx(ge.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(ge.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(ep,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>A(!1),disabled:E,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(U()){L(!0);try{await ne("/delete-account",{method:"DELETE",headers:{...H(),Accept:"application/json"}}),Y.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch($){Y.error($.message||"Delete failed")}finally{L(!1),A(!1)}}},disabled:E,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:E?"Deleting...":"Delete Forever"})]})]})})})]})}const sT="https://aisdr-dbt.ddns.net";function qce(){var M,V;const[e,t]=v.useState([]),[n,r]=v.useState(!1),[s,l]=v.useState(1),[c,d]=v.useState({open:!1,number:null}),[f,m]=v.useState(!1),h=10,x=Vt(),g=G=>Array.isArray(G)?G:G&&Array.isArray(G.purchased_numbers)?G.purchased_numbers:[],b=G=>{if(!G)return"N/A";const U=String(G).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return U?`+1 (${U[1]}) ${U[2]}-${U[3]}`:G},w=G=>{if(!G)return"N/A";const H=new Date(G);return isNaN(H.getTime())?"N/A":H.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{r(!0);try{const G=localStorage.getItem("token");if(!G){console.error("No token found in localStorage"),t([]);return}const H=await fetch(`${sT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${G}`}});let U;try{U=await H.json()}catch{U=[]}if(!H.ok){console.error("Failed to fetch purchased numbers:",(U==null?void 0:U.message)||(U==null?void 0:U.detail)||"Unknown error"),t([]);return}t(g(U))}catch(G){console.error("Error fetching purchased numbers:",G),t([])}finally{r(!1)}},S=async()=>{var G;if((G=c.number)!=null&&G.phone_number){m(!0);try{const H=localStorage.getItem("token");if(!H)throw new Error("No token found in localStorage");const U=await fetch(`${sT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ne;try{ne=await U.json()}catch{ne=null}if(!U.ok||(ne==null?void 0:ne.success)===!1)throw new Error((ne==null?void 0:ne.detail)||(ne==null?void 0:ne.error)||"Failed to remove phone number");t(we=>we.filter(ae=>ae.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(H){alert("Failed to delete number: "+H.message)}finally{m(!1)}}};v.useEffect(()=>{j()},[]);const _=Math.ceil(e.length/h)||1,C=Math.min(s*h,e.length),k=Math.max(0,C-h),O=e.slice(k,C),A=()=>s<_&&l(G=>G+1),E=()=>s>1&&l(G=>G-1),L=G=>G>=1&&G<=_&&l(G);return v.useEffect(()=>{s>_&&l(1)},[e]),a.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),a.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Yn,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),a.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",a.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:b((M=c.number)==null?void 0:M.phone_number)}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((V=c.number)==null?void 0:V.date_purchased)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(ut,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),a.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),a.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ut,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ut,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((G,H)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:b(G.phone_number)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($s,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.friendly_name||""})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(G.date_purchased)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-700",children:G.attached_assistant??""})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[a.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},G.phone_number||H))})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:O.map((G,H)=>a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:b(G.phone_number)}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx($s,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx("span",{className:"text-sm text-gray-600",children:G.friendly_name||""})]}),a.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(G.date_purchased)}),a.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",G.attached_assistant??""]}),a.jsx("div",{children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[a.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},G.phone_number||H))})]})]}),e.length>h&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:k+1," to ",C," of ",e.length," results"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:E,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const G=[];let H=1,U=_;_>5&&(s<=3?(H=1,U=5):s>=_-2?(H=_-4,U=_):(H=s-2,U=s+2));for(let ne=H;ne<=U;ne++)G.push(a.jsx("button",{onClick:()=>L(ne),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===ne?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===ne?"page":void 0,children:ne},ne));return G})()}),a.jsx("button",{onClick:A,disabled:s>=_,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function ns(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Xp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function dL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function fL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function mL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function tp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function hL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function pL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Zp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Qp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function xL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Ec(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Vi(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Jp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function gL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function vL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Tc(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Pc(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const ph="https://aisdr-dbt.ddns.net";function Kce(){const e=Vt(),[t,n]=v.useState([]),[r,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,E]=v.useState(null),[L,M]=v.useState([]),[V,G]=v.useState(!1),[H,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ne,we]=v.useState(1),ae=10,D=v.useMemo(()=>localStorage.getItem("token"),[]),K=async()=>{try{c(!0);const X=await fetch(`${ph}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const fe=await X.json(),Z=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.assistants)?fe.assistants:[];n(Z)}catch(X){console.error(X),Y.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{K()},[]),v.useEffect(()=>{if(!d)return;const X=setInterval(K,15e3);return()=>clearInterval(X)},[d]);const q=v.useMemo(()=>{let X=[...t];x!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.provider)||"").toLowerCase()===x)),b!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.category)||"").toLowerCase()===b));const fe=m.trim().toLowerCase();return fe&&(X=X.filter(Z=>[Z==null?void 0:Z.name,Z==null?void 0:Z.model,Z==null?void 0:Z.voice,Z==null?void 0:Z.category,Z==null?void 0:Z.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(fe)))),X.sort((Z,Ne)=>{if(j==="created_at"){const Ae=Z!=null&&Z.created_at?new Date(Z.created_at).getTime():0,Je=Ne!=null&&Ne.created_at?new Date(Ne.created_at).getTime():0;return _==="asc"?Ae-Je:Je-Ae}const Te=((Z==null?void 0:Z[j])??"").toString().toLowerCase(),Ue=((Ne==null?void 0:Ne[j])??"").toString().toLowerCase();return Te<Ue?_==="asc"?-1:1:Te>Ue?_==="asc"?1:-1:0}),X},[t,m,x,b,j,_]),F=v.useMemo(()=>{const X=new Set((t||[]).map(fe=>((fe==null?void 0:fe.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),T=v.useMemo(()=>{const X=new Set((t||[]).map(fe=>((fe==null?void 0:fe.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),R=Math.max(1,Math.ceil(q.length/ae)),I=Math.min(ne,R),W=q.slice((I-1)*ae,I*ae),ce=v.useMemo(()=>q.length?q.reduce((X,fe)=>{const Z=X!=null&&X.created_at?new Date(X.created_at):null,Ne=fe!=null&&fe.created_at?new Date(fe.created_at):null;return!Z&&Ne?fe:!Ne&&Z||!Z&&!Ne?X:Ne>Z?fe:X},q[0]):null,[q]),B=X=>{j===X?C(fe=>fe==="asc"?"desc":"asc"):(S(X),C("asc"))},$=X=>{E(X),O(!0)},ie=async()=>{if(A)try{const X=await fetch(`${ph}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!X.ok){let fe=`HTTP ${X.status}`;try{const Z=await X.json();Z!=null&&Z.detail&&(fe=Z.detail)}catch{}throw new Error(fe)}Y.success("Assistant deleted"),M(fe=>fe.filter(Z=>Z!==A)),K()}catch(X){console.error(X),Y.error((X==null?void 0:X.message)||"Delete failed")}finally{O(!1),E(null)}},te=X=>{const fe=X==null?void 0:X.knowledge_base;if(Array.isArray(fe)&&fe.length){const Z=fe.filter(Ne=>typeof Ne=="string"&&/^https?:\/\//i.test(Ne));if(Z.length){Z.forEach(Ne=>window.open(Ne,"_blank","noopener"));return}}Y.info("No file URLs available for this assistant.")},pe=X=>{if(!(X!=null&&X.vapi_assistant_id)){Y.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:X.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),G(!0)},be=async X=>{X.preventDefault();const{vapi_assistant_id:fe,number:Z,first_name:Ne,last_name:Te,email:Ue}=H;if(!Z)return Y.error("Enter the customer's phone number (E.164 preferred)");try{const Ae=`${ph}/api/phone-call/${encodeURIComponent(fe)}/${encodeURIComponent(Z)}`,Je={first_name:Ne||"Caller",last_name:Te||"",email:Ue||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Z,custom_field_01:null,custom_field_02:null},Ye=await fetch(Ae,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(Je)}),vt=await Ye.json().catch(()=>({}));if(!Ye.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${Ye.status}`);Y.success("Call initiated"),G(!1)}catch(Ae){console.error(Ae),Y.error((Ae==null?void 0:Ae.message)||"Failed to initiate call")}},je=X=>L.includes(X),de=X=>{M(fe=>fe.includes(X)?fe.filter(Z=>Z!==X):[...fe,X])},Oe=()=>{const X=W.map(Z=>Z.id).filter(Boolean),fe=X.every(Z=>L.includes(Z));M(Z=>fe?Z.filter(Ne=>!X.includes(Ne)):Array.from(new Set([...Z,...X])))},Be=async()=>{if(!L.length)return Y.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const X of L)await fetch(`${ph}/api/assistants/${X}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});Y.success("Bulk delete complete"),M([]),K()}catch(X){console.error(X),Y.error("Bulk delete encountered an error")}},Ze=()=>{const X=["Name","Model","Voice","Attached Number","Category","Created"],fe=q.map(Ae=>[(Ae==null?void 0:Ae.name)??"",(Ae==null?void 0:Ae.model)??"",(Ae==null?void 0:Ae.voice)??"",(Ae==null?void 0:Ae.attached_Number)??"",(Ae==null?void 0:Ae.category)??"",Ae!=null&&Ae.created_at?new Date(Ae.created_at).toLocaleString():""]),Z=[X,...fe].map(Ae=>Ae.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),Ne=new Blob([Z],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(Ne),Ue=document.createElement("a");Ue.href=Te,Ue.download="assistants.csv",Ue.click(),URL.revokeObjectURL(Te)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((X,fe)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},fe))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((X,fe)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Z,Ne)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},Ne))})]})},fe))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Pc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[q.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tp,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(X=>!X),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:K,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(gL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:Ze,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(pL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(Jp,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:X=>h(X.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(iT,{label:"Provider",value:x,onChange:g,options:F,icon:a.jsx(xL,{className:"h-4 w-4"})}),a.jsx(iT,{label:"Category",value:b,onChange:w,options:T,icon:a.jsx(Ec,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(xh,{title:"Total Assistants",value:q.length,icon:a.jsx(Pc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(xh,{title:"Active Calls",value:"24",icon:a.jsx(Vi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(xh,{title:"Success Rate",value:"94.2%",icon:a.jsx(ns,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(xh,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:a.jsx(tp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(ns,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Oe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),q.length===0?a.jsx(Xce,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(Gce,{className:"w-12 text-center",checked:W.every(X=>L.includes(X.id))&&W.length>0,onChange:Oe}),a.jsx(Ho,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:B}),a.jsx(Ho,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:B}),a.jsx(Ho,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:B}),a.jsx(Ho,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:B}),a.jsx(Ho,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:B}),a.jsx(Ho,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:B}),a.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(X=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${je(X.id)?"bg-blue-50/50":""}`,children:[a.jsx(Yce,{className:"w-12 text-center",checked:je(X.id),onChange:()=>de(X.id)}),a.jsx("td",{className:"w-[26%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Ec,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:X.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(X.knowledge_base)?X.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(fc,{variant:"secondary",children:X.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(fc,{variant:"accent",children:X.voice||""})})}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:X.attached_Number||""}),X.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Zce(X.attached_Number),children:a.jsx(hL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:X.category?a.jsx(fc,{variant:"primary",children:X.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:X.created_at?new Date(X.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[14%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(gh,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${X.id}`),variant:"primary",children:a.jsx(Zp,{className:"h-4 w-4"})}),a.jsx(gh,{title:"View Files",onClick:()=>te(X),variant:"success",children:a.jsx(Qp,{className:"h-4 w-4"})}),a.jsx(gh,{title:"Start Call",onClick:()=>pe(X),variant:"secondary",children:a.jsx(Vi,{className:"h-4 w-4"})}),a.jsx(gh,{title:"Delete",onClick:()=>$(X.id),variant:"danger",children:a.jsx(Tc,{className:"h-4 w-4"})})]})})]},X.id??X.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(X=>a.jsx(Wce,{assistant:X,isSelected:je(X.id),onToggleSelect:()=>de(X.id),onEdit:()=>e(`/user/edit-assistant/${X.id}`),onViewFiles:()=>te(X),onCall:()=>pe(X),onDelete:()=>$(X.id)},X.id??X.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(I-1)*ae+1," to ",Math.min(I*ae,q.length)," of"," ",q.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(lT,{disabled:I<=1,onClick:()=>we(X=>Math.max(1,X-1)),children:[a.jsx(dL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(X,fe)=>{const Z=fe+1;return a.jsx("button",{onClick:()=>we(Z),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Z===I?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Z},Z)})}),a.jsxs(lT,{disabled:I>=R,onClick:()=>we(X=>Math.min(R,X+1)),children:["Next",a.jsx(fL,{className:"h-4 w-4"})]})]})]})]})]}),k&&a.jsx(oT,{onClose:()=>O(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Tc,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ie,children:"Delete Assistant"})]})]})}),V&&a.jsxs(oT,{onClose:()=>G(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Vi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(vh,{label:"Customer Phone Number",value:H.number,onChange:X=>U(fe=>({...fe,number:X})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(vh,{label:"First Name",value:H.first_name,onChange:X=>U(fe=>({...fe,first_name:X})),placeholder:"John"}),a.jsx(vh,{label:"Last Name",value:H.last_name,onChange:X=>U(fe=>({...fe,last_name:X})),placeholder:"Doe"})]}),a.jsx(vh,{label:"Email Address",value:H.email,onChange:X=>U(fe=>({...fe,email:X})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function xh({title:e,value:t,icon:n,trend:r,trendUp:s,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function iT({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>a.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(Xp,{className:"h-4 w-4 text-white/70"})})]})}function fc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function gh({title:e,onClick:t,children:n,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:n})}function Ho({label:e,sortKey:t,sortDir:n,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(mL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(Xp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Gce({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(ns,{className:"h-3 w-3"})})})})}function Yce({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(ns,{className:"h-3 w-3"})})})})}function Wce({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(ns,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Ec,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(fc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(fc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(fc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(Zp,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(Qp,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Vi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Tc,{className:"h-4 w-4"}),"Delete"]})]})]})}function lT({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function oT({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function vh({label:e,value:t,onChange:n,placeholder:r,required:s,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Xce(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Pc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(Jp,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Zce(e){e&&navigator.clipboard.writeText(e).then(()=>Y.success("Copied to clipboard")).catch(()=>Y.info(e))}const ao=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],Zc=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...ao,...Zc];ao.filter(e=>e.gender==="female");const jb=ao.filter(e=>e.gender==="male"),Nb=ao;Zc.filter(e=>e.gender==="female");Zc.filter(e=>e.gender==="male");const tt={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},cT=/^\+\d{7,15}$/,uT=[{id:1,label:"Core & Transcription",Icon:Pw},{id:2,label:"Voice",Icon:Rw},{id:3,label:"Review & Save",Icon:$c}],Qce=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Jce=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function eue(){const{assistantId:e}=cf(),t=Vt(),n="https://aisdr-dbt.ddns.net",[r,s]=v.useState(1),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState([]),[S,_]=v.useState(!1),[C,k]=v.useState(""),[O,A]=v.useState("all"),[E,L]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,V]=v.useState({}),G=v.useMemo(()=>{const T=E.voice_provider==="openai"?Zc:ao;return(O==="all"?T:T.filter(I=>I.gender===O)).slice().sort((I,W)=>((I==null?void 0:I.showName)||"").localeCompare((W==null?void 0:W.showName)||""))},[E.voice_provider,O]);v.useEffect(()=>{if(!E.voice)return;const T=G.find(R=>(R==null?void 0:R.name)===E.voice);T!=null&&T.voice&&(L(R=>({...R,voice_model:T.voice})),V(R=>({...R,voice_model:""})))},[E.voice,G]),v.useEffect(()=>{if(!E.voice)return b(!1);G.some(R=>R.name===E.voice)||b(!1)},[G,E.voice]);const H=async()=>{_(!0),k("");try{const T=localStorage.getItem("token"),R=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...T?{Authorization:`Bearer ${T}`}:{}}});if(!R.ok)throw new Error(`HTTP ${R.status}`);const I=await R.json(),ce=(Array.isArray(I)?I:(I==null?void 0:I.purchased_numbers)||[]).filter(Boolean).map(B=>({phone_number:(B==null?void 0:B.phone_number)||"",friendly_name:(B==null?void 0:B.friendly_name)||"",attached_assistant:(B==null?void 0:B.attached_assistant)??null})).filter(B=>B.phone_number);j(ce)}catch(T){console.error(T),k("Failed to load your purchased numbers"),j([])}finally{_(!1)}};v.useEffect(()=>{(async()=>{try{const R=localStorage.getItem("token");if(!R){Y.error("No authentication token found. Please log in."),t("/login");return}const I=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${R}`,Accept:"application/json"}});if(!I.ok)throw new Error(`HTTP ${I.status}`);const W=await I.json(),ce=Number(e),B=W.find(pe=>Number(pe.id)===ce);if(!B)throw new Error("Assistant not found");const $=B.voice_provider==="openai"||B.voice_provider==="deepgram"?B.voice_provider:"deepgram",ie={name:B.name||"",provider:B.provider||"openai",model:B.model||"gpt-4o-mini",temperature:B.temperature??.7,maxTokens:B.max_tokens??B.maxTokens??250,systemPrompt:B.system_prompt||B.systemPrompt||"",first_message:B.first_message||"",transcribe_provider:B.transcribe_provider||"google",transcribe_language:B.transcribe_language||"English",transcribe_model:B.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:B.forwardingPhoneNumber||"",attached_Number:B.attached_Number||"",category:B.category||"",knowledgeBase:B.knowledge_base||B.knowledgeBase||[],leadsfile:B.leadsfile||[],languages:B.languages||[],endCallPhrases:B.endCallPhrases||[],voice_provider:$,voice_model:B.voice_model||"",voice:B.voice||"",speed:B.speed??.8,stability:B.stability??.5,similarityBoost:B.similarityBoost??.75,draft:!!B.draft,assistant_toggle:!!(B.assistant_toggle??!0)};L(pe=>({...pe,...ie}));const te=ie.voice&&ie.voice_model&&(ie.voice_provider==="deepgram"||ie.voice_provider==="openai");b(!!te),H(),c(!1)}catch(R){console.error("Error loading assistant:",R),Y.error((R==null?void 0:R.message)||"Failed to load assistant"),t("/")}})()},[e]);const U=T=>{const{id:R,value:I,type:W,checked:ce}=T.target,B=W==="checkbox"?ce:I;L($=>({...$,[R]:B})),V($=>({...$,[R]:""}))},ne=T=>{try{x.current&&(x.current.pause(),x.current=null);const R=new Audio(T);x.current=R,h(!0),R.play().catch(()=>{Y.error("Failed to play voice preview"),h(!1),x.current=null}),R.onended=()=>{h(!1),x.current=null}}catch{Y.error("Failed to play voice preview"),h(!1)}},we=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},ae=T=>{if(T!==r){if(T===3&&(!E.voice||!g)){V(R=>({...R,voice:"Select a voice and press Next to continue"})),Y.error("Please select a voice and press Next to continue.");return}we(),s(T)}},D=()=>{if(r===1)return s(2);if(r===2){if(!E.voice){V(T=>({...T,voice:"Please select a voice"})),Y.error("Select a voice to continue.");return}if(!g){V(T=>({...T,voice:"Click a voice card to confirm your choice"})),Y.info("Click a voice card to confirm your choice.");return}return s(3)}},K=T=>{we();const R=T.target.value;L(I=>({...I,voice_provider:R,voice:"",voice_model:""})),b(!1),V(I=>({...I,voice:"",voice_model:""}))},q=()=>{const T=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],R={};let I=!0;return T.forEach(W=>{const ce=E[W];(ce==null||ce===""||Number.isNaN(ce))&&(R[W]="Required",I=!1)}),(E.temperature<0||E.temperature>2)&&(R.temperature="Temperature must be between 0 and 2",I=!1),Number(E.maxTokens)<1&&(R.maxTokens="maxTokens must be a positive integer",I=!1),E.forwardingPhoneNumber&&!cT.test(E.forwardingPhoneNumber)&&(R.forwardingPhoneNumber="Must be E.164 (+123...)",I=!1),E.attached_Number&&!cT.test(E.attached_Number)&&(R.attached_Number="Invalid number format",I=!1),V(R),I||((B=>B.some($=>R[$]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),I},F=async T=>{if(T.preventDefault(),!d){if(r!==3){Y.error("Please complete the steps first.");return}if(!q()){Y.error("Fix the highlighted fields.");return}f(!0),we();try{const R=localStorage.getItem("token");if(!R)throw new Error("No authentication token found. Please log in.");const I={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},W=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(I)});if(!W.ok){let ce=`HTTP ${W.status}`;try{const B=await W.json();B!=null&&B.detail&&(ce=B.detail)}catch{const B=await W.text();B&&(ce=`${ce}  ${B}`)}throw new Error(ce)}Y.success("Assistant updated successfully!"),t("/user/callassistent")}catch(R){console.error("Update error",R),Y.error((R==null?void 0:R.message)||"Failed to update assistant")}finally{f(!1)}}};return l?a.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:tt.background},children:a.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:tt.text},children:[a.jsx(Gn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:tt.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:tt.border,backgroundColor:tt.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:tt.text},children:[a.jsx($c,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),a.jsx("p",{className:"mt-2 text-sm",style:{color:tt.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),a.jsx(tue,{currentStep:r,onChange:ae}),a.jsx(ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:tt.card,borderColor:tt.border},children:a.jsxs("form",{onSubmit:F,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[r===1&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(yh,{id:"name",label:"Assistant Name",value:E.name,onChange:U,error:M.name,placeholder:"SupportBot"}),a.jsx(yh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:U,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Dd,{children:"Attach Purchased Number (optional)"}),a.jsxs("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},disabled:S,title:"Refresh list",children:[a.jsx(He,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),a.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:U,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:[a.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(T=>a.jsx("option",{value:T.phone_number,children:T.friendly_name?`${T.friendly_name}  ${T.phone_number}`:T.phone_number},T.phone_number))]}),C&&a.jsx(Pl,{children:C}),M.attached_Number&&a.jsx(Pl,{children:M.attached_Number})]}),a.jsx(yh,{id:"category",label:"Category (optional)",value:E.category,onChange:U}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Dd,{children:"System Prompt"}),a.jsx(mT,{id:"systemPrompt",value:E.systemPrompt,onChange:U,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&a.jsx(Pl,{children:M.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Dd,{children:"First Message"}),a.jsx(mT,{id:"first_message",value:E.first_message,onChange:U,placeholder:"Hello! ",rows:3}),M.first_message&&a.jsx(Pl,{children:M.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(hT,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:U}),a.jsx(hT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:U})]})]},"step1"),r===2&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(fT,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:K,options:Qce,error:M.voice_provider}),a.jsx(fT,{id:"genderFilter",label:"Gender",value:O,onChange:T=>{we(),A(T.target.value)},options:Jce}),a.jsx(yh,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!g&&a.jsxs("p",{className:"text-sm",style:{color:tt.lightText},children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm",style:{color:tt.lightText},children:["Showing ",a.jsx("span",{className:"font-medium",children:G.length})," voices"]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:G.map(T=>a.jsxs(ge.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===T.name?"#93c5fd":tt.border,backgroundColor:E.voice===T.name?"#eff6ff":tt.card},onClick:()=>{L(R=>({...R,voice:T.name,voice_model:T.voice,voice_provider:T.provider||E.voice_provider})),b(!0),V(R=>({...R,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===T.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",style:{color:tt.text},children:T.showName||T.name}),a.jsxs("div",{className:"text-sm capitalize",style:{color:tt.lightText},children:[T.gender||"unknown","  ",T.provider]}),a.jsx("div",{className:"mt-1 text-xs",style:{color:tt.lightText},children:T.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(nue,{isActive:m&&E.voice===T.name,onPlay:()=>ne(T.audioSr||""),onStop:we})})]})]},`${T.provider}-${T.name}`))}),M.voice&&a.jsx(Pl,{children:M.voice})]},"step2"),r===3&&a.jsx(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:tt.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:tt.text},children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(yl,{label:"Name",value:E.name||""}),a.jsx(yl,{label:"Model",value:`${E.provider}  ${E.model}`}),a.jsx(yl,{label:"Voice Provider",value:E.voice_provider}),a.jsx(yl,{label:"Voice",value:E.voice||""}),a.jsx(yl,{label:"Voice Model",value:E.voice_model||""}),a.jsx(yl,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),a.jsx(yl,{label:"Attach Number",value:E.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(Sb,{onClick:()=>s(2),children:"Edit Voice"}),a.jsx(Sb,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?a.jsx(Sb,{onClick:()=>ae(r-1),children:"Back"}):a.jsx("span",{}),r<3?a.jsxs(dT,{onClick:D,children:["Next ",a.jsx(zn,{className:"ml-1 h-4 w-4"})]}):a.jsx(dT,{type:"submit",disabled:d,children:d?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function tue({currentStep:e,onChange:t}){const n=uT;return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:r,label:s,Icon:l})=>{const c=e===r;return a.jsxs(ge.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:a.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),a.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/uT.length*100}%`}})})]})}function dT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function Sb({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:e})}function Dd({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:tt.text},children:e})}function Pl({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:tt.danger},children:e})}function yh({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Dd,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card}}),s&&a.jsx(Pl,{children:s})]})}function fT({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Dd,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Pl,{children:l})]})}function mT({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card}})}function hT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:tt.text},children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-indigo-600"}),a.jsx("span",{children:t})]})}function yl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:tt.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function nue({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:a.jsx(xc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:a.jsx(mf,{className:"h-5 w-5"})})})}const Ha={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},rue=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),pT=/^\+\d{7,15}$/,xT=[{id:1,key:"core",label:"Core & Transcription",Icon:Pw},{id:2,key:"voice",label:"Voice",Icon:Rw},{id:3,key:"review",label:"Review & Create",Icon:$c}],aue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],sue=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function iue(){const e=Vt(),[t,n]=v.useState(1),[r,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),E=v.useMemo(()=>{const D=g.voice_provider==="openai"?Zc:ao;return(h==="all"?D:D.filter(q=>q.gender===h)).slice().sort((q,F)=>((q==null?void 0:q.showName)||"").localeCompare((F==null?void 0:F.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const D=E.find(K=>(K==null?void 0:K.name)===g.voice);D!=null&&D.voice&&(b(K=>({...K,voice_model:D.voice})),j(K=>({...K,voice_model:""})))},[g.voice,E]);const L="https://aisdr-dbt.ddns.net",M=D=>{const{id:K,value:q,type:F,checked:T}=D.target,R=F==="checkbox"?T:q;b(I=>({...I,[K]:R})),j(I=>({...I,[K]:""}))},V=D=>{try{d.current&&(d.current.pause(),d.current=null);const K=new Audio(D||"");d.current=K,c(!0),K.play().catch(()=>{Y.error("Failed to play voice preview"),c(!1),d.current=null}),K.onended=()=>{c(!1),d.current=null}}catch{Y.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},H=D=>{if(D!==t){if(D===3&&(!g.voice||!f)){j(K=>({...K,voice:"Select a voice and press Next to continue"})),Y.error("Please select a voice and press Next to continue.");return}G(),n(D)}},U=()=>{if(t===1)return n(2);if(t===2){if(!g.voice){j(D=>({...D,voice:"Please select a voice"})),Y.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),Y.info("Click a voice card to confirm your choice.");return}n(3)}},ne=async()=>{k(!0),A("");try{const D=localStorage.getItem("token"),K=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const q=await K.json(),T=(Array.isArray(q)?q:(q==null?void 0:q.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);_(T)}catch(D){console.error(D),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{ne()},[]);const we=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let q=!0;if(D.forEach(F=>{const T=g[F];(T==null||T===""||Number.isNaN(T))&&(K[F]="Required",q=!1)}),(g.temperature<0||g.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",q=!1),g.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",q=!1),g.forwardingPhoneNumber&&!pT.test(g.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",q=!1),g.attached_Number&&!pT.test(g.attached_Number)&&(K.attached_Number="Invalid number format",q=!1),j(K),!q){const F=I=>I.some(W=>K[W]),T=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];F(T)?n(1):F(R)&&n(2)}return q},ae=async D=>{if(D.preventDefault(),!r){if(t!==3){Y.error("Please complete the steps first.");return}if(we()){s(!0),G();try{const K=localStorage.getItem("token"),q=`${L}/api/assistants`,F=[rue,(g.systemPrompt||"").trim()].filter(Boolean).join(`

`),T={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:F,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},R=await fetch(q,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(T)});if(!R.ok){let I=`HTTP ${R.status}`;try{const W=await R.json();W!=null&&W.detail&&(I=W.detail)}catch{const W=await R.text();W&&(I=`${I}  ${W}`)}throw new Error(I)}Y.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){Y.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(D=>({...D,voice:"",voice_model:""}))},[g.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ha.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ha.border,backgroundColor:Ha.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx($c,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx(lue,{currentStep:t,onChange:H}),a.jsx(ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ha.card,borderColor:Ha.border},children:a.jsxs("form",{onSubmit:ae,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[t===1&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(bh,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx(bh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Rd,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:ne,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>a.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),O&&a.jsx(Ol,{children:O}),w.attached_Number&&a.jsx(Ol,{children:w.attached_Number})]}),a.jsx(bh,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Rd,{children:"System Prompt"}),a.jsx(yT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&a.jsx(Ol,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Rd,{children:"First Message"}),a.jsx(yT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&a.jsx(Ol,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(bT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),a.jsx(bT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(vT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:D=>{G();const K=D.target.value;b(q=>({...q,voice_provider:K,voice:"",voice_model:""})),m(!1),j(q=>({...q,voice:"",voice_model:""}))},options:aue,error:w.voice_provider}),a.jsx(vT,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{G(),x(D.target.value),m(!1)},options:sue}),a.jsx(bh,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Ha.border},children:"No voices match this filter."}),E.map(D=>a.jsxs(ge.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===D.name?"#93c5fd":Ha.border,backgroundColor:g.voice===D.name?"#eff6ff":Ha.card},onClick:()=>{b(K=>({...K,voice:D.name,voice_model:D.voice,voice_provider:D.provider||g.voice_provider})),m(!0),j(K=>({...K,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(oue,{isActive:l&&g.voice===D.name,onPlay:()=>V(D.audioSr||""),onStop:G})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&a.jsx(Ol,{children:w.voice})]},"step2"),t===3&&a.jsx(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ha.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(bl,{label:"Name",value:g.name||""}),a.jsx(bl,{label:"Model",value:`${g.provider}  ${g.model}`}),a.jsx(bl,{label:"Voice Provider",value:g.voice_provider}),a.jsx(bl,{label:"Voice",value:g.voice||""}),a.jsx(bl,{label:"Voice Model",value:g.voice_model||""}),a.jsx(bl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),a.jsx(bl,{label:"Attach Number",value:g.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(_b,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(_b,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(_b,{onClick:()=>H(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(gT,{onClick:U,children:["Next ",a.jsx(zn,{className:"ml-1 h-4 w-4"})]}):a.jsx(gT,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function lue({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:xT.map(({id:n,label:r,Icon:s})=>{const l=e===n;return a.jsxs(ge.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/xT.length*100}%`}})})]})}function gT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function _b({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Rd({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ol({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function bh({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Rd,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&a.jsx(Ol,{children:s})]})}function vT({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Rd,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Ol,{children:l})]})}function yT({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function bT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function bl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ha.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function oue({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(xc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(mf,{className:"h-5 w-5"})})})}const Cb="https://aisdr-dbt.ddns.net",wh={FILES:`${Cb}/api/files`,FILE:e=>`${Cb}/api/files/${e}`,SYNC_LEADS:`${Cb}/api/crm/ingest/hubspot`},cue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function yL(...e){return e.filter(Boolean).join(" ")}function hr({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function wT({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(hr,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function jh({label:e,value:t,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${r}`,children:a.jsx(gd,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Nh({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Sh({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function jT({id:e}){const[t,n]=v.useState(!1);return a.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?a.jsx(l0,{className:"h-3.5 w-3.5"}):a.jsx(zd,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function uue(){const e=Vt(),[t,n]=v.useState([]),[r,s]=v.useState(!1),[l,c]=v.useState(""),[d,f]=v.useState(""),[m,h]=v.useState("created_at"),[x,g]=v.useState("desc"),[b,w]=v.useState(!1),[j,S]=v.useState("New List"),[_,C]=v.useState(null),[k,O]=v.useState(!1),[A,E]=v.useState(!1),L=v.useRef(null),[M,V]=v.useState({open:!1,id:null,name:""}),[G,H]=v.useState(!1),U=v.useCallback(async()=>{const $=localStorage.getItem("token");if(!$){n([]),c("No auth token found."),Y.error("No authentication token found.");return}try{s(!0),c("");const ie=await fetch(wh.FILES,{headers:{Authorization:`Bearer ${$}`,Accept:"application/json"}});if(!ie.ok)throw new Error(`HTTP ${ie.status}`);const te=await ie.json();n(Array.isArray(te)?te:[])}catch(ie){c((ie==null?void 0:ie.message)||"Failed to load lists"),Y.error((ie==null?void 0:ie.message)||"Failed to load lists")}finally{s(!1)}},[]);v.useEffect(()=>{U()},[U]);const ne=v.useMemo(()=>{const $=d.trim().toLowerCase();return[...$?t.filter(pe=>[pe.name,pe.alphanumeric_id,pe.created_at].filter(Boolean).some(be=>String(be).toLowerCase().includes($))):t].sort((pe,be)=>{let je=pe[m],de=be[m];return m==="created_at"&&(je=new Date(pe.created_at).getTime(),de=new Date(be.created_at).getTime()),je<de?x==="asc"?-1:1:je>de?x==="asc"?1:-1:0})},[t,d,m,x]),we=t.length,ae=t.reduce(($,ie)=>$+(Number(ie.leads_count)||0),0),D=t[0]||null,K=$=>{m===$?g(ie=>ie==="asc"?"desc":"asc"):(h($),g("desc"))},q=$=>e(`/user/lead/${$.id}`);async function F($){const ie=localStorage.getItem("token");if(!ie)return Y.error("No authentication token found.");try{const te=await fetch(wh.FILE($),{method:"DELETE",headers:{Authorization:`Bearer ${ie}`,Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);Y.success(" List deleted"),V({open:!1,id:null,name:""}),n(pe=>pe.filter(be=>be.id!==$))}catch(te){Y.error((te==null?void 0:te.message)||"Delete failed")}}async function T(){const $=localStorage.getItem("token");if(!$)return Y.error("No authentication token found.");if(!_)return Y.info("Choose a CSV file");if(!j.trim())return Y.info("Enter a name");O(!0);try{const ie=new FormData;ie.append("file",_),ie.append("name",j.trim());const te=await fetch(wh.FILES,{method:"POST",headers:{Authorization:`Bearer ${$}`},body:ie});if(!te.ok){const pe=await te.text();throw new Error(pe||`HTTP ${te.status}`)}Y.success(" List created"),w(!1),C(null),S("New List"),U()}catch(ie){Y.error((ie==null?void 0:ie.message)||"Upload failed")}finally{O(!1)}}async function R(){const $=localStorage.getItem("token");if(!$)return Y.error("No authentication token found.");try{H(!0);const ie=await fetch(wh.SYNC_LEADS,{method:"POST",headers:{Authorization:`Bearer ${$}`,Accept:"application/json"}}),te=await ie.json().catch(()=>({}));if(!ie.ok)throw new Error((te==null?void 0:te.detail)||(te==null?void 0:te.message)||`HTTP ${ie.status}`);Y.success(" Leads sync started"),setTimeout(U,1500)}catch(ie){Y.error((ie==null?void 0:ie.message)||"Sync failed")}finally{H(!1)}}function I($){$.preventDefault(),E(!0)}function W($){$.preventDefault(),E(!1)}function ce($){var te;$.preventDefault(),E(!1);const ie=(te=$.dataTransfer.files)==null?void 0:te[0];if(ie){if(!B(ie))return Y.info("Please drop a .csv file");C(ie)}}function B($){const ie=/\.csv$/i.test($.name),te=$.type==="text/csv"||$.type==="application/vnd.ms-excel"||$.type==="";return ie||te}return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(gd,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${cue}`,children:"Lists"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from HubSpot."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(hr,{onClick:()=>w(!0),variant:"primary",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"})," New List"]}),a.jsx(hr,{onClick:U,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Refresh"]})}),a.jsx(hr,{onClick:R,disabled:G,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:G?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):a.jsx(a.Fragment,{children:"SYNC LEADS"})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(jh,{label:"Total Lists",value:we}),a.jsx(jh,{label:"Total Leads",value:ae,tone:"cyan"}),a.jsx(jh,{label:"Last Created",value:D&&D.name||""}),a.jsx(jh,{label:"Newest Date",value:D?_h(D.created_at):"",tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:d,onChange:$=>f($.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(kb,{label:"Name",active:m==="name",dir:x,onClick:()=>K("name")}),a.jsx(kb,{label:"Leads",active:m==="leads_count",dir:x,onClick:()=>K("leads_count")}),a.jsx(kb,{label:"Created",active:m==="created_at",dir:x,onClick:()=>K("created_at")})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ne.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),r?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(He,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?a.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ne.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(gd,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),a.jsx("div",{className:"mt-3",children:a.jsxs(hr,{onClick:()=>w(!0),variant:"primary",children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"})," New List"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block w-full",children:a.jsxs("table",{className:"w-full table-fixed",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Nh,{children:"Name"}),a.jsx(Nh,{children:"Leads"}),a.jsx(Nh,{children:"Created"}),a.jsx(Nh,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map($=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsxs(Sh,{children:[a.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:"truncate max-w-[22rem]",children:$.name}),a.jsx(jT,{id:$.alphanumeric_id})]}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",$.id]})]}),a.jsx(Sh,{children:a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:$.leads_count??0})}),a.jsx(Sh,{children:a.jsx("span",{className:"text-sm text-slate-800",children:_h($.created_at)})}),a.jsx(Sh,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(hr,{onClick:()=>q($),size:"sm",title:"View",children:a.jsx(Kn,{className:"h-4 w-4"})}),a.jsx(hr,{onClick:()=>V({open:!0,id:$.id,name:$.name}),variant:"danger",size:"sm",title:"Delete",children:a.jsx(Yn,{className:"h-4 w-4"})})]})})]},$.id))})]})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map($=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:$.name,children:$.name}),a.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[a.jsx(jT,{id:$.alphanumeric_id}),a.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",$.id]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),a.jsx("div",{className:"font-semibold text-slate-900",children:$.leads_count??0})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),a.jsx("div",{className:"font-semibold text-slate-900 truncate",title:_h($.created_at),children:_h($.created_at)})]})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs(hr,{onClick:()=>q($),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"})," View"]}),a.jsxs(hr,{onClick:()=>V({open:!0,id:$.id,name:$.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},$.id))})})]})]})]}),a.jsx(_t,{children:b&&a.jsx(wT,{onClose:()=>w(!1),title:"Create New List",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),a.jsx("input",{value:j,onChange:$=>S($.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{onDragOver:I,onDragLeave:W,onDrop:ce,className:yL("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",A?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:a.jsx(gd,{className:"h-6 w-6 text-slate-700"})}),a.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),a.jsxs(hr,{type:"button",onClick:()=>{var $;return($=L.current)==null?void 0:$.click()},variant:"primary",className:"mt-2",children:[a.jsx(Pz,{className:"h-4 w-4 mr-2"})," Browse Files"]}),a.jsx("input",{ref:L,type:"file",accept:".csv,text/csv",onChange:$=>{var te;const ie=((te=$.target.files)==null?void 0:te[0])||null;if(!ie)return C(null);if(!B(ie)){Y.info("Please choose a .csv file"),$.target.value="";return}C(ie)},className:"hidden"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),_&&a.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[a.jsx(gd,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate max-w-[14rem]",children:_.name}),a.jsxs("span",{className:"opacity-70",children:[" ",due(_.size)]}),a.jsx("button",{onClick:()=>C(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:a.jsx(ir,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[a.jsx(hr,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),a.jsx(hr,{onClick:T,disabled:k,variant:"primary",children:k?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),a.jsx(_t,{children:M.open&&a.jsxs(wT,{onClose:()=>V({open:!1,id:null,name:""}),title:"Delete List?",children:[a.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",a.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(hr,{onClick:()=>V({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),a.jsxs(hr,{onClick:()=>F(M.id),variant:"danger",children:[a.jsx(Yn,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function _h(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function due(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${t[n]}`}function kb({label:e,active:t,dir:n,onClick:r}){const s=n==="asc"?wz:gz;return a.jsxs("button",{onClick:r,className:yL("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&a.jsx(s,{className:"h-4 w-4"})]})}const ki="https://aisdr-dbt.ddns.net",fue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function mue(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function hue(){const e=Vt(),{id:t}=cf(),n=Number(t),[r,s]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!0),[x,g]=v.useState(!1),[b,w]=v.useState(""),[j,S]=v.useState(""),_=mue(j,250),[C,k]=v.useState(""),[O,A]=v.useState("add_date"),[E,L]=v.useState("desc"),[M,V]=v.useState(1),[G,H]=v.useState(10),[U,ne]=v.useState(!1),[we,ae]=v.useState(!1),[D,K]=v.useState(!1),[q,F]=v.useState(!1),[T,R]=v.useState(null),[I,W]=v.useState(null),[ce,B]=v.useState(!1),[$,ie]=v.useState(!1),[te,pe]=v.useState(!1),[be,je]=v.useState(null),de=v.useRef(localStorage.getItem("token")||null),[Oe,Be]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Ze,X]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[fe,Z]=v.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),Ne=v.useCallback(async()=>{const Q=de.current;if(!Q){h(!1),w("No auth token found"),Y.error("No authentication token found.");return}try{h(!0),w("");const ee=await fetch(`${ki}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const se=await ee.json();s(Array.isArray(se)?se:[])}catch(ee){w((ee==null?void 0:ee.message)||"Failed to load leads"),Y.error((ee==null?void 0:ee.message)||"Failed to load leads")}finally{h(!1)}},[n]),Te=v.useCallback(async()=>{const Q=de.current;if(!Q||!n){c([]);return}try{const ee=await fetch(`${ki}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const se=await ee.json();c(Array.isArray(se==null?void 0:se.columns)?se.columns:[])}catch(ee){c([]),console.warn("Dynamic columns fetch failed:",ee)}},[n]),Ue=v.useCallback(async()=>{const Q=de.current;try{const ee=await fetch(`${ki}/api/get-assistants`,{headers:{Authorization:Q?`Bearer ${Q}`:"",Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const se=await ee.json(),Ke=(Array.isArray(se)?se:Array.isArray(se==null?void 0:se.assistants)?se.assistants:[]).filter(lt=>lt==null?void 0:lt.vapi_assistant_id);f(Ke)}catch(ee){console.error(ee),Y.error("Failed to load assistants"),f([])}},[]);v.useEffect(()=>{Ne(),Te(),Ue()},[t]);const Ae=v.useMemo(()=>{const Q=new Set;return r.forEach(ee=>(ee==null?void 0:ee.state)&&Q.add(ee.state)),Array.from(Q).sort((ee,se)=>ee.localeCompare(se))},[r]),Je=v.useMemo(()=>{const Q=_.trim().toLowerCase();return r.filter(se=>{var Ke,lt;return C&&(se.state||"")!==C?!1:Q?[se.first_name,se.last_name,se.email,se.mobile,se.salesforce_id,(Ke=se==null?void 0:se.other_data)==null?void 0:Ke.Custom_0,(lt=se==null?void 0:se.other_data)==null?void 0:lt.Custom_1].concat(Object.values((se==null?void 0:se.other_data)||{})).filter(Boolean).map(Qe=>String(Qe).toLowerCase()).some(Qe=>Qe.includes(Q)):!0})},[r,_,C]),Ye=v.useMemo(()=>{const Q=[...Je],ee=E==="asc"?1:-1;return Q.sort((se,$e)=>{const Ke=`${se.first_name||""} ${se.last_name||""}`.trim(),lt=`${$e.first_name||""} ${$e.last_name||""}`.trim();let Qe,wt;switch(O){case"name":Qe=Ke.toLowerCase(),wt=lt.toLowerCase();break;case"email":Qe=(se.email||"").toLowerCase(),wt=($e.email||"").toLowerCase();break;case"mobile":Qe=(se.mobile||"").toLowerCase(),wt=($e.mobile||"").toLowerCase();break;case"add_date":default:Qe=new Date(se.add_date||0).getTime(),wt=new Date($e.add_date||0).getTime()}return Qe<wt?-1*ee:Qe>wt?1*ee:0}),Q},[Je,O,E]),vt=Ye.length,Ht=Math.max(1,Math.ceil(vt/G));v.useEffect(()=>{M>Ht&&V(Ht)},[M,Ht]);const It=(M-1)*G,un=Ye.slice(It,It+G),mt=r[r.length-1]||null,Vr=Q=>{var ee,se;R(Q.id),X({first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",mobile:Q.mobile||"",salesforce_id:Q.salesforce_id||"",custom0:((ee=Q==null?void 0:Q.other_data)==null?void 0:ee.Custom_0)||"",custom1:((se=Q==null?void 0:Q.other_data)==null?void 0:se.Custom_1)||"",add_date:Q.add_date||new Date().toISOString()}),K(!0)},Qs=async()=>{const Q=de.current;if(!(!Q||!T))try{F(!0);const ee={first_name:Ze.first_name.trim(),last_name:Ze.last_name.trim(),email:Ze.email.trim(),mobile:Ze.mobile.trim(),salesforce_id:Ze.salesforce_id.trim(),add_date:Ze.add_date,other_data:{Custom_0:Ze.custom0||"",Custom_1:Ze.custom1||""}},se=await fetch(`${ki}/api/leads/${T}`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),$e=await se.json();if(!se.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${se.status}`);Y.success(($e==null?void 0:$e.detail)||"Lead updated"),K(!1),R(null),Ne()}catch(ee){Y.error((ee==null?void 0:ee.message)||"Update failed")}finally{F(!1)}},Js=async()=>{const Q=de.current;if(!Q)return Y.error("Missing token");if(!Oe.first_name||!Oe.last_name||!Oe.email||!Oe.mobile)return Y.info("Please fill first, last, email and mobile.");try{ae(!0);const ee={first_name:Oe.first_name.trim(),last_name:Oe.last_name.trim(),email:Oe.email.trim(),add_date:Oe.add_date,mobile:Oe.mobile.trim(),file_id:n||null,salesforce_id:Oe.salesforce_id.trim(),other_data:{Custom_0:Oe.custom0||"",Custom_1:Oe.custom1||""}},se=await fetch(`${ki}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!se.ok)throw new Error(`HTTP ${se.status}`);await se.json(),Y.success("Lead added"),ne(!1),Be({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),Ne()}catch(ee){Y.error((ee==null?void 0:ee.message)||"Failed to add lead")}finally{ae(!1)}},La=async()=>{const Q=de.current;if(!(!Q||!I))try{const ee=await fetch(`${ki}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[I]})});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);await ee.json(),Y.success("Lead deleted"),W(null),te&&pe(!1),Ne()}catch(ee){Y.error((ee==null?void 0:ee.message)||"Delete failed")}},$a=async()=>{const Q=de.current;if(!Q)return Y.error("Missing token");try{g(!0);const ee=await fetch(`${ki}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),se=await ee.json().catch(()=>({}));if(!ee.ok||(se==null?void 0:se.success)===!1)throw new Error((se==null?void 0:se.detail)||`HTTP ${ee.status}`);Y.success(`Synced HubSpot: ${(se==null?void 0:se.created)||0} created, ${(se==null?void 0:se.updated)||0} updated`),Ne()}catch(ee){Y.error((ee==null?void 0:ee.message)||"HubSpot sync failed")}finally{g(!1)}},Xn=Q=>{if(!Q)return"";const ee=String(Q).trim();return ee.startsWith("+")?"+"+ee.slice(1).replace(/\D+/g,""):ee.replace(/\D+/g,"")},Zn=Q=>{var $e,Ke,lt,Qe,wt,Ct,xa,dn,yt,Zt;const se=[Q==null?void 0:Q.mobile,Q==null?void 0:Q.phone,($e=Q==null?void 0:Q.other_data)==null?void 0:$e.phone,(Ke=Q==null?void 0:Q.other_data)==null?void 0:Ke.Phone,(lt=Q==null?void 0:Q.other_data)==null?void 0:lt.mobile,(Qe=Q==null?void 0:Q.other_data)==null?void 0:Qe.Mobile,(wt=Q==null?void 0:Q.other_data)==null?void 0:wt.telephone,(Ct=Q==null?void 0:Q.other_data)==null?void 0:Ct.Telephone,(xa=Q==null?void 0:Q.other_data)==null?void 0:xa.cell,(dn=Q==null?void 0:Q.other_data)==null?void 0:dn.Cell,(yt=Q==null?void 0:Q.other_data)==null?void 0:yt.Custom_0,(Zt=Q==null?void 0:Q.other_data)==null?void 0:Zt.Custom_1].filter(Boolean).find(Boolean);return Xn(se||"")},lr=Q=>{const ee=Zn(Q);ee||Y.info("No phone number on this lead  you can still enter one to call.");const se=localStorage.getItem("lastAssistantId")||"",$e=d.find(Ke=>String(Ke.id)===String(se)&&(Ke==null?void 0:Ke.vapi_assistant_id))||d.find(Ke=>Ke==null?void 0:Ke.vapi_assistant_id)||null;Z({vapi_assistant_id:($e==null?void 0:$e.vapi_assistant_id)||"",assistant_id:($e==null?void 0:$e.id)||"",number:ee,first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",lead_id:Q.id}),B(!0)},ei=async Q=>{if(Q.preventDefault(),$)return;const ee=de.current,{vapi_assistant_id:se,number:$e,first_name:Ke,last_name:lt,email:Qe}=fe;if(!se)return Y.error("Select an assistant first");if(!$e)return Y.error("Enter a phone number");const wt=Xn($e);if(!wt)return Y.error("Invalid phone number");try{ie(!0);const Ct=`${ki}/api/phone-call/${encodeURIComponent(se)}/${encodeURIComponent(wt)}`,xa={first_name:Ke||"Caller",last_name:lt||"",email:Qe||"caller@example.com",add_date:new Date().toISOString(),mobile_no:wt,custom_field_01:null,custom_field_02:null},dn=await fetch(Ct,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ee?`Bearer ${ee}`:""},body:JSON.stringify(xa)}),yt=await dn.json().catch(()=>({}));if(!dn.ok||(yt==null?void 0:yt.success)===!1)throw new Error((yt==null?void 0:yt.detail)||`HTTP ${dn.status}`);fe.assistant_id&&localStorage.setItem("lastAssistantId",String(fe.assistant_id)),Y.success("Call initiated"),B(!1)}catch(Ct){Y.error((Ct==null?void 0:Ct.message)||"Failed to initiate call")}finally{ie(!1)}},me=()=>{if(Ye.length===0)return Y.info("Nothing to export.");const Q=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ee=Array.from(new Set(["Custom_0","Custom_1",...l])),se=[...Q,...ee],$e=Ye.map(Ct=>{const xa=[Ct.id??"",Ai(Ct.first_name),Ai(Ct.last_name),Ai(Ct.email),Ai(Ct.mobile),Ai(Ct.salesforce_id),Ai(Ct.state),Ai(Ct.add_date)],dn=ee.map(yt=>{var Zt;return Ai((Zt=Ct==null?void 0:Ct.other_data)==null?void 0:Zt[yt])});return[...xa,...dn]}),Ke=[se,...$e].map(Ct=>Ct.join(",")).join(`
`),lt=new Blob([Ke],{type:"text/csv;charset=utf-8;"}),Qe=URL.createObjectURL(lt),wt=document.createElement("a");wt.href=Qe,wt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),URL.revokeObjectURL(Qe)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Kn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${fue}`,children:"Leads"})}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",a.jsx("b",{children:n||""})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Lt,{onClick:()=>ne(!0),variant:"primary",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"})," New Lead"]}),a.jsx(Lt,{onClick:$a,disabled:x,children:x?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),a.jsx(Lt,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),a.jsxs(Lt,{onClick:me,children:[a.jsx(Bd,{className:"mr-2 h-4 w-4"}),"Export"]}),a.jsxs(Lt,{onClick:Ne,children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(Ab,{label:"Total Leads",value:vt}),a.jsx(Ab,{label:"Selected File",value:n||""}),a.jsx(Ab,{label:"Last Created",value:mt&&`${mt.first_name||""} ${mt.last_name||""}`.trim()||"",sub:mt!=null&&mt.add_date?NT(mt.add_date):mt?"Just now":"No leads yet"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:j,onChange:Q=>{S(Q.target.value),V(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Lc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:C,onChange:Q=>{k(Q.target.value),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"",children:"All states"}),Ae.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]}),a.jsx("select",{value:`${O}:${E}`,onChange:Q=>{const[ee,se]=Q.target.value.split(":");A(ee),L(se)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Q,ee,se])=>a.jsx("option",{value:`${Q}:${ee}`,children:se},`${Q}:${ee}`))}),a.jsx("select",{value:G,onChange:Q=>{H(Number(Q.target.value)),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Q=>a.jsxs("option",{value:Q,children:[Q," / page"]},Q))})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Kn,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",Ye.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(He,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):Ye.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Kn,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Ch,{children:"Name"}),a.jsx(Ch,{children:"Email"}),a.jsx(Ch,{children:"Phone"}),a.jsx(Ch,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:un.map(Q=>{const ee=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",se=Q.mobile||Zn(Q)||"";return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(kh,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ee}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]})}),a.jsx(kh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Q.email||""})}),a.jsx(kh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:se})}),a.jsx(kh,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(Q),size:"sm",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Vr(Q),size:"sm",children:[a.jsx(Sd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>{je(Q),pe(!0)},size:"sm",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Q.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:un.map((Q,ee)=>{const se=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",$e=Q.mobile||Zn(Q)||"";return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ee===0&&a.jsx(pue,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:se}),a.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Q.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:$e})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(Q),size:"sm",className:"grow sm:grow-0",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Vr(Q),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Sd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>{je(Q),pe(!0)},size:"sm",className:"grow sm:grow-0",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"}),"More"]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]},Q.id)})})}),Ye.length>G&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:It+1}),"",a.jsx("b",{children:Math.min(It+G,Ye.length)})," of ",a.jsx("b",{children:Ye.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Lt,{onClick:()=>V(Q=>Math.max(1,Q-1)),disabled:M===1,children:[a.jsx(da,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Ht)},(Q,ee)=>{let se;if(Ht<=5||M<=3?se=ee+1:M>=Ht-2?se=Ht-4+ee:se=M-2+ee,se<1||se>Ht)return null;const $e=M===se;return a.jsx("button",{onClick:()=>V(se),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$e?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:se},se)})}),a.jsxs(Lt,{onClick:()=>V(Q=>Math.min(Ht,Q+1)),disabled:M>=Ht,children:["Next",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:U&&a.jsxs(Ah,{onClose:()=>ne(!1),title:"Create Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"First name",children:a.jsx("input",{value:Oe.first_name,onChange:Q=>Be(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:Oe.last_name,onChange:Q=>Be(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:Oe.email,onChange:Q=>Be(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Mobile (digits only)",children:a.jsx("input",{value:Oe.mobile,onChange:Q=>Be(ee=>({...ee,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"External ID",children:a.jsx("input",{value:Oe.salesforce_id,onChange:Q=>Be(ee=>({...ee,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Add date (ISO)",children:a.jsx("input",{value:Oe.add_date,onChange:Q=>Be(ee=>({...ee,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),a.jsx(hn,{label:"Custom_0",children:a.jsx("input",{value:Oe.custom0,onChange:Q=>Be(ee=>({...ee,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_1",children:a.jsx("input",{value:Oe.custom1,onChange:Q=>Be(ee=>({...ee,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>ne(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:Js,disabled:we||!Oe.first_name||!Oe.last_name||!Oe.email||!Oe.mobile,variant:"primary",children:we?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(_t,{children:D&&a.jsxs(Ah,{onClose:()=>K(!1),title:"Edit Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"First name",children:a.jsx("input",{value:Ze.first_name,onChange:Q=>X(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:Ze.last_name,onChange:Q=>X(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:Ze.email,onChange:Q=>X(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Mobile (digits only)",children:a.jsx("input",{value:Ze.mobile,onChange:Q=>X(ee=>({...ee,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"External ID",children:a.jsx("input",{value:Ze.salesforce_id,onChange:Q=>X(ee=>({...ee,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Add date (ISO)",children:a.jsx("input",{value:Ze.add_date,onChange:Q=>X(ee=>({...ee,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_0",children:a.jsx("input",{value:Ze.custom0,onChange:Q=>X(ee=>({...ee,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_1",children:a.jsx("input",{value:Ze.custom1,onChange:Q=>X(ee=>({...ee,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>K(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:Qs,disabled:q,variant:"primary",children:q?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(_t,{children:ce&&a.jsx(Ah,{onClose:()=>B(!1),title:"Start Phone Call",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsxs("select",{value:fe.assistant_id,onChange:Q=>{const ee=d.find(se=>String(se.id)===String(Q.target.value));Z(se=>({...se,assistant_id:Q.target.value,vapi_assistant_id:(ee==null?void 0:ee.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select assistant"}),d.map(Q=>a.jsx("option",{value:Q.id,children:Q.name||`Assistant ${Q.id}`},Q.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"Phone Number",children:a.jsx("input",{value:fe.number,onChange:Q=>Z(ee=>({...ee,number:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:fe.email,onChange:Q=>Z(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"First name",children:a.jsx("input",{value:fe.first_name,onChange:Q=>Z(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:fe.last_name,onChange:Q=>Z(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>B(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:ei,disabled:$,variant:"primary",children:$?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),a.jsx(_t,{children:I&&a.jsxs(Ah,{onClose:()=>W(null),title:"Delete Lead?",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:a.jsx(CB,{className:"h-5 w-5"})}),a.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),a.jsxs(Lt,{onClick:La,variant:"danger",children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),a.jsx(_t,{children:te&&be&&a.jsx(xue,{onClose:()=>pe(!1),title:"Lead Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${be.first_name||""} ${be.last_name||""}`.trim()||""}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:be.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:be.mobile||Zn(be)||""}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",be.id,"  ",be.salesforce_id||"No Ext ID"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Eb,{label:"State",value:be.state||""}),a.jsx(Eb,{label:"Timezone",value:be.timezone||""}),a.jsx(Eb,{label:"Added",value:NT(be.add_date)||""})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(qo,{label:"First name",value:be.first_name||""}),a.jsx(qo,{label:"Last name",value:be.last_name||""}),a.jsx(qo,{label:"Email",value:be.email||""}),a.jsx(qo,{label:"Mobile",value:be.mobile||Zn(be)||""}),a.jsx(qo,{label:"External ID",value:be.salesforce_id||""})]})]}),l&&l.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Q=>{var ee;return a.jsx(qo,{label:Q,value:((ee=be==null?void 0:be.other_data)==null?void 0:ee[Q])??""},Q)})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(be),children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Vr(be),children:[a.jsx(Sd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>W(be.id),variant:"danger",children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Lt({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Ab({label:e,value:t,sub:n}){return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),n&&a.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function pue(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Ch({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function kh({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function hn({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Eb({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function qo({label:e,value:t}){return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function Ah({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Lt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function xue({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(ge.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Lt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function NT(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Ai(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const gue=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(!0),[h,x]=v.useState(0),[g,b]=v.useState(""),w=v.useRef(null),{id:j}=cf(),S=5*1024*1024,_="https://aisdr-dbt.ddns.net",C=()=>localStorage.getItem("token"),k=G=>{G&&G.type==="text/csv"?G.size>S?M("File size exceeds 5MB limit.",!1):t(G):M("Please upload a valid CSV file.",!1)},O=G=>{const H=G.target.files[0];k(H)},A=()=>w.current.click(),E=()=>{const G=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,H=new Blob([G],{type:"text/csv"}),U=window.URL.createObjectURL(H),ne=document.createElement("a");ne.href=U,ne.download="sample_users.csv",ne.click(),window.URL.revokeObjectURL(U)},L=async()=>{if(!e)return M("No file selected.",!1);if(!g.trim())return M("Please provide a list name.",!1);const G=C();if(!G)return M("Please log in first.",!1);const H=new FormData;H.append("file",e),H.append("name",g);try{r(!0),x(50);const U=await fetch(`${_}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${G}`},body:H});if(x(100),U.ok)M("CSV file uploaded successfully!",!0),t(null),b(""),w.current&&(w.current.value="");else{const ne=await U.json();throw new Error(ne.detail||`HTTP ${U.status}`)}}catch(U){console.error(U),M("Upload failed. Please try again.",!1)}finally{r(!1),x(0)}},M=(G,H)=>{d(G),m(H),l(!0)},V=G=>G<1024?`${G} B`:G<1024*1024?`${(G/1024).toFixed(2)} KB`:`${(G/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx(AO,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),a.jsx("input",{type:"text",placeholder:"Enter list name",value:g,onChange:G=>b(G.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:O,ref:w,className:"hidden"}),a.jsx("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),a.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[a.jsx(CO,{})," Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",V(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:L,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?a.jsx(_O,{className:"text-green-500 text-2xl"}):a.jsx(kO,{className:"text-red-500 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:c}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Tb={},t0="https://aisdr-dbt.ddns.net",n0=(Tb==null?void 0:Tb.VITE_API_PREFIX)||"/api",kr=`${t0}${n0}/campaigns/campaigns`,Ar={LIST:kr,CREATE:kr,DETAIL:e=>`${kr}/${e}`,STATS:e=>`${kr}/${e}/stats`,SCHEDULE:e=>`${kr}/${e}/schedule`,RETRY:e=>`${kr}/${e}/retry-policy`,PAUSE:e=>`${kr}/${e}/pause`,RESUME:e=>`${kr}/${e}/resume`,STOP:e=>`${kr}/${e}/stop`,RUN_NOW:e=>`${kr}/${e}/run-now`,ICS:e=>`${kr}/${e}/calendar.ics`,DELETE:e=>`${kr}/${e}`,REFRESH_LEADS:e=>`${kr}/${e}/refresh-leads`},Pb={FILES:`${t0}${n0}/files`,ASSISTANTS:`${t0}${n0}/get-assistants`,LEADS:e=>`${t0}${n0}/leads${e?`?file_id=${e}`:""}`};function Oa(...e){return e.filter(Boolean).join(" ")}const r0=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function vue(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function Ob(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function yue(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function Eh(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}-${r}-${s}T${l}:${c}`}function Th(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function bue(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const n=Math.max(0,t-Date.now()),r=Math.floor(n/1e3),s=Math.floor(r/60),l=r%60;return s>0?`${s}m ${l}s`:`${l}s`}const na={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Mb={show:{transition:{staggerChildren:.05}}},ST={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},_T={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},wue={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},jue={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Na({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return a.jsx(ge.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Oa("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Db({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Ph({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?a.jsx(Na,{tone:"blue",children:"Scheduled"}):t==="running"?a.jsx(Na,{tone:"green",children:"Running"}):t==="paused"?a.jsx(Na,{tone:"orange",children:"Paused"}):t==="stopped"?a.jsx(Na,{tone:"red",children:"Stopped"}):t==="completed"?a.jsx(Na,{tone:"purple",children:"Completed"}):t==="draft"?a.jsx(Na,{tone:"slate",children:"Draft"}):a.jsx(Na,{tone:"slate",children:r0(e)})}const bL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function wL(e,t){const n=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const s=Math.round(n/r*100);return Math.min(100,Math.max(0,s))}function jL({active:e=!1}){return e?a.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function CT({done:e,total:t,status:n}){const r=wL(e,t),s=["scheduled","running"].includes(String(n||"").toLowerCase());return a.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[a.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:a.jsx(ge.div,{className:Oa("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),a.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),a.jsx(jL,{active:s})]})}function Nue({totals:e}){const t=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[a.jsx(ge.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),a.jsx(ge.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+r)},initial:{width:0},animate:{width:c(n+r)}}),a.jsx(ge.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+r+s)},initial:{width:0},animate:{width:c(n+r+s)}})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),a.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[wL(n,t),"%"]})]})]})}function kT(){var Ke,lt,Qe,wt,Ct,xa,dn,yt,Zt,as,so,Df,Rf,Qc,ti,io,ss,is,ni,ls;const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState([]),[m,h]=v.useState([]),[x,g]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(""),_=vue(j,250),[C,k]=v.useState("created_at"),[O,A]=v.useState("desc"),[E,L]=v.useState(1),[M,V]=v.useState(10),[G,H]=v.useState(!1),[U,ne]=v.useState(1),[we,ae]=v.useState(!1),[D,K]=v.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[q,F]=v.useState(""),[T,R]=v.useState(!1),[I,W]=v.useState(null),[ce,B]=v.useState(!1),[$,ie]=v.useState(null),[te,pe]=v.useState(null);v.useEffect(()=>{if(!T||!(I!=null&&I.id))return;un(I.id),mt(I.id);const oe=setInterval(()=>{un(I.id),mt(I.id),de()},4e3);return()=>clearInterval(oe)},[T,I==null?void 0:I.id]),v.useEffect(()=>{if(!e.current){s(!1),Y.error("No auth token found. Please log in.");return}be()},[]);async function be(){s(!0);try{await Promise.all([de(),Oe(),Be()])}finally{s(!1)}}async function je(oe,ke={}){if(!e.current)throw Y.error("No auth token found. Please log in."),new Error("No token");return await fetch(oe,{...ke,headers:{...ke.headers||{},Authorization:`Bearer ${e.current}`}})}async function de(){try{const oe=await je(Ar.LIST);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const ke=await oe.json();n(Array.isArray(ke)?ke:[])}catch(oe){console.error(oe),Y.error("Failed to fetch campaigns"),n([])}}async function Oe(){try{const oe=await je(Pb.FILES);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const ke=await oe.json();f(Array.isArray(ke)?ke:(ke==null?void 0:ke.items)||[])}catch(oe){console.warn("Files fetch failed:",oe.message),f([])}}async function Be(){try{const oe=await je(Pb.ASSISTANTS);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const ke=await oe.json(),Pe=(Array.isArray(ke)&&ke||(ke==null?void 0:ke.items)||(ke==null?void 0:ke.assistants)||(ke==null?void 0:ke.data)||[]).filter(Me=>Me&&Me.id!==void 0&&Me.id!==null);h(Pe)}catch(oe){console.warn("Assistants fetch failed:",oe.message),h([])}}async function Ze(oe){if(!oe){g([]);return}try{w(!0);const ke=await je(Pb.LEADS(oe));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json(),Pe=Array.isArray(Le)?Le:(Le==null?void 0:Le.leads)||(Le==null?void 0:Le.items)||[];g(Pe)}catch(ke){console.warn("Leads fetch failed:",ke.message),g([])}finally{w(!1)}}async function X(){c(!0);try{await de()}finally{c(!1)}}const fe=v.useMemo(()=>{const oe=_.trim().toLowerCase(),ke=t.filter(Pe=>oe?[(Pe.name||"").toLowerCase(),(Pe.status||"").toLowerCase(),String(Pe.id||""),String(Pe.file_id||""),String(Pe.assistant_id||"")].some(ot=>ot.includes(oe)):!0),Le=O==="asc"?1:-1;return ke.sort((Pe,Me)=>{let ot,Qn;switch(C){case"name":ot=(Pe.name||"").toLowerCase(),Qn=(Me.name||"").toLowerCase();break;case"status":ot=(Pe.status||"").toLowerCase(),Qn=(Me.status||"").toLowerCase();break;case"calls_per_minute":ot=Pe.calls_per_minute||0,Qn=Me.calls_per_minute||0;break;case"created_at":default:ot=new Date(Pe.created_at||0).getTime(),Qn=new Date(Me.created_at||0).getTime()}return ot<Qn?-1*Le:ot>Qn?1*Le:0}),ke},[t,_,C,O]),Z=fe.length,Ne=Math.max(1,Math.ceil(Z/M));v.useEffect(()=>{E>Ne&&L(Ne)},[E,Ne]);const Te=(E-1)*M,Ue=Te+M,Ae=fe.slice(Te,Ue),Je=v.useMemo(()=>{const oe=fe.length,ke=fe.filter(Pe=>(Pe.status||"").toLowerCase()==="running").length,Le=fe.filter(Pe=>(Pe.status||"").toLowerCase()==="paused").length;return{total:oe,running:ke,paused:Le}},[fe]);function Ye(oe){const{name:ke,value:Le,type:Pe,checked:Me}=oe.target;K(ot=>{const Qn={...ot,[ke]:Pe==="checkbox"?Me:Le};if(ke==="file_id"){const Jc=Number(Le)||"";Jc?Ze(Jc):g([]),Qn.include_lead_ids=[],Qn.exclude_lead_ids=[]}return ke==="selection_mode"&&(Qn.include_lead_ids=[],Qn.exclude_lead_ids=[]),Qn})}function vt(oe){K(ke=>{const Pe=ke.days_of_week.includes(oe)?ke.days_of_week.filter(Me=>Me!==oe):[...ke.days_of_week,oe];return Pe.sort((Me,ot)=>Me-ot),{...ke,days_of_week:Pe}})}async function Ht(){var ke,Le;if(!D.name||!D.file_id||!D.assistant_id){Y.error("Name, File and Assistant are required.");return}if(D.selection_mode!=="ALL"&&D.file_id&&x.length===0){Y.error("No leads available for the selected file.");return}const oe={name:String(D.name).trim(),file_id:Number(D.file_id),assistant_id:Number(D.assistant_id),selection_mode:D.selection_mode,include_lead_ids:D.selection_mode==="ONLY"&&((ke=D.include_lead_ids)!=null&&ke.length)?D.include_lead_ids:null,exclude_lead_ids:D.selection_mode==="SKIP"&&((Le=D.exclude_lead_ids)!=null&&Le.length)?D.exclude_lead_ids:null,timezone:D.timezone||"America/Los_Angeles",days_of_week:D.days_of_week,daily_start:D.daily_start||"09:00",daily_end:D.daily_end||"18:00",start_at:Th(D.start_at),end_at:Th(D.end_at),calls_per_minute:Number(D.calls_per_minute)||10,parallel_calls:Number(D.parallel_calls)||2,retry_on_busy:!!D.retry_on_busy,busy_retry_delay_minutes:Number(D.busy_retry_delay_minutes)||15,max_attempts:Number(D.max_attempts)||3};try{ae(!0);const Pe=await je(Ar.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);Y.success((Me==null?void 0:Me.detail)||"Campaign created."),H(!1),ne(1),K(ot=>({...ot,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await de()}catch(Pe){console.error(Pe),Y.error((Pe==null?void 0:Pe.message)||"Create failed")}finally{ae(!1)}}async function It(oe){W(oe),R(!0),await Promise.all([un(oe.id),mt(oe.id)])}async function un(oe){if(oe)try{B(!0);const ke=await je(Ar.DETAIL(oe));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json();ie(Le)}catch(ke){console.error(ke),Y.error("Failed to load campaign details"),ie(null)}finally{B(!1)}}async function mt(oe){if(oe)try{const ke=await je(Ar.STATS(oe));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json();pe(Le)}catch(ke){console.error(ke)}}async function Vr(oe,ke,Le){try{const Pe=await je(oe(ke),{method:"POST"}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);Y.success((Me==null?void 0:Me.detail)||Le),await de(),I&&I.id===ke&&(await un(ke),await mt(ke))}catch(Pe){console.error(Pe),Y.error((Pe==null?void 0:Pe.message)||"Action failed")}}const Qs=oe=>Vr(Ar.PAUSE,oe,"Paused"),Js=oe=>Vr(Ar.RESUME,oe,"Resumed"),La=oe=>Vr(Ar.STOP,oe,"Stopped"),$a=oe=>Vr(Ar.REFRESH_LEADS,oe,"Leads synced");async function Xn(oe){if(confirm("Delete this campaign and its progress rows?"))try{const ke=await je(Ar.DELETE(oe),{method:"DELETE"}),Le=await ke.json().catch(()=>({}));if(!ke.ok||(Le==null?void 0:Le.success)===!1)throw new Error((Le==null?void 0:Le.detail)||`HTTP ${ke.status}`);Y.success((Le==null?void 0:Le.detail)||"Deleted"),R(!1),W(null),await de()}catch(ke){console.error(ke),Y.error((ke==null?void 0:ke.message)||"Delete failed")}}async function Zn(oe,ke){try{const Le=await je(Ar.RUN_NOW(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(ke)||5})}),Pe=await Le.json().catch(()=>({}));if(!Le.ok||(Pe==null?void 0:Pe.success)===!1)throw new Error((Pe==null?void 0:Pe.detail)||`HTTP ${Le.status}`);Y.success((Pe==null?void 0:Pe.detail)||"Triggered."),await mt(oe)}catch(Le){console.error(Le),Y.error((Le==null?void 0:Le.message)||"Run-now failed")}}async function lr(oe,ke){var Pe;const Le={timezone:ke.timezone||void 0,days_of_week:(Pe=ke.days_of_week)!=null&&Pe.length?ke.days_of_week:void 0,daily_start:ke.daily_start||void 0,daily_end:ke.daily_end||void 0,start_at:Th(ke.start_at),end_at:Th(ke.end_at)};try{const Me=await je(Ar.SCHEDULE(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)}),ot=await Me.json().catch(()=>({}));if(!Me.ok||(ot==null?void 0:ot.success)===!1)throw new Error((ot==null?void 0:ot.detail)||`HTTP ${Me.status}`);Y.success((ot==null?void 0:ot.detail)||"Schedule updated"),await de(),await un(oe),await mt(oe)}catch(Me){console.error(Me),Y.error((Me==null?void 0:Me.message)||"Update failed")}}async function ei(oe,ke){const Le={retry_on_busy:!!ke.retry_on_busy,busy_retry_delay_minutes:Number(ke.busy_retry_delay_minutes)||15,max_attempts:Number(ke.max_attempts)||3};try{const Pe=await je(Ar.RETRY(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);Y.success((Me==null?void 0:Me.detail)||"Retry policy updated"),await un(oe),await mt(oe)}catch(Pe){console.error(Pe),Y.error((Pe==null?void 0:Pe.message)||"Update failed")}}async function me(oe,ke="campaign"){try{const Le=await je(Ar.ICS(oe));if(!Le.ok)throw new Error(`HTTP ${Le.status}`);const Pe=await Le.blob(),Me=URL.createObjectURL(Pe),ot=document.createElement("a");ot.href=Me,ot.download=`${ke||"campaign"}.ics`,document.body.appendChild(ot),ot.click(),ot.remove(),URL.revokeObjectURL(Me)}catch(Le){console.error(Le),Y.error("ICS download failed")}}const Q=()=>{H(!0),ne(1)},ee=()=>{H(!1),ne(1),K(oe=>({...oe,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},se=()=>{ne(oe=>Math.min(6,oe+1))},$e=()=>{ne(oe=>Math.max(1,oe-1))};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:na,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(Ei,{onClick:X,disabled:l,icon:l?a.jsx(Gn,{className:"h-4 w-4 animate-spin"}):a.jsx(He,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),a.jsxs(zi,{onClick:Q,icon:a.jsx(Xa,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:_T,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:j,onChange:oe=>{S(oe.target.value),L(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:Z})]}),a.jsx("select",{value:M,onChange:oe=>{V(Number(oe.target.value)),L(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(oe=>a.jsxs("option",{value:oe,children:[oe," / page"]},oe))})]})]}),a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:Mb,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx(ge.div,{variants:na,children:a.jsx(Db,{label:"Total Campaigns",value:Je.total,Icon:tr,tone:"blue"})}),a.jsx(ge.div,{variants:na,children:a.jsx(Db,{label:"Running",value:Je.running,Icon:ar,tone:"cyan"})}),a.jsx(ge.div,{variants:na,className:"sm:col-span-2 lg:col-span-1",children:a.jsx(Db,{label:"Paused",value:Je.paused,Icon:ca,tone:"blue"})})]}),a.jsx(ge.div,{initial:"hidden",animate:"show",variants:_T,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("div",{className:"min-w-full",children:[a.jsx("div",{className:"block sm:hidden",children:r?a.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((oe,ke)=>a.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},ke))}):a.jsx("div",{className:"divide-y divide-slate-200",children:Ae.map((oe,ke)=>{var Me,ot;const Le=((Me=oe.counts)==null?void 0:Me.total)||0,Pe=((ot=oe.counts)==null?void 0:ot.completed_or_failed)||0;return a.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ke*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>It(oe),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:r0(oe.name)}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",oe.id]})]}),a.jsx(Ph,{status:oe.status})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[a.jsx("span",{children:Ob(oe.created_at)}),a.jsxs("span",{children:[Le," leads"]})]}),a.jsx(CT,{done:Pe,total:Le,status:oe.status})]},oe.id)})})}),a.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:a.jsxs("tr",{children:[a.jsx($b,{sortKey:"name",sortBy:C,sortDir:O,onSort:oe=>Lb(oe,k,A),children:"Name"}),a.jsx($b,{sortKey:"status",sortBy:C,sortDir:O,onSort:oe=>Lb(oe,k,A),children:"Status"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),a.jsx($b,{sortKey:"calls_per_minute",sortBy:C,sortDir:O,onSort:oe=>Lb(oe,k,A),children:"Pacing"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:r?a.jsx(Aue,{rows:M,cols:9}):Ae.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ae.map(oe=>{var Pe,Me;const ke=((Pe=oe.counts)==null?void 0:Pe.total)||0,Le=((Me=oe.counts)==null?void 0:Me.completed_or_failed)||0;return a.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:a.jsx("button",{onClick:()=>It(oe),className:"group/cell flex items-center gap-2 text-left",children:r0(oe.name)})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(Ph,{status:oe.status})}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.file_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.assistant_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.calls_per_minute}),a.jsx("td",{className:"px-5 py-3 text-slate-600",children:Ob(oe.created_at)}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:ke}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(CT,{done:Le,total:ke,status:oe.status})}),a.jsx("td",{className:"px-5 py-3 text-right",children:a.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[a.jsx(Ei,{onClick:()=>me(oe.id,oe==null?void 0:oe.name),icon:a.jsx(Bd,{className:"h-4 w-4"}),children:"ICS"}),a.jsx(Ei,{onClick:()=>It(oe),icon:a.jsx(Kn,{className:"h-4 w-4"}),children:"Details"})]})})]},oe.id)})})]})]})}),a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:na,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",Z===0?0:(E-1)*M+1,"",Math.min(E*M,Z)," of ",Z]}),a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(np,{disabled:E<=1,onClick:()=>L(E-1),children:[a.jsx(da,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",Ne]}),a.jsxs(np,{disabled:E>=Ne,onClick:()=>L(E+1),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(zn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),a.jsx(_t,{children:G&&a.jsxs(a.Fragment,{children:[a.jsx(ge.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:ST,initial:"hidden",animate:"show",exit:"exit",onClick:ee}),a.jsx(ge.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:wue,initial:"hidden",animate:"show",exit:"exit",children:a.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx(Xa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",U," of 6"]})]})]}),a.jsx("button",{onClick:ee,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:a.jsx(ir,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[a.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(oe=>a.jsx(ge.div,{className:Oa("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",oe<=U?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:oe<=U?1:0},transition:{duration:.3,delay:oe*.05}},oe))}),a.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[a.jsx("span",{className:"hidden sm:inline",children:"Details"}),a.jsx("span",{className:"hidden sm:inline",children:"Files"}),a.jsx("span",{className:"hidden sm:inline",children:"Leads"}),a.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),a.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),a.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx(_t,{mode:"wait",children:a.jsxs(ge.div,{variants:jue,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[U===1&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),a.jsx("input",{value:D.name,onChange:Ye,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),a.jsxs("select",{value:D.assistant_id,onChange:Ye,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select assistant"}),m.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),a.jsx("textarea",{value:D.description,onChange:Ye,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),U===2&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),a.jsxs("select",{value:D.file_id,onChange:Ye,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select file"}),d.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),U===3&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),a.jsxs("select",{value:D.selection_mode,onChange:Ye,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"ALL",children:"All Leads"}),a.jsx("option",{value:"ONLY",children:"Only These Leads"}),a.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),D.selection_mode!=="ALL"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:q,onChange:oe=>F(oe.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),b?a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[a.jsx(Gn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):a.jsx(kue,{leads:x,mode:D.selection_mode,search:q,selectedIds:D.selection_mode==="ONLY"?D.include_lead_ids:D.exclude_lead_ids,onChange:oe=>{D.selection_mode==="ONLY"?K(ke=>({...ke,include_lead_ids:oe})):K(ke=>({...ke,exclude_lead_ids:oe}))}})]})]}),U===4&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:D.timezone,onChange:Ye,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:bL.map(oe=>a.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(oe=>a.jsx("button",{type:"button",onClick:()=>vt(oe),className:Oa("px-3 py-1.5 rounded-xl border text-sm",D.days_of_week.includes(oe)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][oe]},oe))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(xr,{label:"Daily start",name:"daily_start",value:D.daily_start,onChange:Ye,placeholder:"HH:MM"}),a.jsx(xr,{label:"Daily end",name:"daily_end",value:D.daily_end,onChange:Ye,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(xr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:D.start_at,onChange:Ye}),a.jsx(xr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:D.end_at,onChange:Ye})]})]})]}),U===5&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx(xr,{label:"Calls per minute",name:"calls_per_minute",value:D.calls_per_minute,onChange:Ye}),a.jsx(xr,{label:"Parallel calls",name:"parallel_calls",value:D.parallel_calls,onChange:Ye}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!D.retry_on_busy,onChange:Ye}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(xr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:D.busy_retry_delay_minutes,onChange:Ye}),a.jsx(xr,{label:"Max attempts",name:"max_attempts",value:D.max_attempts,onChange:Ye})]})]}),U===6&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),a.jsx("div",{className:"text-sm text-slate-600",children:D.name||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),a.jsx("div",{className:"text-sm text-slate-600",children:((Ke=d.find(oe=>String(oe.id)===String(D.file_id)))==null?void 0:Ke.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsx("div",{className:"text-sm text-slate-600",children:((lt=m.find(oe=>String(oe.id)===String(D.assistant_id)))==null?void 0:lt.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[Rb(D.days_of_week),"  ",D.daily_start,"",D.daily_end," (",D.timezone,")"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[D.calls_per_minute," CPM  ",D.parallel_calls," parallel"]})]})]})]})]},U)})}),a.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[a.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:U>1&&a.jsxs(Ei,{onClick:$e,icon:a.jsx(da,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Previous"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})}),a.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:U<6?a.jsxs(zi,{onClick:se,icon:a.jsx(zn,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),a.jsx("span",{className:"sm:hidden",children:"Next"})]}):a.jsx(zi,{onClick:Ht,disabled:we,icon:we?a.jsx(Gn,{className:"h-4 w-4 animate-spin"}):a.jsx(l0,{className:"h-4 w-4"}),children:we?"Creating...":"Create Campaign"})})]})]})})]})}),a.jsx(_t,{children:T&&a.jsxs(a.Fragment,{children:[a.jsx(ge.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:ST,initial:"hidden",animate:"show",exit:"exit",onClick:()=>R(!1)}),a.jsxs(ge.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsx("button",{onClick:()=>R(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:a.jsx(ir,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",I==null?void 0:I.id]}),a.jsx("p",{className:"text-xs text-slate-600 truncate",children:r0(I==null?void 0:I.name)})]})]}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(Ei,{onClick:()=>me(I.id,I==null?void 0:I.name),icon:a.jsx(Bd,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),a.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ph,{status:(te==null?void 0:te.status)||($==null?void 0:$.status)||(I==null?void 0:I.status)}),a.jsx(jL,{active:!!(te!=null&&te.active_now)}),te!=null&&te.active_now?a.jsx(Na,{tone:"green",children:"Active now"}):a.jsx(Na,{tone:"amber",children:"Idle"})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Az,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Local:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:Ob((Qe=te==null?void 0:te.now)==null?void 0:Qe.local)||""})]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Window: "}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Rb(((wt=te==null?void 0:te.window)==null?void 0:wt.days_of_week)??($==null?void 0:$.days_of_week)??(I==null?void 0:I.days_of_week))," "," ",((Ct=te==null?void 0:te.window)==null?void 0:Ct.daily_start)||($==null?void 0:$.daily_start)||(I==null?void 0:I.daily_start)||"09:00","",((xa=te==null?void 0:te.window)==null?void 0:xa.daily_end)||($==null?void 0:$.daily_end)||(I==null?void 0:I.daily_end)||"18:00"," ","(",(te==null?void 0:te.timezone)||($==null?void 0:$.timezone)||(I==null?void 0:I.timezone)||"Local",")"]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:te!=null&&te.next_tick_at?`${yue(te.next_tick_at)}  in ${bue(te.next_tick_at)}`:""})]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Nue,{totals:(te==null?void 0:te.totals)||($==null?void 0:$.totals)})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:Mb,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[a.jsxs(ge.div,{variants:na,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),a.jsx(Ph,{status:(te==null?void 0:te.status)||($==null?void 0:$.status)||(I==null?void 0:I.status)})]}),a.jsxs(ge.div,{variants:na,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),a.jsxs("div",{className:"text-sm text-slate-800",children:[a.jsx("div",{className:"truncate",children:Rb(((dn=te==null?void 0:te.window)==null?void 0:dn.days_of_week)??($==null?void 0:$.days_of_week)??(I==null?void 0:I.days_of_week))}),a.jsx("div",{className:"text-xs sm:text-sm",children:(((yt=te==null?void 0:te.window)==null?void 0:yt.daily_start)||($==null?void 0:$.daily_start)||(I==null?void 0:I.daily_start)||"09:00")+""+(((Zt=te==null?void 0:te.window)==null?void 0:Zt.daily_end)||($==null?void 0:$.daily_end)||(I==null?void 0:I.daily_end)||"18:00")}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(te==null?void 0:te.timezone)||($==null?void 0:$.timezone)||(I==null?void 0:I.timezone)||"Local"})]})]}),a.jsxs(ge.div,{variants:na,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),a.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[a.jsxs("div",{children:["Total: ",((as=te==null?void 0:te.totals)==null?void 0:as.total)??((so=$==null?void 0:$.totals)==null?void 0:so.total)??((Df=I==null?void 0:I.counts)==null?void 0:Df.total)??""]}),a.jsxs("div",{children:["Done: ",((Rf=te==null?void 0:te.totals)==null?void 0:Rf.done)??((Qc=$==null?void 0:$.totals)==null?void 0:Qc.done)??((ti=I==null?void 0:I.counts)==null?void 0:ti.completed_or_failed)??""]}),a.jsxs("div",{children:["Calling: ",((io=te==null?void 0:te.totals)==null?void 0:io.calling)??""]}),a.jsxs("div",{children:["Retry: ",((ss=te==null?void 0:te.totals)==null?void 0:ss.retry)??""]})]})]})]}),a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:na,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((te==null?void 0:te.status)||($==null?void 0:$.status)||(I==null?void 0:I.status)).toLowerCase()==="paused"?a.jsx(zi,{onClick:()=>Js(I.id),icon:a.jsx(mf,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):a.jsx(zi,{onClick:()=>Qs(I.id),icon:a.jsx(lB,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),a.jsx(Ei,{onClick:()=>La(I.id),icon:a.jsx(xc,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),a.jsx(Ei,{onClick:()=>$a(I.id),icon:a.jsx(He,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),a.jsx(Ei,{onClick:()=>Xn(I.id),icon:a.jsx(Yn,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),a.jsxs(ge.div,{initial:"hidden",animate:"show",variants:Mb,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(ge.div,{variants:na,children:a.jsx(_ue,{details:te!=null&&te.window?{...$,...te,days_of_week:(is=te.window)==null?void 0:is.days_of_week,daily_start:(ni=te.window)==null?void 0:ni.daily_start,daily_end:(ls=te.window)==null?void 0:ls.daily_end,timezone:te.timezone}:$,onSubmit:oe=>lr(I.id,oe),loading:ce})}),a.jsx(ge.div,{variants:na,children:a.jsx(Cue,{details:$,onSubmit:oe=>ei(I.id,oe),loading:ce})})]}),a.jsx(ge.div,{initial:"hidden",animate:"show",variants:na,children:a.jsx(Sue,{onRun:oe=>Zn(I.id,oe)})})]})]})]})})]})}function Sue({onRun:e}){const[t,n]=v.useState(5);return a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(P6,{className:"h-4 w-4"})," Run Now"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>n(Number(r.target.value)||5)}),a.jsx(zi,{onClick:()=>e(t),icon:a.jsx(mf,{className:"h-4 w-4"}),children:"Trigger"})]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function _ue({details:e,onSubmit:t,loading:n}){const[r,s]=v.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Eh(e==null?void 0:e.start_at),end_at:Eh(e==null?void 0:e.end_at)});v.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Eh(e==null?void 0:e.start_at),end_at:Eh(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))}function c(d){s(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,g)=>x-g),{...f,days_of_week:h}})}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(O6,{className:"h-4 w-4"})," Schedule"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:bL.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>a.jsx("button",{type:"button",onClick:()=>c(d),className:Oa("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(xr,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),a.jsx(xr,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(xr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),a.jsx(xr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(zi,{onClick:()=>t(r),disabled:n,children:"Save Schedule"})})]})]})}function Cue({details:e,onSubmit:t,loading:n}){const[r,s]=v.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});v.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;s(x=>({...x,[d]:m==="checkbox"?h:f}))}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(P6,{className:"h-4 w-4"})," Retry Policy"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(xr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),a.jsx(xr,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),a.jsx("div",{className:"flex justify-end",children:a.jsx(zi,{onClick:()=>t(r),disabled:n,children:"Save Retry Policy"})})]})]})}function kue({leads:e,mode:t,search:n,selectedIds:r,onChange:s}){const[l,c]=v.useState(1),d=12,f=v.useMemo(()=>{const w=(n||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,n]),m=Math.max(1,Math.ceil(f.length/d));v.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,g=f.slice(h,x);function b(w){const j=r.includes(w);s(j?r.filter(S=>S!==w):[...r,w])}return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[a.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:g.length===0?a.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):g.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return a.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.includes(w.id),onChange:()=>b(w.id)}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),a.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?a.jsx(Na,{tone:"red",children:"DNC"}):a.jsx(Na,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(np,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[a.jsx(da,{className:"h-3.5 w-3.5"})," Prev"]}),a.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),a.jsxs(np,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",a.jsx(zn,{className:"h-3.5 w-3.5"})]})]})]}),a.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",a.jsx("strong",{children:t}),"  Selected: ",a.jsx("strong",{children:r.length})]})]})}function Rb(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(r=>n.has(r))?"MonFri":n.size===7?"Every day":Array.from(n).sort((r,s)=>r-s).map(r=>t[r]||"?").join(", ")}function Lb(e,t,n){t(r=>r===e?(n(s=>s==="asc"?"desc":"asc"),r):(n(e==="created_at"?"desc":"asc"),e))}function zi({children:e,onClick:t,disabled:n,icon:r,type:s="button"}){return a.jsxs(ge.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:Oa("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Ei({children:e,onClick:t,icon:n,type:r="button",disabled:s}){return a.jsxs(ge.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:t,disabled:s,className:Oa("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function np({children:e,disabled:t,onClick:n}){return a.jsx(ge.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Oa("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function $b({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:s}){const l=n===t;return a.jsx("th",{className:Oa("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:Oa("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function Aue({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function xr({label:e,name:t,value:n,onChange:r,type:s="text",placeholder:l,className:c}){return a.jsxs("label",{className:Oa("block",c),children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:s,name:t,value:n??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const Ib={};var mc={};const Ti=typeof import.meta<"u"&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&(mc==null?void 0:mc.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Pi=typeof import.meta<"u"&&(Ib==null?void 0:Ib.VITE_API_PREFIX)||typeof process<"u"&&(mc==null?void 0:mc.NEXT_PUBLIC_API_PREFIX)||"/api",sd=typeof window<"u"?window.location.origin:"",Eue="/integrations",Tue=["hubspot"],Oi={PROVIDERS:`${Ti}${Pi}/crm/providers`,ACCOUNTS:`${Ti}${Pi}/crm/accounts`,CONNECT:e=>`${Ti}${Pi}/crm/connect/${e}`,DISCONNECT:e=>`${Ti}${Pi}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Ti}${Pi}/crm/ensure-fresh/${e}`,SET_TOKEN:e=>`${Ti}${Pi}/crm/token/${e}`,CONTACTS:e=>`${Ti}${Pi}/crm/${e}/contacts`,LEADS:e=>`${Ti}${Pi}/crm/${e}/leads`},Pue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Oue(...e){return e.filter(Boolean).join(" ")}function aa({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Mue({rows:e=6,cols:t=5}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-4 py-4",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Due({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(aa,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Rue({size:e=24}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"text-blue-600",fill:"none","aria-label":"HubSpot",children:[a.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"3.5",fill:"#2563eb"})]})}function Oh({label:e,value:t,Icon:n,tone:r="blue",valueClassName:s=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:Oue("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function AT({name:e="",size:t=38}){const n=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:a.jsx("span",{style:{fontSize:t<40?12:13},children:n||"?"})})}function Lue(){const e=v.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,s]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),[x,g]=v.useState(""),[b,w]=v.useState(!1),[j,S]=v.useState("contacts"),[_,C]=v.useState(25),[k,O]=v.useState([]),[A,E]=v.useState(null),[L,M]=v.useState({}),[V,G]=v.useState(""),[H,U]=v.useState(!1),ne=r.some(B=>B.crm==="hubspot"),we=r.find(B=>B.crm==="hubspot"),ae=v.useCallback(async(B,$={})=>{if(!e.current)throw new Error("No token");const ie={...$.headers||{},Authorization:`Bearer ${e.current}`};return $.body&&!ie["Content-Type"]&&(ie["Content-Type"]="application/json"),await fetch(B,{...$,headers:ie})},[]),D=v.useCallback(async()=>{try{const $=await(await ae(Oi.PROVIDERS)).json(),ie=Array.isArray($)?$:[];n(ie.filter(te=>Tue.includes(te==null?void 0:te.name)))}catch(B){console.error(B),n([]),Y.error("Failed to fetch providers")}},[ae]),K=v.useCallback(async()=>{try{const $=await(await ae(Oi.ACCOUNTS)).json(),ie=Array.isArray($)?$:[];s(ie.filter(te=>(te==null?void 0:te.crm)==="hubspot"))}catch(B){console.error(B),s([]),Y.error("Failed to fetch accounts")}},[ae]);v.useEffect(()=>{(async()=>{if(!e.current){Y.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([D(),K()])}finally{c(!1)}})()},[D,K]),v.useEffect(()=>{const B=new URLSearchParams(window.location.search),$=B.get("status"),ie=B.get("crm");if($&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:$,crm:ie},sd)}catch{}window.close()}},[]),v.useEffect(()=>{function B($){if($.origin!==sd)return;const ie=$.data||{};ie.type==="crm-oauth"&&(ie.status==="success"?Y.success("HUBSPOT connected"):Y.error(`OAuth error: ${ie.status||"unknown"}`),K(),f(!1))}return window.addEventListener("message",B),()=>window.removeEventListener("message",B)},[K]);async function q(){try{f(!0);const B={redirect_to:`${sd}${Eue}`},$=await ae(Oi.CONNECT("hubspot"),{method:"POST",body:JSON.stringify(B)}),ie=await $.json();if(!$.ok||!(ie!=null&&ie.auth_url))throw new Error((ie==null?void 0:ie.detail)||"Failed to start OAuth");const te=ie.auth_url,pe=680,be=760,je=window.screenX+Math.max(0,(window.outerWidth-pe)/2),de=window.screenY+Math.max(0,(window.outerHeight-be)/2),Oe=window.open(te,"crm-oauth",`width=${pe},height=${be},left=${je},top=${de}`);if(!Oe){window.location.href=te;return}const Be=Date.now(),Ze=setInterval(async()=>{if(Oe.closed||Date.now()-Be>12e4)clearInterval(Ze),await K(),f(!1);else try{await K()}catch{}},2e3)}catch(B){console.error(B),Y.error((B==null?void 0:B.message)||"OAuth failed to start"),f(!1)}}async function F(){if(!x.trim()){Y.error("Token is required");return}try{w(!0);const B=await ae(Oi.SET_TOKEN("hubspot"),{method:"POST",body:JSON.stringify({access_token:x.trim()})}),$=await B.json().catch(()=>({}));if(!B.ok||($==null?void 0:$.success)===!1)throw new Error(($==null?void 0:$.detail)||`HTTP ${B.status}`);Y.success(($==null?void 0:$.message)||"Token saved"),h(!1),await K()}catch(B){console.error(B),Y.error((B==null?void 0:B.message)||"Failed to save token")}finally{w(!1)}}async function T(){try{const B=await ae(Oi.ENSURE_FRESH("hubspot"),{method:"POST"}),$=await B.json().catch(()=>({}));if(!B.ok||($==null?void 0:$.success)===!1)throw new Error(($==null?void 0:$.detail)||`HTTP ${B.status}`);Y.success("Token refreshed"),await K()}catch(B){console.error(B),Y.error((B==null?void 0:B.message)||"Refresh failed")}}async function R(){if(confirm("Disconnect HubSpot?"))try{const B=await ae(Oi.DISCONNECT("hubspot"),{method:"DELETE"}),$=await B.json().catch(()=>({}));if(!B.ok||($==null?void 0:$.success)===!1)throw new Error(($==null?void 0:$.detail)||`HTTP ${B.status}`);Y.success(($==null?void 0:$.message)||"Disconnected"),await K(),O([]),E(null),M({})}catch(B){console.error(B),Y.error((B==null?void 0:B.message)||"Disconnect failed")}}async function I(B=!1){if(!ne){Y.info("Connect HubSpot first");return}try{U(!0);const $=j==="contacts"?Oi.CONTACTS("hubspot"):Oi.LEADS("hubspot"),ie=new URLSearchParams({limit:String(_||25)});let te=`${$}?${ie.toString()}`;!B&&A&&(te+=`&cursor=${encodeURIComponent(A)}`);const pe=await ae(te),be=await pe.json();if(!pe.ok)throw new Error((be==null?void 0:be.detail)||`HTTP ${pe.status}`);const je=(be==null?void 0:be.items)||[],de=(be==null?void 0:be.next_cursor)||null;O(Oe=>B?je:[...Oe,...je]),E(de),M((be==null?void 0:be.raw_paging)||{})}catch($){console.error($);const ie=String(($==null?void 0:$.message)||"");ie.includes("Invalid paging token")?(Y.error("Invalid/expired cursor; starting over."),E(null)):Y.error(ie||"Fetch failed")}finally{U(!1)}}const W=v.useMemo(()=>{const B=V.trim().toLowerCase();return B?k.filter($=>{const ie=($.name||"").toLowerCase(),te=($.email||"").toLowerCase(),pe=($.phone||"").toLowerCase(),be=($.company||"").toLowerCase();return ie.includes(B)||te.includes(B)||pe.includes(B)||be.includes(B)}):k},[k,V]),ce=t.find(B=>B.name==="hubspot");return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Rue,{size:24})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Pue}`,children:"CRM Integrations  HubSpot"})}),a.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect HubSpot and browse Contacts & Leads directly in your app."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ne?a.jsxs(a.Fragment,{children:[a.jsxs(aa,{onClick:T,size:"sm",children:[a.jsx(b5,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),a.jsxs(aa,{onClick:R,variant:"danger",size:"sm",children:[a.jsx(UB,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(aa,{onClick:q,variant:"primary",disabled:d,size:"sm",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Nd,{className:"mr-2 h-4 w-4"}),"Connect"]})}),a.jsxs(aa,{onClick:()=>h(!0),size:"sm",children:[a.jsx(vd,{className:"mr-2 h-4 w-4"}),"Use PAT"]})]}),a.jsxs(aa,{onClick:()=>{D(),K()},size:"sm",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),!ne&&((ce==null?void 0:ce.type)||"oauth")==="oauth"&&a.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[a.jsx(la,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),a.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",a.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",a.jsx("code",{className:"break-all",children:sd}),"."]})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Oh,{label:"Connection",value:ne?"Connected":"Not connected",Icon:ne?ar:ca,tone:ne?"blue":"cyan"}),a.jsx(Oh,{label:j==="contacts"?"Contacts Loaded":"Leads Loaded",value:k.length,Icon:tr,tone:"cyan"}),a.jsx(Oh,{label:"Next Cursor",value:A?String(A).slice(0,10)+"":"",Icon:jd,tone:"blue"}),a.jsx(Oh,{label:"Account",value:(we==null?void 0:we.external_account_name)||"",Icon:Ud,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),a.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:V,onChange:B=>G(B.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(jd,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:j,onChange:B=>{S(B.target.value),O([]),E(null),M({})},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"contacts",children:"Contacts"}),a.jsx("option",{value:"leads",children:"Leads"})]}),a.jsx("select",{value:_,onChange:B=>C(Number(B.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(B=>a.jsxs("option",{value:B,children:[B," / page"]},B))}),a.jsxs(aa,{onClick:()=>I(!0),disabled:!ne,variant:"primary",size:"sm",children:[a.jsx(mB,{className:"mr-2 h-4 w-4"}),"Fetch"]}),a.jsxs(aa,{onClick:()=>I(!1),disabled:!ne||!A,size:"sm",children:[a.jsx(zn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),H?a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Va,{children:"Name"}),a.jsx(Va,{children:"Email"}),a.jsx(Va,{children:"Phone"}),a.jsx(Va,{children:"Company"}),a.jsx(Va,{children:"ID"})]})}),a.jsx("tbody",{children:a.jsx(Mue,{rows:6,cols:5})})]})})}):W.length===0?a.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[a.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:a.jsx(jd,{className:"h-8 w-8 text-slate-400"})}),a.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),a.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",a.jsx("b",{children:"Fetch"})," to load ",j,"."]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Va,{children:"Name"}),a.jsx(Va,{children:"Email"}),a.jsx(Va,{children:"Phone"}),a.jsx(Va,{children:"Company"}),a.jsx(Va,{children:"ID"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:W.map(B=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(id,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(AT,{name:B.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:B.name||""}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",B.id]})]})]})}),a.jsx(id,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:B.email||""})]})}),a.jsx(id,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[a.jsx(ut,{className:"h-3.5 w-3.5 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:B.phone||""})]})}),a.jsx(id,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(h5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:B.company||""})]})}),a.jsx(id,{children:a.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:B.id})})]},`${B.id}-${B.email||B.name||"row"}`))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:W.map((B,$)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[$===0&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(AT,{name:B.name,size:44}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:B.name||""}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[a.jsx(Pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:B.email||""})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[a.jsx(ut,{className:"h-3.5 w-3.5 text-slate-500"}),B.phone||""]}),a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[a.jsx(h5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:B.company||""})]})]})]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",B.id]})]},`${B.id}-${B.email||B.name||"card"}`))})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",a.jsx("b",{className:"font-mono break-all",children:String(A||"")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(aa,{onClick:()=>I(!0),disabled:!ne,size:"sm",children:[a.jsx(da,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsxs(aa,{onClick:()=>I(!1),disabled:!ne||!A,variant:"primary",size:"sm",children:["Load more ",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(L||{}).length>0&&a.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),a.jsx("div",{className:"max-w-full overflow-x-auto",children:a.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(L,null,2)})})]})})]})]}),a.jsx(_t,{children:m&&a.jsxs(Due,{onClose:()=>h(!1),title:"Set HubSpot PAT",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-slate-600",children:"Paste your HubSpot Personal Access Token (PAT)."}),a.jsx("input",{value:x,onChange:B=>g(B.target.value),placeholder:"pat-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),a.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-[12px] flex items-start gap-2",children:[a.jsx(la,{className:"h-4 w-4 mt-0.5"}),"Backend verifies via ",a.jsx("code",{children:"/crm/token/hubspot"}),". Make sure CORS allows"," ",a.jsx("code",{className:"break-all",children:sd}),"."]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(aa,{onClick:()=>h(!1),variant:"subtle",children:"Cancel"}),a.jsx(aa,{onClick:F,variant:"primary",disabled:b,children:b?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(b5,{className:"h-4 w-4 mr-2"}),"Save Token"]})})]})]})})]})}function Va({children:e}){return a.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function id({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Mh="https://aisdr-dbt.ddns.net",zb={LIST:`${Mh}/api/appointments`,CREATE:`${Mh}/api/appointments/tool/schedule`,DETAIL:e=>`${Mh}/api/appointments/${e}`,UPDATE:e=>`${Mh}/api/appointments/${e}`},$ue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Sa({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function ET({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Ko({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Go({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Mi({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function NL({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Sa,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const ic=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:n1};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:ar};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:ca};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:n1}}};function Nw(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Iue(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const n=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let s=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let s=parseInt(r[1]);const l=parseInt(r[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function zue(e){const t=String(e||"").trim();if(!t)return"";const n=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return n+r}function Bue(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState("all"),[h,x]=v.useState(""),[g,b]=v.useState(""),[w,j]=v.useState(1),S=10,[_,C]=v.useState(!1),[k,O]=v.useState(!1),[A,E]=v.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[L,M]=v.useState(null),V=typeof window<"u"?localStorage.getItem("token"):null,G=v.useCallback(async()=>{try{r(!0),l("");const F=await fetch(zb.LIST,{headers:{Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},mode:"cors"});if(!F.ok)throw new Error(`HTTP ${F.status}`);const T=await F.json(),I=(Array.isArray(T)?T:(T==null?void 0:T.appointments)||[]).map(W=>({id:W.id,title:W.title,notes:W.notes,location:W.location,phone:W.phone,timezone:W.timezone,start_at:W.start_at,end_at:W.end_at,duration_minutes:W.duration_minutes,status:W.status,created_at:W.created_at,updated_at:W.updated_at}));I.sort((W,ce)=>new Date(ce.start_at)-new Date(W.start_at)),t(I)}catch(F){l((F==null?void 0:F.message)||"Failed to load appointments"),Y.error((F==null?void 0:F.message)||"Failed to load appointments")}finally{r(!1)}},[V]);v.useEffect(()=>{G()},[G]);const H=v.useMemo(()=>{let F=[...e];if(c.trim()){const T=c.trim().toLowerCase();F=F.filter(R=>[R.title,R.location,R.phone,R.notes].map(I=>String(I||"").toLowerCase()).some(I=>I.includes(T)))}if(f!=="all"&&(F=F.filter(T=>String(T.status).toLowerCase()===f)),h){const T=new Date(`${h}T00:00:00`);F=F.filter(R=>new Date(R.start_at)>=T)}if(g){const T=new Date(`${g}T23:59:59`);F=F.filter(R=>new Date(R.start_at)<=T)}return F},[e,c,f,h,g]),U=Math.max(1,Math.ceil(H.length/S)),ne=w*S,we=ne-S,ae=H.slice(we,ne);v.useEffect(()=>j(1),[c,f,h,g]);const D=v.useMemo(()=>{const F=e.length,T=e.filter(W=>W.status==="scheduled").length,R=e.filter(W=>W.status==="completed").length,I=e.filter(W=>String(W.status).toLowerCase().startsWith("cancel")).length;return{total:F,scheduled:T,completed:R,cancelled:I}},[e]);async function K(F,T){try{M(F);const R=await fetch(zb.UPDATE(F),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({status:T})});if(!R.ok){const I=await R.text();throw new Error(`HTTP ${R.status}${I?`  ${I}`:""}`)}Y.success(`Status set to ${T}`),t(I=>I.map(W=>W.id===F?{...W,status:T}:W))}catch(R){Y.error((R==null?void 0:R.message)||"Failed to update status")}finally{M(null)}}async function q(){const F={title:String(A.title||"").trim(),date:String(A.date||"").trim(),time:Iue(A.time),timezone:String(A.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(A.durationMinutes||30)),phone:zue(A.phone),location:String(A.location||"").trim(),notes:String(A.notes||"").trim()};if(!F.title)return Y.error("Title is required");if(!F.date)return Y.error("Date is required");if(!F.time||!/^\d{2}:\d{2}$/.test(F.time))return Y.error("Time looks invalid");if(!F.location)return Y.error("Location is required");if(!F.phone||F.phone.replace(/\D/g,"").length<11)return Y.error("Phone looks invalid");try{O(!0);const T=await fetch(zb.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify(F)});if(!T.ok){const I=await T.text();throw new Error(`HTTP ${T.status}${I?`  ${I}`:""}`)}const R=await T.json();Y.success(" Appointment created"),C(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(I=>[{id:R.id||crypto.randomUUID(),title:R.title||F.title,notes:R.notes||F.notes,location:R.location||F.location,phone:R.phone||F.phone,timezone:R.timezone||F.timezone,start_at:R.start_at||`${F.date}T${F.time}`,end_at:R.end_at||`${F.date}T${F.time}`,duration_minutes:R.duration_minutes||F.durationMinutes,status:R.status||"scheduled",created_at:R.created_at||new Date().toISOString(),updated_at:R.updated_at||new Date().toISOString()},...I])}catch(T){Y.error((T==null?void 0:T.message)||"Failed to create appointment")}finally{O(!1)}}return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Ya,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${$ue}`,children:"Appointments"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Sa,{onClick:()=>C(!0),variant:"primary",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"})," New Appointment"]}),a.jsx(Sa,{onClick:G,children:n?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Dh,{label:"Total",value:D.total,Icon:Ya,tone:"blue"}),a.jsx(Dh,{label:"Scheduled",value:D.scheduled,Icon:n1,tone:"cyan"}),a.jsx(Dh,{label:"Completed",value:D.completed,Icon:ar,tone:"blue"}),a.jsx(Dh,{label:"Cancelled",value:D.cancelled,Icon:ca,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:c,onChange:F=>d(F.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Lc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:f,onChange:F=>m(F.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsx("input",{type:"date",value:h,onChange:F=>x(F.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),a.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),a.jsx("input",{type:"date",value:g,onChange:F=>b(F.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||g)&&a.jsx(Sa,{onClick:()=>{d(""),m("all"),x(""),b("")},className:"text-slate-700",children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Ya,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",H.length,")"]})]}),n&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(He,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?a.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):H.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Ya,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Ko,{children:"Title"}),a.jsx(Ko,{children:"When"}),a.jsx(Ko,{children:"Location"}),a.jsx(Ko,{children:"Phone"}),a.jsx(Ko,{children:"Status"}),a.jsx(Ko,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ae.map(F=>{const T=ic(F.status),R=T.icon;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Go,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:F.title}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",F.id]})]})}),a.jsx(Go,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(pc,{className:"h-4 w-4 text-slate-500"})," ",Nw(F.start_at)]})}),a.jsx(Go,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"})," ",F.location||""]})}),a.jsx(Go,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",F.phone]})}),a.jsx(Go,{children:a.jsxs(ET,{className:`border ${T.badge}`,children:[a.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(F.status).charAt(0).toUpperCase()+String(F.status).slice(1)]})}),a.jsx(Go,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(TT,{current:F.status,onChange:I=>K(F.id,I),busy:L===F.id}),a.jsx(PT,{a:F})]})})]},F.id)})})]})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ae.map(F=>{const T=ic(F.status),R=T.icon;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:F.title}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(pc,{className:"h-4 w-4 text-slate-500"})," ",Nw(F.start_at)]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"})," ",F.location||""]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",F.phone]})]}),a.jsxs(ET,{className:`border ${T.badge} shrink-0`,children:[a.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(F.status).charAt(0).toUpperCase()+String(F.status).slice(1)]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(TT,{current:F.status,onChange:I=>K(F.id,I),busy:L===F.id}),a.jsx(PT,{a:F})]}),a.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",F.id]})]},F.id)})})}),H.length>S&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:we+1}),"",a.jsx("b",{children:Math.min(ne,H.length)})," of ",a.jsx("b",{children:H.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Sa,{onClick:()=>j(F=>Math.max(1,F-1)),disabled:w===1,children:[a.jsx(da,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,U)},(F,T)=>{let R;if(U<=5||w<=3?R=T+1:w>=U-2?R=U-4+T:R=w-2+T,R<1||R>U)return null;const I=w===R;return a.jsx("button",{onClick:()=>j(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${I?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),a.jsxs(Sa,{onClick:()=>j(F=>Math.min(U,F+1)),disabled:w>=U,children:["Next ",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:_&&a.jsxs(NL,{onClose:()=>C(!1),title:"New Appointment",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Mi,{label:"Title",children:a.jsx("input",{value:A.title,onChange:F=>E(T=>({...T,title:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),a.jsx(Mi,{label:"Phone",children:a.jsx("input",{value:A.phone,onChange:F=>E(T=>({...T,phone:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),a.jsx(Mi,{label:"Date",children:a.jsx("input",{type:"date",value:A.date,onChange:F=>E(T=>({...T,date:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Mi,{label:"Time",children:a.jsx("input",{value:A.time,onChange:F=>E(T=>({...T,time:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),a.jsx(Mi,{label:"Location",children:a.jsx("input",{value:A.location,onChange:F=>E(T=>({...T,location:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),a.jsx(Mi,{label:"Timezone",children:a.jsx("input",{value:A.timezone,onChange:F=>E(T=>({...T,timezone:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),a.jsx(Mi,{label:"Duration (minutes)",children:a.jsx("input",{type:"number",min:1,max:1440,value:A.durationMinutes,onChange:F=>E(T=>({...T,durationMinutes:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Mi,{label:"Notes",children:a.jsx("textarea",{value:A.notes,onChange:F=>E(T=>({...T,notes:F.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Sa,{onClick:()=>C(!1),variant:"subtle",children:"Cancel"}),a.jsx(Sa,{onClick:q,disabled:k,variant:"primary",children:k?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function Dh({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function TT({current:e,onChange:t,busy:n}){const[r,s]=v.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:ic("scheduled")},{k:"completed",label:"Mark Completed",tone:ic("completed")},{k:"cancelled",label:"Mark Cancelled",tone:ic("cancelled")}],d=ic(e).icon;return a.jsxs("div",{className:"relative",children:[a.jsxs(Sa,{onClick:()=>s(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(zn,{className:"h-4 w-4 opacity-60"})]}),a.jsx(_t,{children:r&&a.jsx(ge.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>a.jsxs("button",{onClick:()=>{s(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&a.jsx(ar,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function PT({a:e}){const[t,n]=v.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(Sa,{onClick:()=>n(!0),size:"sm",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"})," Details"]}),a.jsx(_t,{children:t&&a.jsxs(NL,{title:"Appointment Details",onClose:()=>n(!1),children:[a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pc,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"When:"})," ",Nw(e.start_at)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pc,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(IB,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),a.jsx("div",{className:"mt-5 text-right",children:a.jsx(Sa,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}function Uue(...e){return e.filter(Boolean).join(" ")}const OT="https://aisdr-dbt.ddns.net";function Fue({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(ge.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(ge.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(ge.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(ge.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Vue({className:e="",onMenuToggle:t,profilePath:n="/admin/settings"}){const[r,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Vt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${OT}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${OT}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:Uue("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(Fue,{onClick:g}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),a.jsx(ge.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(ge.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(ge.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(ge.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(o0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Hue({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:ut,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ya,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:vj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:tr,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ya,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[a.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[a.jsx(ge.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(ge.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),a.jsx(ge.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function que(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,l]=v.useState(!1),c=rs(),d=Vt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{r(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Mw,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:tr,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:ut,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:tr,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:tr,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(Hue,{compact:e&&!s})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href;return a.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${g?h.color:"text-slate-500 group-hover:text-slate-700"} ${g?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&a.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),g&&(!e||s)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(zn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!s&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})}),s&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})})]})]})}function Kue(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx(que,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(Vue,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(m6,{})})]})]})}const Bb={},Tl="https://aisdr-dbt.ddns.net",Gue=(Bb==null?void 0:Bb.VITE_AFTER_IMPERSONATE_PATH)||"/",Di={USERS:`${Tl}/api/admin/users`,USER:e=>`${Tl}/api/admin/users/${e}`,USER_DETAILS:e=>`${Tl}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Tl}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Tl}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Tl}/api/admin/impersonate/login-as`},Yue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",Rh=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Tl}${t}`},Ub=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function ld({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Wue(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function ht({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Xue(){var lr,ei;const[e,t]=v.useState([]),[n,r]=v.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(!1),[A,E]=v.useState(null),[L,M]=v.useState(!1),[V,G]=v.useState(null),[H,U]=v.useState(!1),[ne,we]=v.useState(!1),[ae,D]=v.useState(null),[K,q]=v.useState(!1),[F,T]=v.useState(!1),[R,I]=v.useState(null),[W,ce]=v.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[B,$]=v.useState(null),[ie,te]=v.useState(!1),[pe,be]=v.useState(null),[je,de]=v.useState(!1),[Oe,Be]=v.useState(""),[Ze,X]=v.useState(null),[fe,Z]=v.useState(null),[Ne,Te]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Ue=v.useCallback(async()=>{if(Ne){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const me=localStorage.getItem("token");if(!me){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),Y.error("No authentication token found.");return}try{l(!0),d("");const Q=await fetch(Di.USERS,{headers:{Authorization:`Bearer ${me}`,Accept:"application/json"},mode:"cors"});if(!Q.ok){const Qe=await Q.text();throw new Error(`HTTP ${Q.status}${Qe?`  ${Qe}`:""}`)}const ee=await Q.json();if(!(ee!=null&&ee.success)||!Array.isArray(ee==null?void 0:ee.users))throw new Error("Unexpected response shape.");const se=(ee.users||[]).map(Qe=>({id:Qe.id,name:Qe.name||"",email:Qe.email||"",email_verified:!!Qe.email_verified,role:Qe.role||"user",profile_photo_url:Rh(Qe.profile_photo_url||Qe.profile_photo)}));se.sort((Qe,wt)=>Qe.name.localeCompare(wt.name)),t(se);const $e=se.filter(Qe=>Qe.role==="admin").length,Ke=se.filter(Qe=>Qe.email_verified).length,lt=se.filter(Qe=>!!Qe.profile_photo_url).length;r({total:ee.total_users??se.length,admins:$e,verified:Ke,withPhoto:lt})}catch(Q){d((Q==null?void 0:Q.message)||"Failed to load users"),Y.error((Q==null?void 0:Q.message)||"Failed to load users")}finally{l(!1)}},[Ne]);v.useEffect(()=>{Ue()},[Ue]);const Ae=v.useMemo(()=>{let me=[...e];if(h.trim()){const Q=h.trim().toLowerCase();me=me.filter(ee=>String(ee.name||"").toLowerCase().includes(Q)||String(ee.email||"").toLowerCase().includes(Q))}return g!=="all"&&(me=me.filter(Q=>Q.role===g)),w!=="all"&&(me=me.filter(Q=>w==="verified"?Q.email_verified:!Q.email_verified)),me},[e,h,g,w]),Je=Math.max(1,Math.ceil(Ae.length/C)),Ye=S*C,vt=Ye-C,Ht=Ae.slice(vt,Ye);v.useEffect(()=>{_(1)},[h,g,w]);const It=me=>{E({id:me.id,name:me.name,email:me.email,role:me.role}),O(!0)},un=async()=>{if(!A)return;const me=localStorage.getItem("token");if(!me)return Y.error("No authentication token found.");const Q={name:String(A.name||"").trim(),email:String(A.email||"").trim(),role:A.role==="admin"?"admin":"user"};try{M(!0);const ee=await fetch(Di.USER(A.id),{method:"PUT",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);Y.success(" User updated"),O(!1),E(null),t($e=>$e.map(Ke=>{var lt;return Ke.id===((lt=se.updated_user)==null?void 0:lt.id)?{...Ke,name:se.updated_user.name,email:se.updated_user.email,role:se.updated_user.role,profile_photo_url:Rh(se.updated_user.profile_photo_url||se.updated_user.profile_photo)}:Ke})),Ue()}catch(ee){Y.error((ee==null?void 0:ee.message)||"Update failed")}finally{M(!1)}},mt=me=>G(me),Vr=async()=>{const me=V;if(!me)return;const Q=localStorage.getItem("token");if(!Q)return Y.error("No authentication token found.");try{m(me);const ee=await fetch(Di.USER(me),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);Y.success(" User deleted"),t($e=>$e.filter(Ke=>Ke.id!==me)),r($e=>({...$e,total:Math.max(0,$e.total-1)})),G(null)}catch(ee){Y.error((ee==null?void 0:ee.message)||"Delete failed")}finally{m(null)}},Qs=async me=>{const Q=localStorage.getItem("token");if(!Q){Y.error("No authentication token found.");return}try{U(!0),we(!0),D(null);const ee=await fetch(Di.USER_DETAILS(me.id),{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);D(se.details)}catch(ee){Y.error((ee==null?void 0:ee.message)||"Failed to load details")}finally{we(!1)}},Js=async me=>{const Q=localStorage.getItem("token");if(!Q)return Y.error("No authentication token found.");try{X(me);const ee=await fetch(Di.USER_PHOTO_DELETE(me),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);Y.success(" Profile photo removed"),t($e=>$e.map(Ke=>Ke.id===me?{...Ke,profile_photo_url:null}:Ke)),r($e=>({...$e,withPhoto:Math.max(0,$e.withPhoto-1)}))}catch(ee){Y.error((ee==null?void 0:ee.message)||"Failed to remove photo")}finally{X(null)}},La=async()=>{const me=localStorage.getItem("token");if(!me)return Y.error("No authentication token found.");const Q={name:W.name.trim(),email:W.email.trim(),role:W.role,password:W.setPasswordManually?(W.password||"").trim():null};if(!Q.name||!Q.email)return Y.error("Name and email are required.");if(W.setPasswordManually&&Q.password.length<6)return Y.error("Password must be at least 6 characters.");try{T(!0);const ee=await fetch(Di.USERS,{method:"POST",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);const $e=se.created_user,Ke={id:$e.id,name:$e.name,email:$e.email,role:$e.role||"user",email_verified:!!$e.email_verified,profile_photo_url:Rh($e.profile_photo_url||$e.profile_photo)};t(lt=>[Ke,...lt].sort((Qe,wt)=>Qe.name.localeCompare(wt.name))),r(lt=>({...lt,total:lt.total+1,admins:lt.admins+(Ke.role==="admin"?1:0),verified:lt.verified+(Ke.email_verified?1:0),withPhoto:lt.withPhoto+(Ke.profile_photo_url?1:0)})),se.initial_password?I(se.initial_password):Y.success(" User created"),q(!1),ce({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ee){Y.error((ee==null?void 0:ee.message)||"Create failed")}finally{T(!1)}},$a=async()=>{if(!B)return;const me=localStorage.getItem("token");if(!me)return Y.error("No authentication token found.");const Q=je&&Oe?{new_password:Oe}:{new_password:null};try{te(!0);const ee=await fetch(Di.RESET_PASSWORD(B),{method:"POST",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);se.new_password?be(se.new_password):(Y.success(" Password updated"),$(null),Be(""),de(!1))}catch(ee){Y.error((ee==null?void 0:ee.message)||"Reset failed")}finally{te(!1)}},Xn=async me=>{const Q=localStorage.getItem("token");if(!Q)return Y.error("No authentication token found.");try{Z(me.id);const ee=await fetch(Di.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:me.id,reason:"Admin impersonation from Users panel"})}),se=await ee.json();if(!ee.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${ee.status}`);const{token:$e,acting_as:Ke,impersonated_by:lt}=se;localStorage.setItem("admin_token_backup",Q),localStorage.setItem("token",$e),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:Ke,impersonated_by:lt,started_at:Date.now()})),Y.success(` Now impersonating ${(Ke==null?void 0:Ke.email)||"user"}`),window.location.assign(Gue)}catch(ee){Y.error((ee==null?void 0:ee.message)||"Impersonation failed")}finally{Z(null)}},Zn=()=>{const me=localStorage.getItem("admin_token_backup");if(!me){Y.error("No admin backup token found.");return}localStorage.setItem("token",me),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),Te(null),Y.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[Ne&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(Gm,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(lr=Ne.acting_as)==null?void 0:lr.email})]})]}),a.jsxs(ht,{onClick:Zn,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(o0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(tr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Yue}`,children:"User Management"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ht,{onClick:()=>q(!0),disabled:!!Ne,variant:"primary",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Add User"]}),a.jsx(ht,{onClick:Ue,disabled:s||!!Ne,children:s?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Lh,{label:"Total Users",value:n.total,Icon:tr,tone:"blue"}),a.jsx(Lh,{label:"Admins",value:n.admins,Icon:pv,tone:"cyan"}),a.jsx(Lh,{label:"Verified",value:n.verified,Icon:ar,tone:"blue"}),a.jsx(Lh,{label:"With Photo",value:n.withPhoto,Icon:Wz,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:me=>x(me.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!Ne})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Lc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:g,onChange:me=>b(me.target.value),disabled:!!Ne,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All roles"}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsxs("select",{value:w,onChange:me=>j(me.target.value),disabled:!!Ne,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||g!=="all"||w!=="all")&&a.jsx(ht,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!Ne,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(tr,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ae.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),Ne?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(Gm,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(ht,{onClick:Zn,variant:"primary",children:[a.jsx(o0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(He,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ae.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(tr,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(od,{children:"User"}),a.jsx(od,{children:"Email"}),a.jsx(od,{children:"Role"}),a.jsx(od,{children:"Status"}),a.jsx(od,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Ht.map(me=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(cd,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(Fb,{url:me.profile_photo_url,name:me.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:me.name}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",me.id]})]})]})}),a.jsx(cd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:me.email})]})}),a.jsx(cd,{children:a.jsx(ld,{className:`border ${Ub(me.role)}`,children:me.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(pv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ud,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),a.jsx(cd,{children:me.email_verified?a.jsxs(ld,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(ld,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(ca,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),a.jsx(cd,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(ht,{onClick:()=>Qs(me),variant:"outline",size:"sm",title:"View details",children:a.jsx(Kn,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>It(me),variant:"outline",size:"sm",title:"Edit",children:a.jsx(Sd,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>$(me.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:a.jsx(vd,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>Xn(me),disabled:fe===me.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:fe===me.id?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(Gm,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>mt(me.id),variant:"danger",size:"sm",title:"Delete",children:f===me.id?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(Yn,{className:"h-4 w-4"})}),me.profile_photo_url?a.jsx(ht,{onClick:()=>Js(me.id),disabled:Ze===me.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:Ze===me.id?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(v5,{className:"h-4 w-4"})}):null]})})]},me.id))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Ht.map((me,Q)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Q===0&&a.jsx(Wue,{}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(Fb,{size:48,url:me.profile_photo_url,name:me.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:me.name}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[a.jsx(Pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:me.email})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${Ub(me.role)} text-[11px] font-semibold`,children:me.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(pv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ud,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),me.email_verified?a.jsxs(ld,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(ld,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(ca,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(ht,{onClick:()=>Qs(me),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs(ht,{onClick:()=>It(me),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Sd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(ht,{onClick:()=>$(me.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[a.jsx(vd,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsx(ht,{onClick:()=>Xn(me),disabled:fe===me.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:fe===me.id?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gm,{className:"h-4 w-4 mr-1"})," Login as"]})}),a.jsx(ht,{onClick:()=>mt(me.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===me.id?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"})," Delete"]})}),me.profile_photo_url&&a.jsx(ht,{onClick:()=>Js(me.id),disabled:Ze===me.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:Ze===me.id?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):a.jsxs(a.Fragment,{children:[a.jsx(v5,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",me.id]})]},me.id))})}),Ae.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:vt+1}),"",a.jsx("b",{children:Math.min(Ye,Ae.length)})," of"," ",a.jsx("b",{children:Ae.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ht,{onClick:()=>_(me=>Math.max(1,me-1)),disabled:S===1,children:[a.jsx(da,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Je)},(me,Q)=>{let ee;if(Je<=5||S<=3?ee=Q+1:S>=Je-2?ee=Je-4+Q:ee=S-2+Q,ee<1||ee>Je)return null;const se=S===ee;return a.jsx("button",{onClick:()=>_(ee),className:`px-3 py-2 text-sm font-semibold rounded-xl ${se?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ee},ee)})}),a.jsxs(ht,{onClick:()=>_(me=>Math.min(Je,me+1)),disabled:S>=Je,children:["Next ",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:K&&a.jsxs(fd,{onClose:()=>q(!1),title:"Add User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Yo,{label:"Name",children:a.jsx("input",{value:W.name,onChange:me=>ce(Q=>({...Q,name:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),a.jsx(Yo,{label:"Email",children:a.jsx("input",{type:"email",value:W.email,onChange:me=>ce(Q=>({...Q,email:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),a.jsx(Yo,{label:"Role",children:a.jsxs("select",{value:W.role,onChange:me=>ce(Q=>({...Q,role:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:W.setPasswordManually,onChange:me=>ce(Q=>({...Q,setPasswordManually:me.target.checked,password:me.target.checked?Q.password:""}))}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),W.setPasswordManually&&a.jsx("div",{className:"mt-3",children:a.jsx("input",{type:"text",value:W.password,onChange:me=>ce(Q=>({...Q,password:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>q(!1),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:La,disabled:F||!W.name.trim()||!W.email.trim()||W.setPasswordManually&&W.password.trim().length<6,variant:"primary",children:F?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(_t,{children:R&&a.jsxs(fd,{onClose:()=>I(null),title:"Initial Password",children:[a.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(vd,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:R}),a.jsxs(ht,{onClick:()=>{navigator.clipboard.writeText(R),Y.success("Copied!")},className:"ml-auto",children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(ht,{onClick:()=>I(null),variant:"primary",children:"Got it"})})]})}),a.jsx(_t,{children:k&&A&&a.jsxs(fd,{onClose:()=>O(!1),title:"Edit User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Yo,{label:"Name",children:a.jsx("input",{value:A.name,onChange:me=>E(Q=>({...Q,name:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),a.jsx(Yo,{label:"Email",children:a.jsx("input",{type:"email",value:A.email,onChange:me=>E(Q=>({...Q,email:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),a.jsx(Yo,{label:"Role",children:a.jsxs("select",{value:A.role,onChange:me=>E(Q=>({...Q,role:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>O(!1),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:un,disabled:L||!A.name||!A.email,variant:"primary",children:L?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(_t,{children:V&&a.jsxs(fd,{onClose:()=>G(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",a.jsx("b",{className:"break-words",children:((ei=e.find(me=>me.id===V))==null?void 0:ei.name)||"this user"}),"? This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>G(null),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:Vr,disabled:f===V,variant:"danger",children:f===V?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),a.jsx(_t,{children:B&&a.jsx(fd,{onClose:()=>{$(null),be(null),de(!1),Be("")},title:"Reset Password",children:pe?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(vd,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:pe}),a.jsxs(ht,{onClick:()=>{navigator.clipboard.writeText(pe),Y.success("Copied!")},className:"ml-auto",children:[a.jsx(zd,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(ht,{onClick:()=>{$(null),be(null)},variant:"primary",children:"Done"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:je,onChange:me=>de(me.target.checked)}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),je&&a.jsx("input",{type:"text",value:Oe,onChange:me=>Be(me.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>{$(null),de(!1),Be("")},variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:$a,disabled:ie||je&&Oe.trim().length<6,variant:"primary",children:ie?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),a.jsx(_t,{children:H&&a.jsx(Zue,{onClose:()=>U(!1),title:"User Details",children:ne?a.jsxs("div",{className:"grid place-content-center h-48",children:[a.jsx(He,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):ae?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(Fb,{url:Rh(ae.user.profile_photo_url||ae.user.profile_photo),name:ae.user.name,size:48}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:ae.user.name}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:ae.user.email}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${Ub(ae.user.role)}`,children:ae.user.role})})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(ud,{label:"Phone Numbers",value:ae.counts.purchased_numbers}),a.jsx(ud,{label:"Assistants",value:ae.counts.assistants}),a.jsx(ud,{label:"Call Logs",value:ae.counts.call_logs}),a.jsx(ud,{label:"Documents",value:ae.counts.documents}),a.jsx(ud,{label:"Leads",value:ae.counts.leads})]}),a.jsx(dd,{title:"Phone Numbers",items:(ae.purchased_numbers||[]).map(me=>({k:me.id,primary:me.phone_number,secondary:me.iso_country||me.region||"",badge:me.friendly_name}))}),a.jsx(dd,{title:"Assistants",items:(ae.assistants||[]).map(me=>({k:me.id,primary:me.name||me.vapi_assistant_id,secondary:me.provider||me.model||"",badge:me.category}))}),a.jsx(dd,{title:"Documents",items:(ae.documents||[]).map(me=>({k:me.id,primary:me.file_name,secondary:me.vapi_file_id}))}),a.jsx(dd,{title:"Leads",items:(ae.leads||[]).map(me=>({k:me.id,primary:`${me.first_name||""} ${me.last_name||""}`.trim()||me.email,secondary:(me.email||me.mobile||"").toString(),badge:me.state||me.timezone}))}),a.jsx(dd,{title:"Call Logs",items:(ae.call_logs||[]).map(me=>({k:me.id,primary:me.customer_name||me.customer_number||me.call_id,secondary:`${me.status||""}  ${me.call_duration||0}s`}))})]}):a.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Lh({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Fb({url:e,name:t,size:n=38}){const[r,s]=v.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?a.jsx("span",{style:{fontSize:n<40?12:13},children:l}):a.jsx("img",{src:e,alt:t,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function od({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function cd({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Yo({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function ud({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function dd({title:e,items:t}){const n=(t||[]).slice(0,5);return n.length===0?null:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),a.jsx("div",{className:"space-y-2",children:n.map(r=>a.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),a.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&a.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function fd({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ht,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Zue({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(ge.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ht,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const md="https://aisdr-dbt.ddns.net",Que=[`${md}/api/admin/basic-admin-stats`,`${md}/basic-admin-stats`,`${md}/api/basic-admin-stats`,`${md}/statistics`,`${md}/api/statistics`],Fn={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},a0="3 3";function Jue(){const[e,t]=v.useState({width:0,height:0});return v.useEffect(()=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function SL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function MT(e={},t="name",n="value"){return Object.entries(e||{}).map(([r,s])=>({[t]:String(r),[n]:Number(s||0)}))}function wl(e){const n=Math.max(0,Number(e)||0),r=Array.from({length:12},(s,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(n*(.55+d+f)));return{label:`P${l+1}`,value:m}});return r.length&&(r[r.length-1].value=n),r}async function ede(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of Que)try{const s=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function tde({value:e,className:t}){const n=yc(0),[r,s]=v.useState(0);return v.useEffect(()=>{const l=zq(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>s(Math.round(d)));return()=>{l.stop(),c()}},[e]),a.jsx("span",{className:t,children:SL(r)})}function nde({points:e,width:t,height:n}){if(!e||!e[0])return null;const r=e[0].x;return a.jsxs("g",{children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("line",{x1:r,x2:r,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function Vb(e){const{x:t,y:n,width:r,height:s}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx("rect",{x:t,y:n,width:r,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function DT(e){const{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,fill:d}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Fj,{cx:t,cy:n,innerRadius:r,outerRadius:s+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Wo({title:e,right:t,children:n,className:r=""}){return a.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[a.jsx(rde,{}),a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[a.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),n]})}function rde(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Fn.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function ade({label:e,value:t,icon:n,color:r,series:s,badge:l="Live",loading:c}){const d=yc(0),f=yc(0),m=m0(f,[-60,60],[10,-10]),h=m0(d,[-60,60],[-10,10]),x=v.useRef(null);return a.jsxs(ge.div,{ref:x,onMouseMove:g=>{var w;const b=(w=x.current)==null?void 0:w.getBoundingClientRect();b&&(d.set(g.clientX-b.left-b.width/2),f.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?a.jsx(sde,{}):a.jsx(tde,{value:t})}),l&&a.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),a.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(gN,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Fi,{strokeDasharray:a0,strokeOpacity:.12}),a.jsx(Ms,{dataKey:"label",hide:!0}),a.jsx(Ds,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(Ka,{contentStyle:{borderRadius:12},cursor:a.jsx(nde,{})}),a.jsx(Wp,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function sde(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function ide(){const{width:e}=Jue(),t=e<768,[n,r]=v.useState(!0),[s,l]=v.useState(""),[c,d]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[g,b]=v.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=v.useState({}),[S,_]=v.useState({attached_to_assistant:0,unattached:0}),[C,k]=v.useState({transferred:0,not_transferred:0,by_status:{}}),O=async()=>{try{r(!0),l("");const H=await ede(),U=(H==null?void 0:H.stats)||H||{},ne=(U==null?void 0:U.totals)||{};b({users:Number(ne.users||0),leads:Number(ne.leads||0),files:Number(ne.files||0),knowledge_base_documents:Number(ne.knowledge_base_documents||0),assistants:Number(ne.assistants||0),phone_numbers:Number(ne.phone_numbers||0),call_logs:Number(ne.call_logs||0)}),j((U==null?void 0:U.users_by_role)||{}),_((U==null?void 0:U.phone_numbers)||{attached_to_assistant:0,unattached:0}),k((U==null?void 0:U.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((H==null?void 0:H.generated_at)||new Date().toISOString())}catch(H){const U=(H==null?void 0:H.message)||"Failed to load stats",ne=U.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(U+ne)}finally{r(!1)}};v.useEffect(()=>{O()},[]);const A=v.useMemo(()=>[{key:"users",label:"Users",value:g.users,icon:tr,color:Fn.blue,series:wl(g.users)},{key:"leads",label:"Leads",value:g.leads,icon:Ud,color:Fn.cyan,series:wl(g.leads)},{key:"files",label:"Files",value:g.files,icon:T6,color:Fn.sky,series:wl(g.files)},{key:"assistants",label:"Assistants",value:g.assistants,icon:E6,color:Fn.cyan,series:wl(g.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:g.phone_numbers,icon:ut,color:Fn.sky,series:wl(g.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:g.knowledge_base_documents,icon:jd,color:Fn.blue,series:wl(g.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:g.call_logs,icon:r1,color:Fn.cyan,series:wl(g.call_logs)}],[g]),E=v.useMemo(()=>MT(w,"name","value"),[w]),L=v.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=v.useMemo(()=>[{name:"Transferred",value:Number(C.transferred||0)},{name:"Not Transferred",value:Number(C.not_transferred||0)}],[C]),V=v.useMemo(()=>MT(C.by_status||{},"status","count"),[C]),G=v.useMemo(()=>[{name:"Users",value:g.users},{name:"Leads",value:g.leads},{name:"Files",value:g.files},{name:"Assistants",value:g.assistants},{name:"Phones",value:g.phone_numbers},{name:"KB",value:g.knowledge_base_documents},{name:"Calls",value:g.call_logs}],[g]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&a.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),a.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),a.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[a.jsx(He,{className:"h-4 w-4"}),"Refresh"]}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),a.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[a.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(H=>a.jsx(ade,{label:H.label,value:H.value,icon:H.icon,color:H.color,series:H.series,loading:n},H.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[a.jsx(Wo,{title:"Overview by Metric",right:a.jsx(hd,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(e0,{data:G,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Fn.sky}),a.jsx("stop",{offset:"100%",stopColor:Fn.light})]})]}),a.jsx(Fi,{strokeDasharray:a0,strokeOpacity:.2}),a.jsx(Ms,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Ds,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),a.jsx(Ka,{contentStyle:{borderRadius:12},cursor:a.jsx(Vb,{})}),a.jsx(Md,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),a.jsx(Wo,{title:"Users by Role",right:a.jsx(hd,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(e0,{data:E,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Fn.blue}),a.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),a.jsx(Fi,{strokeDasharray:a0,strokeOpacity:.2}),a.jsx(Ms,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Ds,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),a.jsx(Ka,{contentStyle:{borderRadius:12},cursor:a.jsx(Vb,{})}),a.jsx(Md,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[a.jsx(Wo,{title:"Phone Numbers  Attached vs Unattached",right:a.jsx(hd,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(J0,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Fn.cyan}),a.jsx("stop",{offset:"100%",stopColor:Fn.blue})]})}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsxs(lf,{data:L,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(H,U)=>m(U),onMouseLeave:()=>m(null),activeShape:DT,label:t?({name:H,percent:U})=>U>=.18?H:"":!1,labelLine:!1,children:[a.jsx(Es,{fill:"url(#pieGradPhones)"}),a.jsx(Es,{fill:"#bfe9ff"})]})]})})})}),a.jsx(Wo,{title:"Calls  Transferred vs Not",right:a.jsx(hd,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(J0,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Fn.sky}),a.jsx("stop",{offset:"100%",stopColor:Fn.blue})]})}),a.jsx(Ka,{contentStyle:{borderRadius:12}}),a.jsxs(lf,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(H,U)=>x(U),onMouseLeave:()=>x(null),activeShape:DT,label:t?({name:H,percent:U})=>U>=.18?H:"":!1,labelLine:!1,children:[a.jsx(Es,{fill:"url(#pieGradCalls)"}),a.jsx(Es,{fill:"#d7eeff"})]})]})})})}),a.jsx(Wo,{title:"Call Logs  by Status",right:a.jsx(hd,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ga,{width:"100%",height:"100%",children:a.jsxs(e0,{data:V,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Fn.cyan}),a.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),a.jsx(Fi,{strokeDasharray:a0,strokeOpacity:.2}),a.jsx(Ms,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Ds,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),a.jsx(Ka,{contentStyle:{borderRadius:12},cursor:a.jsx(Vb,{})}),a.jsx(Md,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsx("section",{className:"mt-8",children:a.jsx(Wo,{title:"Status Breakdown (Compact List)",children:n?a.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[V.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),V.map(H=>a.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:H.status}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:SL(H.count)})]},H.status))]})})}),a.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function hd({text:e}){return a.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function lde(){const e=Vt(),[t,n]=v.useState(!1),[r,s]=v.useState(!1),[l,c]=v.useState(["","","",""]),[d,f]=v.useState({name:"",email:"",password:""}),[m,h]=v.useState(!1),[x,g]=v.useState({profile:!1,update:!1,delete:!1,otp:!1}),b=v.useRef([]),w=v.useRef(null),j=async()=>{var L,M;g(V=>({...V,profile:!0}));try{const V=localStorage.getItem("token");if(!V){Y.error("Authentication required. Please login again."),e("/login");return}const G=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${V}`}});if(!G.ok){const U=await G.json();throw new Error(U.detail||"Failed to fetch user data")}const H=await G.json();f({name:((L=H.users)==null?void 0:L.name)||"",email:((M=H.users)==null?void 0:M.email)||"",password:""})}catch(V){Y.error(V.message),V.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{g(V=>({...V,profile:!1}))}};v.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(Y.error("Password must be at least 8 characters long"),!1):!0:(Y.error("Please enter a valid email address"),!1):(Y.error("Email is required"),!1):(Y.error("Name is required"),!1),_=async L=>{if(L.preventDefault(),!!S()){g(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V={name:d.name,email:d.email,...d.password&&{password:d.password}},G=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(V)});if(!G.ok){const U=await G.json();throw new Error(U.detail||"Failed to update profile")}const H=await G.json();H!=null&&H.otp_needed?(s(!0),setTimeout(()=>{var U;return(U=b.current[0])==null?void 0:U.focus()},0),Y.info("Verification code sent to your email")):(localStorage.setItem("name",V.name),Y.success("Profile updated successfully"),f(U=>({...U,password:""})))}catch(M){Y.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,update:!1}))}}},C=async L=>{if(L.preventDefault(),l.some(M=>!M)){Y.error("Please enter the complete verification code");return}g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!V.ok){const G=await V.json();throw new Error(G.detail||"Verification failed")}Y.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(G=>({...G,password:""}))}catch(M){Y.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}},k=async()=>{g(L=>({...L,delete:!0}));try{const L=localStorage.getItem("token");if(!L)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${L}`}});if(!M.ok){const V=await M.json();throw new Error(V.detail||"Failed to delete account")}Y.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(L){Y.error(L.message),L.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(L=>({...L,delete:!1}))}},O=(L,M)=>{var V;if(/^\d?$/.test(M)){const G=[...l];G[L]=M,c(G),M&&L<3&&((V=b.current[L+1])==null||V.focus())}},A=(L,M)=>{var V;M.key==="Backspace"&&!l[L]&&L>0&&((V=b.current[L-1])==null||V.focus())},E=async()=>{var L;g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!V.ok){const G=await V.json();throw new Error(G.detail||"Failed to resend OTP")}c(["","","",""]),(L=b.current[0])==null||L.focus(),Y.success("OTP resent successfully")}catch(M){Y.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:a.jsx("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&a.jsx("div",{className:"flex justify-center items-center mb-4",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ww,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(ww,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),a.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",a.jsx("strong",{children:d.email}),". Please enter it below."]}),a.jsxs("form",{onSubmit:C,children:[a.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((L,M)=>a.jsx("input",{type:"text",maxLength:"1",value:L,onChange:V=>O(M,V.target.value),onKeyDown:V=>A(M,V),ref:V=>b.current[M]=V,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},M))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx("button",{type:"submit",disabled:l.some(L=>!L)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(vw,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),a.jsx("button",{type:"button",onClick:E,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(dc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(dc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),a.jsxs("form",{ref:w,onSubmit:_,children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(dc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:d.name,onChange:L=>f({...d,name:L.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(cL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:d.email,onChange:L=>f({...d,email:L.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(uL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:t?"text":"password",value:d.password,onChange:L=>f({...d,password:L.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),a.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?a.jsx(yw,{className:"w-5 h-5"}):a.jsx(bw,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(vw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(ep,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(jw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(ep,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{h(!1),k()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(jw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]})})})}const s0="https://aisdr-dbt.ddns.net",Hb={CALL_LOGS:`${s0}/api/admin/call-logs`,VAPI_CALL_LOGS:`${s0}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${s0}/api/admin/call-logs/${e}`},ode="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",RT=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${s0}${t}`},zt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},pd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},$h=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),n=Math.floor(t/60),r=Math.floor(t%60);return`${n}m ${r}s`},Xo=e=>String(e??"").toLowerCase();function LT(e=[],t=[]){const n=[],r=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&r.set(l.call_id,l)}for(const s of t){const l=s.call_id&&r.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&r.set(c.call_id,c))}return n.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),n}function $T(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=e,s.click(),URL.revokeObjectURL(r)}function cde(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},r=[t.join(",")];for(const d of e)r.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((s=d.user)==null?void 0:s.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return r.join(`
`)}function ude(){var fe;const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,l]=v.useState([]),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(""),[w,j]=v.useState("all"),[S,_]=v.useState("all"),[C,k]=v.useState(""),[O,A]=v.useState(""),[E,L]=v.useState("started_at"),[M,V]=v.useState("desc"),[G,H]=v.useState(1),U=10,[ne,we]=v.useState(!1),[ae,D]=v.useState(null),[K,q]=v.useState(null),[F,T]=v.useState(null),[R,I]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),W=v.useCallback(async()=>{if(R){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const Z=localStorage.getItem("token");if(!Z){m("No auth token found."),Y.error("No authentication token found."),t([]),r([]),l([]);return}try{d(!0),m("");const Ne={Authorization:`Bearer ${Z}`,Accept:"application/json"},[Te,Ue]=await Promise.all([fetch(Hb.CALL_LOGS,{headers:Ne,mode:"cors"}),h?fetch(Hb.VAPI_CALL_LOGS,{headers:Ne,mode:"cors"}):Promise.resolve(null)]);if(!(Te!=null&&Te.ok)){const vt=await Te.text();throw new Error(`Call logs HTTP ${Te.status}${vt?`  ${vt}`:""}`)}const Ae=await Te.json(),Je=Array.isArray(Ae==null?void 0:Ae.call_logs)?Ae.call_logs:[];let Ye=[];if(h&&Ue){if(!Ue.ok){const Ht=await Ue.text();throw new Error(`VAPI call logs HTTP ${Ue.status}${Ht?`  ${Ht}`:""}`)}const vt=await Ue.json();Ye=Array.isArray(vt==null?void 0:vt.call_logs)?vt.call_logs:[]}t(Je),r(Ye),l(LT(Je,Ye))}catch(Ne){m((Ne==null?void 0:Ne.message)||"Failed to load call logs"),Y.error((Ne==null?void 0:Ne.message)||"Failed to load call logs")}finally{d(!1)}},[h,R]);v.useEffect(()=>{W()},[W]),v.useEffect(()=>{l(LT(e,h?n:[]))},[e,n,h]);const ce=v.useMemo(()=>{const Z=new Set(s.map(Ne=>(Ne.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Z)]},[s]),B=v.useMemo(()=>{let Z=[...s];if(g.trim()){const Ne=g.trim().toLowerCase();Z=Z.filter(Te=>{var Ue,Ae;return Xo(Te.customer_name).includes(Ne)||Xo(Te.customer_number).includes(Ne)||Xo(Te.call_id).includes(Ne)||Xo((Ue=Te.user)==null?void 0:Ue.email).includes(Ne)||Xo((Ae=Te.user)==null?void 0:Ae.name).includes(Ne)})}if(w!=="all"&&(Z=Z.filter(Ne=>Xo(Ne.status)===w)),S!=="all"){const Ne=S==="yes";Z=Z.filter(Te=>!!Te.transferred===Ne)}if(C){const Ne=new Date(C).getTime();Z=Z.filter(Te=>new Date(Te.started_at||0).getTime()>=Ne)}if(O){const Ne=new Date(O).getTime();Z=Z.filter(Te=>new Date(Te.started_at||0).getTime()<=Ne)}return Z.sort((Ne,Te)=>{const Ue=M==="asc"?1:-1,Ae=Ne[E],Je=Te[E];return E.includes("date")||E.includes("started")?Ue*(new Date(Ae||0)-new Date(Je||0)):Ue*((Ae??0)-(Je??0))}),Z},[s,g,w,S,C,O,E,M]),$=Math.max(1,Math.ceil(B.length/U)),ie=G*U,te=ie-U,pe=B.slice(te,ie);v.useEffect(()=>{H(1)},[g,w,S,C,O,E,M]);const be=v.useMemo(()=>{const Z=B.length,Ne=B.filter(Je=>Je.transferred).length,Te=Z-Ne,Ue=B.reduce((Je,Ye)=>Je+(Number.isFinite(Number(Ye.duration))?Number(Ye.duration):0),0),Ae=B.reduce((Je,Ye)=>Je+(Number.isFinite(Number(Ye.cost))?Number(Ye.cost):0),0);return{total:Z,transferred:Ne,notTransferred:Te,totalDuration:Ue,totalCost:Ae}},[B]),je=Z=>{D(Z),we(!0)},de=Z=>q((Z==null?void 0:Z.id)||null),Oe=async()=>{const Z=K;if(!Z)return;const Ne=localStorage.getItem("token");if(!Ne)return Y.error("No authentication token found.");try{T(Z);const Te=await fetch(Hb.CALL_LOG(Z),{method:"DELETE",headers:{Authorization:`Bearer ${Ne}`,Accept:"application/json"}}),Ue=await Te.json();if(!Te.ok||!(Ue!=null&&Ue.success))throw new Error((Ue==null?void 0:Ue.detail)||(Ue==null?void 0:Ue.message)||`HTTP ${Te.status}`);Y.success(" Call log deleted"),q(null),t(Ae=>Ae.filter(Je=>Je.id!==Z))}catch(Te){Y.error((Te==null?void 0:Te.message)||"Delete failed")}finally{T(null)}},Be=()=>{const Z=cde(B),Ne=new Date().toISOString().replace(/[:.]/g,"-");$T(`call-history-${Ne}.csv`,Z)},Ze=()=>{b(""),j("all"),_("all"),k(""),A(""),L("started_at"),V("desc")},X=()=>{const Z=localStorage.getItem("admin_token_backup");if(!Z){Y.error("No admin backup token found.");return}localStorage.setItem("token",Z),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),I(null),Y.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[R&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(xv,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:zt((fe=R.acting_as)==null?void 0:fe.email)})]})]}),a.jsx(fr,{onClick:X,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(r1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${ode}`,children:"Call History"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(xB,{className:"h-4 w-4"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:Z=>x(Z.target.checked),disabled:!!R,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),a.jsxs(fr,{onClick:Be,disabled:B.length===0||!!R,"aria-label":"Export CSV",children:[a.jsx(Bd,{className:"mr-2 h-4 w-4"})," Export CSV"]}),a.jsx(fr,{onClick:W,disabled:c||!!R,"aria-label":"Refresh",children:c?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(qb,{label:"Total Calls",value:be.total,Icon:xv,tone:"blue"}),a.jsx(qb,{label:"Transferred",value:be.transferred,Icon:ar,tone:"cyan"}),a.jsx(qb,{label:"Not Transferred",value:be.notTransferred,Icon:ca,tone:"blue"}),a.jsx(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:a.jsx(x5,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),a.jsxs("div",{className:"text-sm font-black text-slate-900",children:[$h(be.totalDuration),"  $",be.totalCost.toFixed(2)]})]})]})})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:g,onChange:Z=>b(Z.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!R,"aria-label":"Search calls"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),a.jsx("select",{value:w,onChange:Z=>j(Z.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ce.map(Z=>a.jsx("option",{value:Z,children:Z==="all"?"All statuses":Z},Z))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),a.jsxs("select",{value:S,onChange:Z=>_(Z.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"yes",children:"Yes"}),a.jsx("option",{value:"no",children:"No"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),a.jsx("input",{type:"datetime-local",value:C,onChange:Z=>k(Z.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),a.jsx("input",{type:"datetime-local",value:O,onChange:Z=>A(Z.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:E,onChange:Z=>L(Z.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[a.jsx("option",{value:"started_at",children:"Start time"}),a.jsx("option",{value:"duration",children:"Duration"}),a.jsx("option",{value:"cost",children:"Cost"})]}),a.jsxs("select",{value:M,onChange:Z=>V(Z.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[a.jsx("option",{value:"desc",children:"Desc"}),a.jsx("option",{value:"asc",children:"Asc"})]})]})]}),a.jsx("div",{className:"md:col-span-12 flex justify-end",children:(g||w!=="all"||S!=="all"||C||O||E!=="started_at"||M!=="desc")&&a.jsxs(fr,{onClick:Ze,className:"text-slate-700","aria-label":"Clear filters",children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(r1,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",B.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),R?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(xv,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsx(fr,{onClick:X,variant:"primary",children:"Exit Impersonation"})})]}):c?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(He,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):B.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(ut,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Ns,{children:"Caller"}),a.jsx(Ns,{children:"User"}),a.jsx(Ns,{children:"Start"}),a.jsx(Ns,{children:"Duration"}),a.jsx(Ns,{children:"Status"}),a.jsx(Ns,{children:"Transferred"}),a.jsx(Ns,{children:"Cost"}),a.jsx(Ns,{children:"Source"}),a.jsx(Ns,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:pe.map(Z=>{const Ne=Z.cost===null||Z.cost===void 0||Number.isNaN(Number(Z.cost))?"Unknown":Number(Z.cost).toFixed(2);return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Ss,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:zt(Z.customer_name)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[a.jsx(ut,{className:"h-3.5 w-3.5"})," ",zt(Z.customer_number)]}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",zt(Z.call_id)]})]})}),a.jsx(Ss,{children:Z.user?a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[a.jsx(lc,{className:"h-3.5 w-3.5"})," ",zt(Z.user.name)]}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:zt(Z.user.email)})]}):a.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),a.jsxs(Ss,{children:[a.jsx("div",{className:"text-xs text-slate-800",children:pd(Z.started_at)}),a.jsx("div",{className:"text-[11px] text-slate-500",children:pd(Z.ended_at)})]}),a.jsx(Ss,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(pc,{className:"h-3.5 w-3.5"})," ",$h(Z.duration)]})}),a.jsxs(Ss,{children:[a.jsx(Ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:zt(Z.status)}),a.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",zt(Z.ended_reason)]})]}),a.jsx(Ss,{children:Z.transferred?a.jsxs(Ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):a.jsxs(Ri,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(ca,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),a.jsx(Ss,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(x5,{className:"h-3.5 w-3.5"})," ",Ne]})}),a.jsx(Ss,{children:a.jsx(Ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:zt(Z.source)})}),a.jsx(Ss,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(fr,{onClick:()=>je(Z),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:a.jsx(Kn,{className:"h-4 w-4"})}),Z.source!=="vapi"&&a.jsx(fr,{onClick:()=>de(Z),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:F===Z.id?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(Yn,{className:"h-4 w-4"})})]})})]},Z._key)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:pe.map((Z,Ne)=>{const Te=Z.cost===null||Z.cost===void 0||Number.isNaN(Number(Z.cost))?"Unknown":Number(Z.cost).toFixed(2);return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Ne===0&&a.jsx(dde,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",zt(Z.customer_name)]}),a.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:zt(Z.customer_number)}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",zt(Z.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:pd(Z.started_at)}),a.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[a.jsx(pc,{className:"h-3.5 w-3.5 mr-1"})," ",$h(Z.duration)]}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:zt(Z.status)}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:zt(Z.source)})]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",zt(Z.ended_reason)]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",Te]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(fr,{onClick:()=>je(Z),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[a.jsx(Kn,{className:"h-4 w-4 mr-1"})," View"]}),Z.source!=="vapi"&&a.jsx(fr,{onClick:()=>de(Z),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:F===Z.id?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},Z._key)})})}),B.length>U&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:te+1}),"",a.jsx("b",{children:Math.min(ie,B.length)})," of ",a.jsx("b",{children:B.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(fr,{onClick:()=>H(Z=>Math.max(1,Z-1)),disabled:G===1,children:[a.jsx(da,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,$)},(Z,Ne)=>{let Te;if($<=5||G<=3?Te=Ne+1:G>=$-2?Te=$-4+Ne:Te=G-2+Ne,Te<1||Te>$)return null;const Ue=G===Te;return a.jsx("button",{onClick:()=>H(Te),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ue?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${Te}`,children:Te},Te)})}),a.jsxs(fr,{onClick:()=>H(Z=>Math.min($,Z+1)),disabled:G>=$,children:["Next ",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:K&&a.jsxs(fde,{onClose:()=>q(null),title:"Confirm Delete",children:[a.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(fr,{onClick:()=>q(null),variant:"subtle",children:"Cancel"}),a.jsx(fr,{onClick:Oe,disabled:F===K,variant:"danger",children:F===K?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),a.jsx(_t,{children:ne&&ae&&a.jsx(mde,{onClose:()=>we(!1),title:"Call Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",zt(ae.customer_name)]}),a.jsx("div",{className:"text-sm text-slate-600 break-all",children:zt(ae.customer_number)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",zt(ae.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[a.jsx(Ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:zt(ae.source)}),a.jsx(Ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:zt(ae.status)}),ae.transferred?a.jsx(Ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):a.jsx(Ri,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),a.jsxs("div",{className:"text-right text-sm text-slate-700",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Start:"})," ",pd(ae.started_at)]}),a.jsxs("div",{children:[a.jsx("b",{children:"End:"})," ",pd(ae.ended_at)]}),a.jsxs("div",{className:"mt-1",children:[a.jsx("b",{children:"Duration:"})," ",$h(ae.duration)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Cost:"})," ",ae.cost===null||ae.cost===void 0||Number.isNaN(Number(ae.cost))?"Unknown":`$${Number(ae.cost).toFixed(2)}`]})]})]}),ae.user?a.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(lc,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," ",zt(ae.user.name)]}),a.jsx("div",{className:"ml-5 break-all",children:zt(ae.user.email)})]}):a.jsx("div",{className:"mt-3 text-xs text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(lc,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(ae.assistant_id||ae.phone_number_id)&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Assistant ID:"})," ",zt(ae.assistant_id)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Phone Number ID:"})," ",zt(ae.phone_number_id)]})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[a.jsx("b",{children:"End Reason:"})," ",zt(ae.ended_reason)]})]}),ae.recording_url&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),a.jsx("audio",{controls:!0,className:"w-full",children:a.jsx("source",{src:RT(ae.recording_url)||ae.recording_url})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.jsxs("a",{href:RT(ae.recording_url)||ae.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[a.jsx(Nd,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),ae.summary&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),a.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ae.summary})]}),ae.transcript&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),a.jsxs(fr,{onClick:()=>$T(`transcript-${ae.call_id||ae.id}.txt`,ae.transcript),size:"sm",children:[a.jsx(Bd,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),a.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:ae.transcript})]}),ae.analysis&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),a.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof ae.analysis=="string"?ae.analysis:JSON.stringify(ae.analysis,null,2)})]})]})})})]})}function qb({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsx(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Ri({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function dde(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function fr({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Ns({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ss({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function fde({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function mde({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(ge.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const qa={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},IT=/^\+\d{7,15}$/,zT=[{id:1,key:"core",label:"Core & Transcription",Icon:Pw},{id:2,key:"voice",label:"Voice",Icon:Rw},{id:3,key:"review",label:"Review & Create",Icon:$c}],hde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],pde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function xde(){const e=Vt(),[t,n]=v.useState(1),[r,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),E=v.useMemo(()=>{const D=g.voice_provider==="openai"?Zc:ao;return(h==="all"?D:D.filter(q=>q.gender===h)).slice().sort((q,F)=>((q==null?void 0:q.showName)||"").localeCompare((F==null?void 0:F.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const D=E.find(K=>(K==null?void 0:K.name)===g.voice);D!=null&&D.voice&&(b(K=>({...K,voice_model:D.voice})),j(K=>({...K,voice_model:""})))},[g.voice,E]);const L="https://aisdr-dbt.ddns.net",M=D=>{const{id:K,value:q,type:F,checked:T}=D.target,R=F==="checkbox"?T:q;b(I=>({...I,[K]:R})),j(I=>({...I,[K]:""}))},V=D=>{try{d.current&&(d.current.pause(),d.current=null);const K=new Audio(D);d.current=K,c(!0),K.play().catch(()=>{Y.error("Failed to play voice preview"),c(!1),d.current=null}),K.onended=()=>{c(!1),d.current=null}}catch{Y.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},H=D=>{if(D!==t){if(D===3&&(!g.voice||!f)){j(K=>({...K,voice:"Select a voice and press Next to continue"})),Y.error("Please select a voice and press Next to continue.");return}G(),n(D)}},U=()=>{if(t===1){n(2);return}if(t===2){if(!g.voice){j(D=>({...D,voice:"Please select a voice"})),Y.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),Y.info("Click a voice card to confirm your choice.");return}n(3)}},ne=async()=>{k(!0),A("");try{const D=localStorage.getItem("token"),K=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const q=await K.json(),T=(Array.isArray(q)?q:(q==null?void 0:q.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);_(T)}catch(D){console.error(D),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{ne()},[]);const we=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let q=!0;if(D.forEach(F=>{const T=g[F];(T==null||T===""||Number.isNaN(T))&&(K[F]="Required",q=!1)}),(g.temperature<0||g.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",q=!1),g.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",q=!1),g.forwardingPhoneNumber&&!IT.test(g.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",q=!1),g.attached_Number&&!IT.test(g.attached_Number)&&(K.attached_Number="Invalid number format",q=!1),j(K),!q){const F=I=>I.some(W=>K[W]),T=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];F(T)?n(1):F(R)&&n(2)}return q},ae=async D=>{if(D.preventDefault(),!r){if(t!==3){Y.error("Please complete the steps first.");return}if(we()){s(!0),G();try{const K=localStorage.getItem("token"),q=`${L}/api/assistants`,F={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:g.systemPrompt||null,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},T=await fetch(q,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(F)});if(!T.ok){let R=`HTTP ${T.status}`;try{const I=await T.json();I!=null&&I.detail&&(R=I.detail)}catch{const I=await T.text();I&&(R=`${R}  ${I}`)}throw new Error(R)}Y.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){Y.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(D=>({...D,voice:"",voice_model:""}))},[g.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:qa.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(ge.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:qa.border,backgroundColor:qa.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx($c,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx(gde,{currentStep:t,onChange:H}),a.jsx(ge.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:qa.card,borderColor:qa.border},children:a.jsxs("form",{onSubmit:ae,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[t===1&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(Ih,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx(Ih,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ld,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:ne,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>a.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),O&&a.jsx(Ml,{children:O}),w.attached_Number&&a.jsx(Ml,{children:w.attached_Number})]}),a.jsx(Ih,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Ld,{children:"System Prompt"}),a.jsx(FT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&a.jsx(Ml,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Ld,{children:"First Message"}),a.jsx(FT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&a.jsx(Ml,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(VT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),a.jsx(VT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(UT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:D=>{G();const K=D.target.value;b(q=>({...q,voice_provider:K,voice:"",voice_model:""})),m(!1),j(q=>({...q,voice:"",voice_model:""}))},options:hde,error:w.voice_provider}),a.jsx(UT,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{G(),x(D.target.value),m(!1)},options:pde}),a.jsx(Ih,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:qa.border},children:"No voices match this filter."}),E.map(D=>a.jsxs(ge.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===D.name?"#93c5fd":qa.border,backgroundColor:g.voice===D.name?"#eff6ff":qa.card},onClick:()=>{b(K=>({...K,voice:D.name,voice_model:D.voice,voice_provider:D.provider||g.voice_provider})),m(!0),j(K=>({...K,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(vde,{isActive:l&&g.voice===D.name,onPlay:()=>V(D.audioSr||""),onStop:G})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&a.jsx(Ml,{children:w.voice})]},"step2"),t===3&&a.jsx(ge.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:qa.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(jl,{label:"Name",value:g.name||""}),a.jsx(jl,{label:"Model",value:`${g.provider}  ${g.model}`}),a.jsx(jl,{label:"Voice Provider",value:g.voice_provider}),a.jsx(jl,{label:"Voice",value:g.voice||""}),a.jsx(jl,{label:"Voice Model",value:g.voice_model||""}),a.jsx(jl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),a.jsx(jl,{label:"Attach Number",value:g.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(Kb,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(Kb,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(Kb,{onClick:()=>H(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(BT,{onClick:U,children:["Next ",a.jsx(zn,{className:"ml-1 h-4 w-4"})]}):a.jsx(BT,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function gde({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:zT.map(({id:n,label:r,Icon:s})=>{const l=e===n;return a.jsxs(ge.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/zT.length*100}%`}})})]})}function BT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Kb({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Ld({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ml({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Ih({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Ld,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&a.jsx(Ml,{children:s})]})}function UT({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Ld,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Ml,{children:l})]})}function FT({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function VT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function jl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:qa.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function vde({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(xc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(mf,{className:"h-5 w-5"})})})}const Ve={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},yde=()=>{const{assistantId:e}=cf(),t=Vt(),[n,r]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(1),[f,m]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[g,b]=v.useState(!0),w=v.useRef(null),j=[...jb,...Nb].sort((M,V)=>M.showName.localeCompare(V.showName));v.useEffect(()=>{(async()=>{const V=localStorage.getItem("token");if(!V){Y.error("No authentication token found. Please log in."),t("/login");return}try{const G=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(G.status===401)throw new Error("Unauthorized: Please log in again");{const ne=await G.text();throw new Error(`HTTP error! Status: ${G.status}`)}}const U=(await G.json()).assistants.find(ne=>ne.assistant_id===e);if(!U)throw new Error("Assistant not found");m({name:U.name||"",phone:U.phone||"",system_prompt:U.system_prompt||"",first_message:U.first_message||"",files:null,existing_file_urls:U.file_urls||[],voice:U.voice||"",voiceSet:"all"}),b(!1)}catch(G){console.error("Error fetching assistant:",G.message),Y.error(G.message),t("/")}})()},[e,t]),v.useEffect(()=>{var M;if(c===2&&!f.voice){const V=j.filter(G=>f.voiceSet==="voiceset1"?jb.includes(G):f.voiceSet==="voiceset2"?Nb.includes(G):!0);V.length>0&&((M=V[0])!=null&&M.name)&&(m(G=>({...G,voice:V[0].name})),x(G=>({...G,voice:""})))}},[f.voiceSet,c]);const S=M=>{const{id:V,value:G}=M.target;m(H=>({...H,[V]:G})),x(H=>({...H,[V]:""}))},_=M=>{m(V=>({...V,files:M.target.files})),x(V=>({...V,files:""}))},C=()=>{const M={...h};let V=!0;const G=/^\+\d{10,15}$/,H=["text/plain","application/pdf","text/csv"],U=5*1024*1024;if(f.name.trim()||(M.name="Please enter an assistant name",V=!1),f.phone?G.test(f.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",V=!1):(M.phone="Please select a phone number",V=!1),f.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",V=!1),f.first_message.trim()||(M.first_message="Please enter a first message",V=!1),f.files&&f.files.length>0)for(let ne=0;ne<f.files.length;ne++){if(!H.includes(f.files[ne].type)){M.files="Only .txt, .pdf, and .csv files are allowed",V=!1;break}if(f.files[ne].size>U){M.files="Each file must be under 5MB",V=!1;break}}return x(M),V},k=()=>{const M={...h};let V=!0;return f.voice||(M.voice="Please select a voice",V=!1),x(M),V},O=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const V=new Audio(M);w.current=V,l(!0),V.play().catch(G=>{console.error("Error playing audio:",G),Y.error("Failed to play voice preview"),l(!1)}),V.onended=()=>{l(!1),w.current=null}},A=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},E=M=>{M!==c&&(d(M),A())},L=async M=>{if(M.preventDefault(),n)return;const V=C(),G=k();if(!V){d(1);return}if(!G){d(2);return}r(!0),A();try{const H=new FormData;if(H.append("assistantName",f.name),H.append("phone",f.phone),H.append("systemPrompt",f.system_prompt),H.append("firstMessage",f.first_message),H.append("voice",f.voice),f.files)for(let we=0;we<f.files.length;we++)H.append("files",f.files[we]);f.existing_file_urls.length>0&&H.append("file_urls",JSON.stringify(f.existing_file_urls));const U=localStorage.getItem("token");if(!U)throw new Error("No authentication token found. Please log in.");const ne=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${U}`},body:H});if(!ne.ok){const we=await ne.text();throw new Error(`HTTP error! Status: ${ne.status}`)}Y.success("Assistant updated successfully!"),t("/admin/assistants")}catch(H){console.error("Error updating assistant:",H.message),Y.error(H.message)}finally{r(!1)}};return g?a.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:Ve.background},children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:Ve.primary}})}):a.jsx("div",{className:"min-h-screen",style:{backgroundColor:Ve.background},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:Ve.border},children:a.jsx("h1",{className:"text-3xl font-bold",style:{color:Ve.text},children:"Edit Assistant"})}),a.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[a.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),a.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),a.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:Ve.card,borderColor:Ve.border},children:a.jsxs("form",{onSubmit:L,noValidate:!0,children:[c===1&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),a.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),a.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},children:[a.jsx("option",{value:"",children:"Select a phone number"}),a.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),a.jsx("option",{value:"+1987654321",children:"+1987654321"}),a.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),a.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),a.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),a.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:_,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card}}),h.files&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),a.jsx("p",{className:"text-sm mt-2",style:{color:Ve.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-medium",style:{color:Ve.text},children:"Existing Files:"}),a.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((M,V)=>a.jsx("li",{children:a.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:Ve.primary},children:M})},V))})]})]})]}),c===2&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),a.jsx("div",{className:"mb-6",children:a.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:M=>{m(V=>({...V,voiceSet:M.target.value,voice:""})),x(V=>({...V,voice:""})),A()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},children:[a.jsx("option",{value:"all",children:"All Voices"}),a.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),a.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>f.voiceSet==="voiceset1"?jb.includes(M):f.voiceSet==="voiceset2"?Nb.includes(M):!0).map(M=>M&&M.name?a.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===M.name?Ve.radioBorder:Ve.border,backgroundColor:f.voice===M.name?Ve.hover:Ve.card},onClick:()=>{console.log("Selected voice:",M),m(V=>({...V,voice:M.name})),x(V=>({...V,voice:""}))},children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===M.name?Ve.radioBorder:Ve.border,backgroundColor:f.voice===M.name?Ve.radioSelected:"transparent"},children:f.voice===M.name&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),a.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",style:{color:Ve.text},children:M.showName||"Unnamed Voice"}),a.jsx("p",{className:"text-sm",style:{color:Ve.lightText},children:M.gender||"Unknown"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),O(M.audioSr||"")},disabled:s&&f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.secondary,color:"white"},title:s&&f.voice!==M.name?"Audio playing":"Play voice preview",children:s&&f.voice===M.name?a.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),a.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),A()},disabled:!s||f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.danger,color:"white"},title:"Stop voice preview",children:a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&a.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:Ve.border,color:Ve.text},children:"Back"}),c===1&&a.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:Ve.primary,color:"white"},children:"Next"}),c===2&&a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},zh="https://aisdr-dbt.ddns.net";function bde(){const e=Vt(),[t,n]=v.useState([]),[r,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,E]=v.useState(null),[L,M]=v.useState([]),[V,G]=v.useState(!1),[H,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ne,we]=v.useState(1),ae=10,D=v.useMemo(()=>localStorage.getItem("token"),[]),K=async()=>{try{c(!0);const X=await fetch(`${zh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const fe=await X.json(),Z=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.assistants)?fe.assistants:[];n(Z)}catch(X){console.error(X),Y.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{K()},[]),v.useEffect(()=>{if(!d)return;const X=setInterval(K,15e3);return()=>clearInterval(X)},[d]);const q=v.useMemo(()=>{let X=[...t];x!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.provider)||"").toLowerCase()===x)),b!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.category)||"").toLowerCase()===b));const fe=m.trim().toLowerCase();return fe&&(X=X.filter(Z=>[Z==null?void 0:Z.name,Z==null?void 0:Z.model,Z==null?void 0:Z.voice,Z==null?void 0:Z.category,Z==null?void 0:Z.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(fe)))),X.sort((Z,Ne)=>{if(j==="created_at"){const Ae=Z!=null&&Z.created_at?new Date(Z.created_at).getTime():0,Je=Ne!=null&&Ne.created_at?new Date(Ne.created_at).getTime():0;return _==="asc"?Ae-Je:Je-Ae}const Te=((Z==null?void 0:Z[j])??"").toString().toLowerCase(),Ue=((Ne==null?void 0:Ne[j])??"").toString().toLowerCase();return Te<Ue?_==="asc"?-1:1:Te>Ue?_==="asc"?1:-1:0}),X},[t,m,x,b,j,_]),F=v.useMemo(()=>{const X=new Set((t||[]).map(fe=>((fe==null?void 0:fe.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),T=v.useMemo(()=>{const X=new Set((t||[]).map(fe=>((fe==null?void 0:fe.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),R=Math.max(1,Math.ceil(q.length/ae)),I=Math.min(ne,R),W=q.slice((I-1)*ae,I*ae),ce=v.useMemo(()=>q.length?q.reduce((X,fe)=>{const Z=X!=null&&X.created_at?new Date(X.created_at):null,Ne=fe!=null&&fe.created_at?new Date(fe.created_at):null;return!Z&&Ne?fe:!Ne&&Z||!Z&&!Ne?X:Ne>Z?fe:X},q[0]):null,[q]),B=X=>{j===X?C(fe=>fe==="asc"?"desc":"asc"):(S(X),C("asc"))},$=X=>{E(X),O(!0)},ie=async()=>{if(A)try{const X=await fetch(`${zh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!X.ok){let fe=`HTTP ${X.status}`;try{const Z=await X.json();Z!=null&&Z.detail&&(fe=Z.detail)}catch{}throw new Error(fe)}Y.success("Assistant deleted"),M(fe=>fe.filter(Z=>Z!==A)),K()}catch(X){console.error(X),Y.error((X==null?void 0:X.message)||"Delete failed")}finally{O(!1),E(null)}},te=X=>{const fe=X==null?void 0:X.knowledge_base;if(Array.isArray(fe)&&fe.length){const Z=fe.filter(Ne=>typeof Ne=="string"&&/^https?:\/\//i.test(Ne));if(Z.length){Z.forEach(Ne=>window.open(Ne,"_blank","noopener"));return}}Y.info("No file URLs available for this assistant.")},pe=X=>{if(!(X!=null&&X.vapi_assistant_id)){Y.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:X.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),G(!0)},be=async X=>{X.preventDefault();const{vapi_assistant_id:fe,number:Z,first_name:Ne,last_name:Te,email:Ue}=H;if(!Z)return Y.error("Enter the customer's phone number (E.164 preferred)");try{const Ae=`${zh}/api/phone-call/${encodeURIComponent(fe)}/${encodeURIComponent(Z)}`,Je={first_name:Ne||"Caller",last_name:Te||"",email:Ue||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Z,custom_field_01:null,custom_field_02:null},Ye=await fetch(Ae,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(Je)}),vt=await Ye.json().catch(()=>({}));if(!Ye.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${Ye.status}`);Y.success("Call initiated"),G(!1)}catch(Ae){console.error(Ae),Y.error((Ae==null?void 0:Ae.message)||"Failed to initiate call")}},je=X=>L.includes(X),de=X=>{M(fe=>fe.includes(X)?fe.filter(Z=>Z!==X):[...fe,X])},Oe=()=>{const X=W.map(Z=>Z.id).filter(Boolean),fe=X.every(Z=>L.includes(Z));M(Z=>fe?Z.filter(Ne=>!X.includes(Ne)):Array.from(new Set([...Z,...X])))},Be=async()=>{if(!L.length)return Y.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const X of L)await fetch(`${zh}/api/assistants/${X}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});Y.success("Bulk delete complete"),M([]),K()}catch(X){console.error(X),Y.error("Bulk delete encountered an error")}},Ze=()=>{const X=["Name","Model","Voice","Attached Number","Category","Created"],fe=q.map(Ae=>[(Ae==null?void 0:Ae.name)??"",(Ae==null?void 0:Ae.model)??"",(Ae==null?void 0:Ae.voice)??"",(Ae==null?void 0:Ae.attached_Number)??"",(Ae==null?void 0:Ae.category)??"",Ae!=null&&Ae.created_at?new Date(Ae.created_at).toLocaleString():""]),Z=[X,...fe].map(Ae=>Ae.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),Ne=new Blob([Z],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(Ne),Ue=document.createElement("a");Ue.href=Te,Ue.download="assistants.csv",Ue.click(),URL.revokeObjectURL(Te)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((X,fe)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},fe))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((X,fe)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Z,Ne)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},Ne))})]})},fe))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Pc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[q.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tp,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(X=>!X),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:K,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(gL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:Ze,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(pL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(Jp,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:X=>h(X.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(HT,{label:"Provider",value:x,onChange:g,options:F,icon:a.jsx(xL,{className:"h-4 w-4"})}),a.jsx(HT,{label:"Category",value:b,onChange:w,options:T,icon:a.jsx(Ec,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Bh,{title:"Total Assistants",value:q.length,icon:a.jsx(Pc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(Bh,{title:"Active Calls",value:"24",icon:a.jsx(Vi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(Bh,{title:"Success Rate",value:"94.2%",icon:a.jsx(ns,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(Bh,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:a.jsx(tp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(ns,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Oe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),q.length===0?a.jsx(Sde,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(wde,{className:"w-12 text-center",checked:W.every(X=>L.includes(X.id))&&W.length>0,onChange:Oe}),a.jsx(Zo,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:B}),a.jsx(Zo,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:B}),a.jsx(Zo,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:B}),a.jsx(Zo,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:B}),a.jsx(Zo,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:B}),a.jsx(Zo,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:B}),a.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(X=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${je(X.id)?"bg-blue-50/50":""}`,children:[a.jsx(jde,{className:"w-12 text-center",checked:je(X.id),onChange:()=>de(X.id)}),a.jsx("td",{className:"w-[24%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Ec,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:X.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(X.knowledge_base)?X.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(hc,{variant:"secondary",children:X.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(hc,{variant:"accent",children:X.voice||""})})}),a.jsx("td",{className:"w-[16%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:X.attached_Number||""}),X.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>_de(X.attached_Number),children:a.jsx(hL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:X.category?a.jsx(hc,{variant:"primary",children:X.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:X.created_at?new Date(X.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(Uh,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${X.id}`),variant:"primary",children:a.jsx(Zp,{className:"h-4 w-4"})}),a.jsx(Uh,{title:"View Files",onClick:()=>te(X),variant:"success",children:a.jsx(Qp,{className:"h-4 w-4"})}),a.jsx(Uh,{title:"Start Call",onClick:()=>pe(X),variant:"secondary",children:a.jsx(Vi,{className:"h-4 w-4"})}),a.jsx(Uh,{title:"Delete",onClick:()=>$(X.id),variant:"danger",children:a.jsx(Tc,{className:"h-4 w-4"})})]})})]},X.id??X.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(X=>a.jsx(Nde,{assistant:X,isSelected:je(X.id),onToggleSelect:()=>de(X.id),onEdit:()=>e(`/admin/edit-assistants/${X.id}`),onViewFiles:()=>te(X),onCall:()=>pe(X),onDelete:()=>$(X.id)},X.id??X.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(I-1)*ae+1," to ",Math.min(I*ae,q.length)," of"," ",q.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(qT,{disabled:I<=1,onClick:()=>we(X=>Math.max(1,X-1)),children:[a.jsx(dL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(X,fe)=>{const Z=fe+1;return a.jsx("button",{onClick:()=>we(Z),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Z===I?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Z},Z)})}),a.jsxs(qT,{disabled:I>=R,onClick:()=>we(X=>Math.min(R,X+1)),children:["Next",a.jsx(fL,{className:"h-4 w-4"})]})]})]})]})]}),k&&a.jsx(KT,{onClose:()=>O(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Tc,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ie,children:"Delete Assistant"})]})]})}),V&&a.jsxs(KT,{onClose:()=>G(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Vi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsx(Fh,{label:"Customer Phone Number",value:H.number,onChange:X=>U(fe=>({...fe,number:X})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(Fh,{label:"First Name",value:H.first_name,onChange:X=>U(fe=>({...fe,first_name:X})),placeholder:"John"}),a.jsx(Fh,{label:"Last Name",value:H.last_name,onChange:X=>U(fe=>({...fe,last_name:X})),placeholder:"Doe"})]}),a.jsx(Fh,{label:"Email Address",value:H.email,onChange:X=>U(fe=>({...fe,email:X})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Bh({title:e,value:t,icon:n,trend:r,trendUp:s,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function HT({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>a.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(Xp,{className:"h-4 w-4 text-white/70"})})]})}function hc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function Uh({title:e,onClick:t,children:n,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:n})}function Zo({label:e,sortKey:t,sortDir:n,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(mL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(Xp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function wde({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(ns,{className:"h-3 w-3"})})})})}function jde({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(ns,{className:"h-3 w-3"})})})})}function Nde({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(ns,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Ec,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(hc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(hc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(hc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(Zp,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(Qp,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Vi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Tc,{className:"h-4 w-4"}),"Delete"]})]})]})}function qT({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function KT({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Fh({label:e,value:t,onChange:n,placeholder:r,required:s,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Sde(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Pc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(Jp,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function _de(e){e&&navigator.clipboard.writeText(e).then(()=>Y.success("Copied to clipboard")).catch(()=>Y.info(e))}const GT="https://aisdr-dbt.ddns.net",YT={PHONE_NUMBERS:`${GT}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${GT}/api/admin/phone-numbers/${e}`},Cde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function WT(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function wa({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Vh({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Nl({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Sl({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function kde(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Hh({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Ade({name:e="?",size:t=38,url:n=null}){const r=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:a.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function Ede({children:e,onClose:t,title:n}){return a.jsxs(ge.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(ge.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(wa,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(ir,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Tde(){var K,q;const[e,t]=v.useState([]),[n,r]=v.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[A,E]=v.useState(null),L=v.useCallback(async()=>{if(k){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const F=localStorage.getItem("token");if(!F){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),Y.error("No authentication token found.");return}try{l(!0),d("");const T=await fetch(YT.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${F}`,Accept:"application/json"},mode:"cors"});if(!T.ok){const ie=await T.text();throw new Error(`HTTP ${T.status}${ie?`  ${ie}`:""}`)}const R=await T.json();if(!(R!=null&&R.success)||!Array.isArray(R==null?void 0:R.phone_numbers))throw new Error("Unexpected response shape.");const I=(R.phone_numbers||[]).map(ie=>({id:ie.id,phone_number:ie.phone_number,friendly_name:ie.friendly_name||"",region:ie.region||"",postal_code:ie.postal_code||"",iso_country:(ie.iso_country||"").toUpperCase(),last_month_payment:ie.last_month_payment,created_at:ie.created_at,updated_at:ie.updated_at,attached_assistant:ie.attached_assistant,vapi_phone_uuid:ie.vapi_phone_uuid||null,owner:ie.user||null}));I.sort((ie,te)=>new Date(te.updated_at||te.created_at||0)-new Date(ie.updated_at||ie.created_at||0)),t(I);const W=I.filter(ie=>ie.attached_assistant!==null&&ie.attached_assistant!==void 0).length,ce=R.total_phone_numbers??I.length,B=Math.max(0,ce-W),$=new Set(I.map(ie=>ie.iso_country||"")).size;r({total:ce,attached:W,unattached:B,countries:$})}catch(T){d((T==null?void 0:T.message)||"Failed to load phone numbers"),Y.error((T==null?void 0:T.message)||"Failed to load phone numbers")}finally{l(!1)}},[k]);v.useEffect(()=>{L()},[L]);const M=v.useMemo(()=>{const F=new Set(e.map(T=>T.iso_country).filter(Boolean));return["all",...Array.from(F).sort()]},[e]),V=v.useMemo(()=>{let F=[...e];if(h.trim()){const T=h.trim().toLowerCase();F=F.filter(R=>{var I,W;return String(R.phone_number||"").toLowerCase().includes(T)||String(R.friendly_name||"").toLowerCase().includes(T)||String(R.region||"").toLowerCase().includes(T)||String(R.postal_code||"").toLowerCase().includes(T)||String(((I=R.owner)==null?void 0:I.name)||"").toLowerCase().includes(T)||String(((W=R.owner)==null?void 0:W.email)||"").toLowerCase().includes(T)})}return g!=="all"&&(F=F.filter(T=>g==="attached"?T.attached_assistant:!T.attached_assistant)),w!=="all"&&(F=F.filter(T=>(T.iso_country||"").toUpperCase()===w)),F},[e,h,g,w]),G=Math.max(1,Math.ceil(V.length/C)),H=S*C,U=H-C,ne=V.slice(U,H);v.useEffect(()=>{_(1)},[h,g,w]);const we=F=>E(F),ae=async()=>{const F=A;if(!F)return;const T=localStorage.getItem("token");if(!T)return Y.error("No authentication token found.");const R=e.find(I=>I.id===F);if(R!=null&&R.attached_assistant)return Y.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(F);const I=await fetch(YT.PHONE_NUMBER(F),{method:"DELETE",headers:{Authorization:`Bearer ${T}`,Accept:"application/json"}}),W=await I.json();if(!I.ok||!(W!=null&&W.success))throw new Error((W==null?void 0:W.detail)||(W==null?void 0:W.message)||`HTTP ${I.status}`);Y.success(" Phone number deleted"),t(ce=>ce.filter(B=>B.id!==F)),r(ce=>({...ce,total:Math.max(0,ce.total-1),unattached:Math.max(0,ce.unattached-1)})),E(null)}catch(I){Y.error((I==null?void 0:I.message)||"Delete failed")}finally{m(null)}},D=()=>{const F=localStorage.getItem("admin_token_backup");if(!F){Y.error("No admin backup token found.");return}localStorage.setItem("token",F),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),O(null),Y.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[k&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(Nd,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(K=k.acting_as)==null?void 0:K.email})]})]}),a.jsxs(wa,{onClick:D,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(ir,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(ge.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(ut,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Cde}`,children:"Phone Numbers"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx(wa,{onClick:L,disabled:s||!!k,children:s?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Hh,{label:"Total Numbers",value:n.total,Icon:ut,tone:"blue"}),a.jsx(Hh,{label:"Attached",value:n.attached,Icon:Nd,tone:"cyan"}),a.jsx(Hh,{label:"Unattached",value:n.unattached,Icon:ca,tone:"blue"}),a.jsx(Hh,{label:"Countries",value:n.countries,Icon:Yh,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Rr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:F=>x(F.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!k})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Lc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:g,onChange:F=>b(F.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"attached",children:"Attached"}),a.jsx("option",{value:"unattached",children:"Unattached"})]}),a.jsx("select",{value:w,onChange:F=>j(F.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(F=>a.jsx("option",{value:F,children:F==="all"?"All countries":F},F))}),(h||g!=="all"||w!=="all")&&a.jsx(wa,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!k,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(ut,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",V.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),k?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(Nd,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(wa,{onClick:D,variant:"primary",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(He,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):V.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(ut,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Nl,{children:"Number"}),a.jsx(Nl,{children:"Owner"}),a.jsx(Nl,{children:"Region"}),a.jsx(Nl,{children:"Country"}),a.jsx(Nl,{children:"Status"}),a.jsx(Nl,{children:"Last Month"}),a.jsx(Nl,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(F=>{const T=!!F.attached_assistant;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Sl,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:F.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:F.friendly_name})]})}),a.jsx(Sl,{children:F.owner?a.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[a.jsx(Ade,{name:F.owner.name,size:34}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold truncate",children:F.owner.name}),a.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[a.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),a.jsx("span",{className:"truncate break-all",children:F.owner.email})]})]})]}):a.jsx("div",{className:"text-xs text-slate-500",children:""})}),a.jsx(Sl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-all",children:F.region})]})}),a.jsx(Sl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx(Yh,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:F.iso_country||""})]})}),a.jsx(Sl,{children:T?a.jsxs(Vh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):a.jsxs(Vh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(ca,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),a.jsx(Sl,{children:a.jsx("div",{className:"text-xs font-semibold text-slate-800",children:WT(F.last_month_payment)})}),a.jsx(Sl,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsx(wa,{onClick:()=>we(F.id),variant:"danger",size:"sm",disabled:T,title:T?"Detach from assistant before deleting":"Delete number",children:f===F.id?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(Yn,{className:"h-4 w-4"})})})})]},F.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map((F,T)=>{var I,W;const R=!!F.attached_assistant;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[T===0&&a.jsx(kde,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:F.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:F.friendly_name}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(M6,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"truncate font-semibold",children:((I=F.owner)==null?void 0:I.name)||""}),((W=F.owner)==null?void 0:W.email)&&a.jsx("div",{className:"text-xs text-slate-500 truncate",children:F.owner.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:F.iso_country||""})]}),a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx($s,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-words",children:F.region})]}),a.jsx("div",{className:"col-span-2",children:R?a.jsxs(Vh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):a.jsxs(Vh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(ca,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:a.jsx(wa,{onClick:()=>we(F.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:R,children:f===F.id?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"})," Delete"]})})}),a.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:WT(F.last_month_payment)})]})]},F.id)})})}),V.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:U+1}),"",a.jsx("b",{children:Math.min(H,V.length)})," of ",a.jsx("b",{children:V.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(wa,{onClick:()=>_(F=>Math.max(1,F-1)),disabled:S===1,children:[a.jsx(da,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,G)},(F,T)=>{let R;if(G<=5||S<=3?R=T+1:S>=G-2?R=G-4+T:R=S-2+T,R<1||R>G)return null;const I=S===R;return a.jsx("button",{onClick:()=>_(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${I?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),a.jsxs(wa,{onClick:()=>_(F=>Math.min(G,F+1)),disabled:S>=G,children:["Next ",a.jsx(zn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:A&&a.jsxs(Ede,{onClose:()=>E(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",a.jsx("b",{className:"break-words",children:((q=e.find(F=>F.id===A))==null?void 0:q.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(wa,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),a.jsx(wa,{onClick:ae,disabled:f===A,variant:"danger",children:f===A?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const Pde=()=>{const[e,t]=v.useState([]),[n,r]=v.useState({name:"",id:null}),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),g=Vt();v.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch leads");const E=await A.json();t(E)}catch(A){console.error("Error fetching leads:",A)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error creating lead:",A)}},j=A=>{r({name:A.name,id:A.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error updating lead:",A)}},_=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),b()}catch(A){console.error("Error deleting lead:",A)}},C=A=>{g(`/admin/lead/${A}`)},k=e.length,O=e.length>0?e[e.length-1]:null;return a.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),a.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:k})]}),a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:O?`${O.name} (${O.created_at})`:"No leads yet"})]})]}),a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs("button",{onClick:()=>{l(!s),d(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:A=>r({...n,name:A.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:_,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),a.jsxs("table",{className:"w-full text-sm sm:text-base",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{className:"hidden sm:table-row",children:[a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),A.id]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),A.name]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),A.created_at]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsx("button",{onClick:()=>C(A.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:a.jsx(kK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:a.jsx(CK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>{x(A.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:a.jsx(EK,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},A.id))})]})]})]})})},XT="https://aisdr-dbt.ddns.net",ZT={LIST:`${XT}/api/admin/leadss`,UPDATE:e=>`${XT}/api/admin/leads/${e}`};function Jl(...e){return e.filter(Boolean).join(" ")}const Er=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Ode(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function Mde(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}function QT(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const Dde={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},JT={show:{transition:{staggerChildren:.05}}},Rde={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Lde={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function Qo({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return a.jsx("span",{className:Jl("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Gb({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(ge.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function $de(){const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(""),m=Ode(d,250),[h,x]=v.useState("add_date"),[g,b]=v.useState("desc"),[w,j]=v.useState(1),[S,_]=v.useState(12),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[E,L]=v.useState(null),[M,V]=v.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function G(){if(!e.current){s(!1),Y.error("No auth token found. Please log in.");return}try{s(!0);const W=await fetch(ZT.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const ce=await W.json(),B=Array.isArray(ce)?ce:Array.isArray(ce==null?void 0:ce.leads)?ce.leads:[];n(B)}catch(W){console.error(W),Y.error("Failed to fetch leads"),n([])}finally{s(!1)}}v.useEffect(()=>{G()},[]);async function H(){c(!0),await G(),c(!1)}const U=v.useMemo(()=>{const W=m.trim().toLowerCase();let ce=t.filter($=>W?[`${$.first_name||""} ${$.last_name||""}`.toLowerCase(),($.email||"").toLowerCase(),($.mobile||"").toLowerCase(),($.salesforce_id||"").toLowerCase(),($.state||"").toLowerCase()].some(pe=>pe.includes(W)):!0);const B=g==="asc"?1:-1;return ce.sort(($,ie)=>{const te=`${$.first_name||""} ${$.last_name||""}`.trim().toLowerCase(),pe=`${ie.first_name||""} ${ie.last_name||""}`.trim().toLowerCase();let be,je;switch(h){case"name":be=te,je=pe;break;case"email":be=($.email||"").toLowerCase(),je=(ie.email||"").toLowerCase();break;case"mobile":be=($.mobile||"").toLowerCase(),je=(ie.mobile||"").toLowerCase();break;case"state":be=($.state||"").toLowerCase(),je=(ie.state||"").toLowerCase();break;case"add_date":default:be=new Date($.add_date||0).getTime(),je=new Date(ie.add_date||0).getTime()}return be<je?-1*B:be>je?1*B:0}),ce},[t,m,h,g]),ne=U.length,we=Math.max(1,Math.ceil(ne/S));v.useEffect(()=>{w>we&&j(we)},[w,we]);const ae=(w-1)*S,D=ae+S,K=U.slice(ae,D),q=v.useMemo(()=>{const W=U.filter(B=>!B.dnc).length,ce=U.filter(B=>!!B.dnc).length;return{total:U.length,callable:W,dnc:ce}},[U]);function F(W){L(W),V({first_name:W.first_name||"",last_name:W.last_name||"",email:W.email||"",add_date:Mde(W.add_date),salesforce_id:W.salesforce_id||"",mobile:W.mobile||"",state:W.state||""}),k(!0)}function T(W){const{name:ce,value:B}=W.target;V($=>({...$,[ce]:B}))}async function R(){if(!E)return;if(!e.current){Y.error("No auth token found.");return}const W={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{A(!0);const ce=await fetch(ZT.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(W)}),B=await ce.json().catch(()=>({}));if(!ce.ok||(B==null?void 0:B.success)===!1)throw new Error((B==null?void 0:B.detail)||`HTTP ${ce.status}`);const $=(B==null?void 0:B.updated_lead)||{...E,...W};n(ie=>ie.map(te=>te.id===E.id?{...te,...$}:te)),Y.success("Lead updated"),k(!1),L(null)}catch(ce){console.error(ce),Y.error((ce==null?void 0:ce.message)||"Update failed")}finally{A(!1)}}function I(W){x(ce=>ce===W?(b(B=>B==="asc"?"desc":"asc"),ce):(b(W==="add_date"?"desc":"asc"),W)),j(1)}return a.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),a.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),a.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:a.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black tracking-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),a.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(e6,{onClick:H,icon:a.jsx(He,{className:Jl("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-2",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{value:d,onChange:W=>{f(W.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:ne})]}),a.jsx("select",{value:S,onChange:W=>{_(Number(W.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(W=>a.jsxs("option",{value:W,children:[W," / page"]},W))})]})]})]})}),a.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(Gb,{label:"Total Leads",value:q.total,Icon:tr,tone:"blue"}),a.jsx(Gb,{label:"Callable",value:q.callable,Icon:ar,tone:"cyan"}),a.jsx(Gb,{label:"DNC",value:q.dnc,Icon:ca,tone:"blue"})]})}),a.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[a.jsx(ge.div,{initial:"hidden",animate:"show",variants:JT,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("table",{className:"min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:a.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[a.jsx(xd,{sortKey:"add_date",sortBy:h,sortDir:g,onSort:I,children:"Added"}),a.jsx(xd,{sortKey:"name",sortBy:h,sortDir:g,onSort:I,children:"Name"}),a.jsx(xd,{sortKey:"email",sortBy:h,sortDir:g,onSort:I,children:"Email"}),a.jsx(xd,{sortKey:"mobile",sortBy:h,sortDir:g,onSort:I,children:"Mobile"}),a.jsx(xd,{sortKey:"state",sortBy:h,sortDir:g,onSort:I,children:"State"}),a.jsx("th",{className:"px-5 py-3",children:"SFDC"}),a.jsx("th",{className:"px-5 py-3",children:"Status"}),a.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r?a.jsx(n6,{rows:8,cols:8}):K.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):K.map(W=>{const ce=`${Er(W.first_name)} ${W.last_name?Er(W.last_name):""}`.trim();return a.jsxs(ge.tr,{variants:Dde,className:"hover:bg-slate-50/70 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:W.add_date?a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(cz,{className:"h-4 w-4 text-slate-400"}),QT(W.add_date)]}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ce}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(Pa,{className:"h-4 w-4 text-slate-400"}),Er(W.email)]})}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(w5,{className:"h-4 w-4 text-slate-400"}),Er(W.mobile)]})}),a.jsx("td",{className:"px-5 py-3",children:W.state?a.jsx(Qo,{tone:"blue",children:Er(W.state)}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 text-slate-800",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(g5,{className:"h-4 w-4 text-slate-400"}),Er(W.salesforce_id)]})}),a.jsx("td",{className:"px-5 py-3",children:W.dnc?a.jsx(Qo,{tone:"red",children:"DNC"}):a.jsx(Qo,{tone:"green",children:"Callable"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(Yb,{onClick:()=>F(W),icon:a.jsx(y5,{className:"h-4 w-4"}),children:"Edit"})})})]},W.id)})})]})}),a.jsx("div",{className:"lg:hidden",children:r?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:a.jsx(n6,{rows:6,cols:1})}):K.length===0?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):a.jsx(ge.div,{initial:"hidden",animate:"show",variants:JT,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:K.map(W=>{const ce=`${Er(W.first_name)} ${W.last_name?Er(W.last_name):""}`.trim();return a.jsxs(ge.article,{variants:Rde,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ce}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:W.add_date?QT(W.add_date):"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[W.state?a.jsx(Qo,{tone:"blue",children:Er(W.state)}):null,W.dnc?a.jsx(Qo,{tone:"red",children:"DNC"}):a.jsx(Qo,{tone:"green",children:"Callable"})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[a.jsx(qh,{icon:a.jsx(Pa,{className:"h-4 w-4"}),label:"Email",value:Er(W.email),copySafe:!0}),a.jsx(qh,{icon:a.jsx(w5,{className:"h-4 w-4"}),label:"Mobile",value:Er(W.mobile),copySafe:!0}),a.jsx(qh,{icon:a.jsx(g5,{className:"h-4 w-4"}),label:"SFDC",value:Er(W.salesforce_id)}),W.timezone?a.jsx(qh,{icon:a.jsx(Ud,{className:"h-4 w-4"}),label:"Timezone",value:Er(W.timezone)}):null]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(Yb,{onClick:()=>F(W),icon:a.jsx(y5,{className:"h-4 w-4"}),children:"Edit"})})]},W.id)})})}),!r&&ne>0&&a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[a.jsxs("div",{className:"text-sm",children:["Showing ",a.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(D,ne)})," of ",ne]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(t6,{disabled:w<=1,onClick:()=>j(W=>Math.max(1,W-1)),children:[a.jsx(da,{className:"h-4 w-4"})," Prev"]}),a.jsxs("div",{className:"text-sm",children:["Page ",a.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",we]}),a.jsxs(t6,{disabled:w>=we,onClick:()=>j(W=>Math.min(we,W+1)),children:["Next ",a.jsx(zn,{className:"h-4 w-4"})]})]})]})]}),a.jsx(_t,{children:C&&a.jsxs(a.Fragment,{children:[a.jsx(ge.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Lde,initial:"hidden",animate:"show",exit:"exit",onClick:()=>k(!1)}),a.jsxs(ge.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>k(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:a.jsx(ir,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",a.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(e6,{onClick:()=>k(!1),children:"Cancel"}),a.jsx(Yb,{onClick:R,disabled:O,icon:O?a.jsx(Gn,{className:"h-4 w-4 animate-spin"}):void 0,children:O?"Saving":"Save"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(_l,{label:"First name",name:"first_name",value:M.first_name,onChange:T}),a.jsx(_l,{label:"Last name",name:"last_name",value:M.last_name,onChange:T}),a.jsx(_l,{label:"Email",name:"email",value:M.email,onChange:T,type:"email"}),a.jsx(_l,{label:"Mobile",name:"mobile",value:M.mobile,onChange:T}),a.jsx(_l,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:T}),a.jsx(_l,{label:"Add date",name:"add_date",value:M.add_date,onChange:T,type:"date"}),a.jsx(_l,{label:"State",name:"state",value:M.state,onChange:T})]}),a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function Yb({children:e,onClick:t,disabled:n,icon:r,type:s="button"}){return a.jsxs(ge.button,{whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:Jl("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function e6({children:e,onClick:t,icon:n,type:r="button"}){return a.jsxs(ge.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function t6({children:e,disabled:t,onClick:n}){return a.jsx(ge.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Jl("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function xd({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:s}){const l=n===t;return a.jsx("th",{className:Jl("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:Jl("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function n6({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function _l({label:e,name:t,value:n,onChange:r,type:s="text"}){return a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:s,name:t,value:n,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function qh({label:e,value:t,copySafe:n=!1,icon:r}){return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:Jl("text-sm text-slate-800",n?"break-all":"break-words"),children:t})]})]})}const Ide=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(0),w=v.useRef(null),j=v.useRef(null),{id:S}=cf(),_=5*1024*1024,C=()=>localStorage.getItem("token")||null;v.useEffect(()=>{const U=ne=>{c&&(ne.key==="Enter"||ne.key==="Escape")&&d(!1)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[c]);const k=U=>{U.preventDefault(),U.stopPropagation(),r(!0)},O=U=>{U.preventDefault(),U.stopPropagation(),r(!1)},A=U=>{U.preventDefault(),U.stopPropagation()},E=U=>{U.preventDefault(),U.stopPropagation(),r(!1);const ne=U.dataTransfer.files[0];ne&&ne.type==="text/csv"?ne.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ne):(m("Please upload a valid CSV file."),x(!1),d(!0))},L=U=>{const ne=U.target.files[0];ne&&ne.type==="text/csv"?ne.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ne):(m("Please upload a valid CSV file."),x(!1),d(!0))},M=()=>{w.current.click()},V=()=>{const U=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ne=new Blob([U],{type:"text/csv"}),we=window.URL.createObjectURL(ne),ae=document.createElement("a");ae.href=we,ae.download="sample_users.csv",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(we)},G=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const U=C();if(!U){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const ne=new FormData;ne.append("file",e);try{l(!0),b(0);const we=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${U}`},body:ne});if(b(100),we.ok){const ae=await we.json();console.log("File uploaded successfully:",ae),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let ae=`HTTP error! status: ${we.status}`;try{const D=await we.json();D&&D.error&&(ae=D.error)}catch{}throw new Error(ae)}}catch(we){console.error("Error uploading file:",we),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),b(0)}},H=U=>U<1024?`${U} B`:U<1024*1024?`${(U/1024).toFixed(2)} KB`:`${(U/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[a.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:k,onDragOver:A,onDragLeave:O,onDrop:E,children:a.jsxs("div",{className:"text-center",children:[a.jsx(AO,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:L,ref:w,className:"hidden"}),a.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),a.jsxs("button",{onClick:V,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[a.jsx(CO,{}),"Download Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",H(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:G,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:a.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?a.jsx(_O,{className:"text-green-400 text-2xl"}):a.jsx(kO,{className:"text-red-400 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-500 mb-6",children:f}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function mr({children:e}){const t=Vt(),[n,r]=v.useState(!1),[s,l]=v.useState(!0);return v.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){Y.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?r(!0):d==="admin"?(Y.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(Y.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?a.jsx("div",{children:"Loading..."}):n?e:null}function ba({children:e}){const t=Vt(),[n,r]=v.useState(!1);return v.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){Y.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(Y.error("You are not authorized to access this page."),t("/user",{replace:!0})):(Y.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{Y.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),n?e:null}function zde(){return a.jsxs(a.Fragment,{children:[a.jsx(iI,{children:a.jsxs($7,{children:[a.jsx(ct,{path:"/",element:a.jsx(R7,{to:"/signup"})}),a.jsx(ct,{path:"/signup",element:a.jsx(GB,{})}),a.jsx(ct,{path:"/login",element:a.jsx(Uq,{})}),a.jsx(ct,{path:"/otp",element:a.jsx(Bq,{})}),a.jsx(ct,{path:"/forget_password",element:a.jsx(Vq,{})}),a.jsx(ct,{path:"/profile",element:a.jsx(pK,{})}),a.jsxs(ct,{path:"/user",element:a.jsx(OK,{}),children:[a.jsx(ct,{path:"dashboard",element:a.jsx(mr,{children:a.jsx(gce,{})})}),a.jsx(ct,{path:"Appointments",element:a.jsx(mr,{children:a.jsx(Bue,{})})}),a.jsx(ct,{path:"PhoneCalls",element:a.jsx(mr,{children:a.jsx(Ece,{})})}),a.jsx(ct,{path:"callhistory",element:a.jsx(mr,{children:a.jsx(qce,{})})}),a.jsx(ct,{path:"settings",element:a.jsx(mr,{children:a.jsx(Hce,{})})}),a.jsx(ct,{path:"CRM",element:a.jsx(mr,{children:a.jsx(Lue,{})})}),a.jsx(ct,{path:"callassistent",element:a.jsx(mr,{children:a.jsx(Kce,{})})}),a.jsx(ct,{path:"edit-assistant/:assistantId",element:a.jsx(mr,{children:a.jsx(eue,{})})}),a.jsx(ct,{path:"assistant/create",element:a.jsx(mr,{children:a.jsx(iue,{})})}),a.jsx(ct,{path:"leads",element:a.jsx(mr,{children:a.jsx(uue,{})})}),a.jsx(ct,{path:"lead/:id",element:a.jsx(mr,{children:a.jsx(hue,{})})}),a.jsx(ct,{path:"upload-csv",element:a.jsx(mr,{children:a.jsx(gue,{})})}),a.jsx(ct,{path:"campaigns",element:a.jsx(mr,{children:a.jsx(kT,{})})}),a.jsx(ct,{path:"campain",element:a.jsx(mr,{children:a.jsx(kT,{})})})]}),a.jsxs(ct,{path:"/admin",element:a.jsx(Kue,{}),children:[a.jsx(ct,{path:"dashboard",element:a.jsx(ba,{children:a.jsx(ide,{})})}),a.jsx(ct,{path:"Users",element:a.jsx(ba,{children:a.jsx(Xue,{})})}),a.jsx(ct,{path:"PhoneCalls",element:a.jsx(ba,{children:a.jsx(ude,{})})}),a.jsx(ct,{path:"settings",element:a.jsx(ba,{children:a.jsx(lde,{})})}),a.jsx(ct,{path:"addassistands",element:a.jsx(ba,{children:a.jsx(xde,{})})}),a.jsx(ct,{path:"edit-assistants/:assistantId",element:a.jsx(ba,{children:a.jsx(yde,{})})}),a.jsx(ct,{path:"assistants",element:a.jsx(ba,{children:a.jsx(bde,{})})}),a.jsx(ct,{path:"callhistory",element:a.jsx(ba,{children:a.jsx(Tde,{})})}),a.jsx(ct,{path:"lead/:id",element:a.jsx(ba,{children:a.jsx(Pde,{})})}),a.jsx(ct,{path:"lead",element:a.jsx(ba,{children:a.jsx($de,{})})}),a.jsx(ct,{path:"upload-csv",element:a.jsx(ba,{children:a.jsx(Ide,{})})})]}),a.jsx(ct,{path:"*",element:a.jsx(YB,{})})]})}),a.jsx(ZI,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}H9.createRoot(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(zde,{})}));
